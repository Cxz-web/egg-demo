(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors"],{"01f9":function(e,t,r){"use strict";var n=r("2d00"),i=r("5ca1"),o=r("2aba"),a=r("32e9"),s=r("84f2"),c=r("41a0"),u=r("7f20"),d=r("38fd"),p=r("2b4c")("iterator"),f=!([].keys&&"next"in[].keys()),l="@@iterator",h="keys",m="values",v=function(){return this};e.exports=function(e,t,r,g,y,b,w){c(r,t,g);var _,k,T,C=function(e){if(!f&&e in x)return x[e];switch(e){case h:return function(){return new r(this,e)};case m:return function(){return new r(this,e)}}return function(){return new r(this,e)}},S=t+" Iterator",R=y==m,E=!1,x=e.prototype,P=x[p]||x[l]||y&&x[y],I=P||C(y),O=y?R?C("entries"):I:void 0,A="Array"==t&&x.entries||P;if(A&&(T=d(A.call(new e)),T!==Object.prototype&&T.next&&(u(T,S,!0),n||"function"==typeof T[p]||a(T,p,v))),R&&P&&P.name!==m&&(E=!0,I=function(){return P.call(this)}),n&&!w||!f&&!E&&x[p]||a(x,p,I),s[t]=I,s[S]=v,y)if(_={values:R?I:C(m),keys:b?I:C(h),entries:O},w)for(k in _)k in x||o(x,k,_[k]);else i(i.P+i.F*(f||E),t,_);return _}},"044b":function(e,t){function r(e){return!!e.constructor&&"function"===typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}function n(e){return"function"===typeof e.readFloatLE&&"function"===typeof e.slice&&r(e.slice(0,0))}
/*!
 * Determine if an object is a Buffer
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */
e.exports=function(e){return null!=e&&(r(e)||n(e)||!!e._isBuffer)}},"097d":function(e,t,r){"use strict";var n=r("5ca1"),i=r("8378"),o=r("7726"),a=r("ebd6"),s=r("bcaa");n(n.P+n.R,"Promise",{finally:function(e){var t=a(this,i.Promise||o.Promise),r="function"==typeof e;return this.then(r?function(r){return s(t,e()).then(function(){return r})}:e,r?function(r){return s(t,e()).then(function(){throw r})}:e)}})},"0a06":function(e,t,r){"use strict";var n=r("2444"),i=r("c532"),o=r("f6b4"),a=r("5270");function s(e){this.defaults=e,this.interceptors={request:new o,response:new o}}s.prototype.request=function(e){"string"===typeof e&&(e=i.merge({url:arguments[0]},arguments[1])),e=i.merge(n,{method:"get"},this.defaults,e),e.method=e.method.toLowerCase();var t=[a,void 0],r=Promise.resolve(e);this.interceptors.request.forEach(function(e){t.unshift(e.fulfilled,e.rejected)}),this.interceptors.response.forEach(function(e){t.push(e.fulfilled,e.rejected)});while(t.length)r=r.then(t.shift(),t.shift());return r},i.forEach(["delete","get","head","options"],function(e){s.prototype[e]=function(t,r){return this.request(i.merge(r||{},{method:e,url:t}))}}),i.forEach(["post","put","patch"],function(e){s.prototype[e]=function(t,r,n){return this.request(i.merge(n||{},{method:e,url:t,data:r}))}}),e.exports=s},"0a49":function(e,t,r){var n=r("9b43"),i=r("626a"),o=r("4bf8"),a=r("9def"),s=r("cd1c");e.exports=function(e,t){var r=1==e,c=2==e,u=3==e,d=4==e,p=6==e,f=5==e||p,l=t||s;return function(t,s,h){for(var m,v,g=o(t),y=i(g),b=n(s,h,3),w=a(y.length),_=0,k=r?l(t,w):c?l(t,0):void 0;w>_;_++)if((f||_ in y)&&(m=y[_],v=b(m,_,g),e))if(r)k[_]=v;else if(v)switch(e){case 3:return!0;case 5:return m;case 6:return _;case 2:k.push(m)}else if(d)return!1;return p?-1:u||d?d:k}}},"0d58":function(e,t,r){var n=r("ce10"),i=r("e11e");e.exports=Object.keys||function(e){return n(e,i)}},"0df6":function(e,t,r){"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},1169:function(e,t,r){var n=r("2d95");e.exports=Array.isArray||function(e){return"Array"==n(e)}},"11e9":function(e,t,r){var n=r("52a7"),i=r("4630"),o=r("6821"),a=r("6a99"),s=r("69a8"),c=r("c69a"),u=Object.getOwnPropertyDescriptor;t.f=r("9e1e")?u:function(e,t){if(e=o(e),t=a(t,!0),c)try{return u(e,t)}catch(r){}if(s(e,t))return i(!n.f.call(e,t),e[t])}},1495:function(e,t,r){var n=r("86cc"),i=r("cb7c"),o=r("0d58");e.exports=r("9e1e")?Object.defineProperties:function(e,t){i(e);var r,a=o(t),s=a.length,c=0;while(s>c)n.f(e,r=a[c++],t[r]);return e}},1991:function(e,t,r){var n,i,o,a=r("9b43"),s=r("31f4"),c=r("fab2"),u=r("230e"),d=r("7726"),p=d.process,f=d.setImmediate,l=d.clearImmediate,h=d.MessageChannel,m=d.Dispatch,v=0,g={},y="onreadystatechange",b=function(){var e=+this;if(g.hasOwnProperty(e)){var t=g[e];delete g[e],t()}},w=function(e){b.call(e.data)};f&&l||(f=function(e){var t=[],r=1;while(arguments.length>r)t.push(arguments[r++]);return g[++v]=function(){s("function"==typeof e?e:Function(e),t)},n(v),v},l=function(e){delete g[e]},"process"==r("2d95")(p)?n=function(e){p.nextTick(a(b,e,1))}:m&&m.now?n=function(e){m.now(a(b,e,1))}:h?(i=new h,o=i.port2,i.port1.onmessage=w,n=a(o.postMessage,o,1)):d.addEventListener&&"function"==typeof postMessage&&!d.importScripts?(n=function(e){d.postMessage(e+"","*")},d.addEventListener("message",w,!1)):n=y in u("script")?function(e){c.appendChild(u("script"))[y]=function(){c.removeChild(this),b.call(e)}}:function(e){setTimeout(a(b,e,1),0)}),e.exports={set:f,clear:l}},"1d2b":function(e,t,r){"use strict";e.exports=function(e,t){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return e.apply(t,r)}}},"1da1":function(e,t,r){"use strict";function n(e,t,r,n,i,o,a){try{var s=e[o](a),c=s.value}catch(u){return void r(u)}s.done?t(c):Promise.resolve(c).then(n,i)}function i(e){return function(){var t=this,r=arguments;return new Promise(function(i,o){var a=e.apply(t,r);function s(e){n(a,i,o,s,c,"next",e)}function c(e){n(a,i,o,s,c,"throw",e)}s(void 0)})}}r.d(t,"a",function(){return i})},"1fa8":function(e,t,r){var n=r("cb7c");e.exports=function(e,t,r,i){try{return i?t(n(r)[0],r[1]):t(r)}catch(a){var o=e["return"];throw void 0!==o&&n(o.call(e)),a}}},"230e":function(e,t,r){var n=r("d3f4"),i=r("7726").document,o=n(i)&&n(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},"23c6":function(e,t,r){var n=r("2d95"),i=r("2b4c")("toStringTag"),o="Arguments"==n(function(){return arguments}()),a=function(e,t){try{return e[t]}catch(r){}};e.exports=function(e){var t,r,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=a(t=Object(e),i))?r:o?n(t):"Object"==(s=n(t))&&"function"==typeof t.callee?"Arguments":s}},2444:function(e,t,r){"use strict";(function(t){var n=r("c532"),i=r("c8af"),o={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!n.isUndefined(e)&&n.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}function s(){var e;return"undefined"!==typeof XMLHttpRequest?e=r("b50d"):"undefined"!==typeof t&&(e=r("b50d")),e}var c={adapter:s(),transformRequest:[function(e,t){return i(t,"Content-Type"),n.isFormData(e)||n.isArrayBuffer(e)||n.isBuffer(e)||n.isStream(e)||n.isFile(e)||n.isBlob(e)?e:n.isArrayBufferView(e)?e.buffer:n.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):n.isObject(e)?(a(t,"application/json;charset=utf-8"),JSON.stringify(e)):e}],transformResponse:[function(e){if("string"===typeof e)try{e=JSON.parse(e)}catch(t){}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],function(e){c.headers[e]={}}),n.forEach(["post","put","patch"],function(e){c.headers[e]=n.merge(o)}),e.exports=c}).call(this,r("4362"))},2621:function(e,t){t.f=Object.getOwnPropertySymbols},"27ee":function(e,t,r){var n=r("23c6"),i=r("2b4c")("iterator"),o=r("84f2");e.exports=r("8378").getIteratorMethod=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||o[n(e)]}},2877:function(e,t,r){"use strict";function n(e,t,r,n,i,o,a,s){var c,u="function"===typeof e?e.options:e;if(t&&(u.render=t,u.staticRenderFns=r,u._compiled=!0),n&&(u.functional=!0),o&&(u._scopeId="data-v-"+o),a?(c=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),i&&i.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(a)},u._ssrRegister=c):i&&(c=s?function(){i.call(this,this.$root.$options.shadowRoot)}:i),c)if(u.functional){u._injectStyles=c;var d=u.render;u.render=function(e,t){return c.call(t),d(e,t)}}else{var p=u.beforeCreate;u.beforeCreate=p?[].concat(p,c):[c]}return{exports:e,options:u}}r.d(t,"a",function(){return n})},"2aba":function(e,t,r){var n=r("7726"),i=r("32e9"),o=r("69a8"),a=r("ca5a")("src"),s="toString",c=Function[s],u=(""+c).split(s);r("8378").inspectSource=function(e){return c.call(e)},(e.exports=function(e,t,r,s){var c="function"==typeof r;c&&(o(r,"name")||i(r,"name",t)),e[t]!==r&&(c&&(o(r,a)||i(r,a,e[t]?""+e[t]:u.join(String(t)))),e===n?e[t]=r:s?e[t]?e[t]=r:i(e,t,r):(delete e[t],i(e,t,r)))})(Function.prototype,s,function(){return"function"==typeof this&&this[a]||c.call(this)})},"2aeb":function(e,t,r){var n=r("cb7c"),i=r("1495"),o=r("e11e"),a=r("613b")("IE_PROTO"),s=function(){},c="prototype",u=function(){var e,t=r("230e")("iframe"),n=o.length,i="<",a=">";t.style.display="none",r("fab2").appendChild(t),t.src="javascript:",e=t.contentWindow.document,e.open(),e.write(i+"script"+a+"document.F=Object"+i+"/script"+a),e.close(),u=e.F;while(n--)delete u[c][o[n]];return u()};e.exports=Object.create||function(e,t){var r;return null!==e?(s[c]=n(e),r=new s,s[c]=null,r[a]=e):r=u(),void 0===t?r:i(r,t)}},"2b0e":function(e,t,r){"use strict";(function(e){
/*!
 * Vue.js v2.5.21
 * (c) 2014-2018 Evan You
 * Released under the MIT License.
 */
var r=Object.freeze({});function n(e){return void 0===e||null===e}function i(e){return void 0!==e&&null!==e}function o(e){return!0===e}function a(e){return!1===e}function s(e){return"string"===typeof e||"number"===typeof e||"symbol"===typeof e||"boolean"===typeof e}function c(e){return null!==e&&"object"===typeof e}var u=Object.prototype.toString;function d(e){return"[object Object]"===u.call(e)}function p(e){return"[object RegExp]"===u.call(e)}function f(e){var t=parseFloat(String(e));return t>=0&&Math.floor(t)===t&&isFinite(e)}function l(e){return null==e?"":"object"===typeof e?JSON.stringify(e,null,2):String(e)}function h(e){var t=parseFloat(e);return isNaN(t)?e:t}function m(e,t){for(var r=Object.create(null),n=e.split(","),i=0;i<n.length;i++)r[n[i]]=!0;return t?function(e){return r[e.toLowerCase()]}:function(e){return r[e]}}m("slot,component",!0);var v=m("key,ref,slot,slot-scope,is");function g(e,t){if(e.length){var r=e.indexOf(t);if(r>-1)return e.splice(r,1)}}var y=Object.prototype.hasOwnProperty;function b(e,t){return y.call(e,t)}function w(e){var t=Object.create(null);return function(r){var n=t[r];return n||(t[r]=e(r))}}var _=/-(\w)/g,k=w(function(e){return e.replace(_,function(e,t){return t?t.toUpperCase():""})}),T=w(function(e){return e.charAt(0).toUpperCase()+e.slice(1)}),C=/\B([A-Z])/g,S=w(function(e){return e.replace(C,"-$1").toLowerCase()});function R(e,t){function r(r){var n=arguments.length;return n?n>1?e.apply(t,arguments):e.call(t,r):e.call(t)}return r._length=e.length,r}function E(e,t){return e.bind(t)}var x=Function.prototype.bind?E:R;function P(e,t){t=t||0;var r=e.length-t,n=new Array(r);while(r--)n[r]=e[r+t];return n}function I(e,t){for(var r in t)e[r]=t[r];return e}function O(e){for(var t={},r=0;r<e.length;r++)e[r]&&I(t,e[r]);return t}function A(e,t,r){}var j=function(e,t,r){return!1},M=function(e){return e};function L(e,t){if(e===t)return!0;var r=c(e),n=c(t);if(!r||!n)return!r&&!n&&String(e)===String(t);try{var i=Array.isArray(e),o=Array.isArray(t);if(i&&o)return e.length===t.length&&e.every(function(e,r){return L(e,t[r])});if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(i||o)return!1;var a=Object.keys(e),s=Object.keys(t);return a.length===s.length&&a.every(function(r){return L(e[r],t[r])})}catch(u){return!1}}function D(e,t){for(var r=0;r<e.length;r++)if(L(e[r],t))return r;return-1}function $(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}var N="data-server-rendered",U=["component","directive","filter"],F=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured"],B={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:j,isReservedAttr:j,isUnknownElement:j,getTagNamespace:A,parsePlatformTagName:M,mustUseProp:j,async:!0,_lifecycleHooks:F};function V(e){var t=(e+"").charCodeAt(0);return 36===t||95===t}function G(e,t,r,n){Object.defineProperty(e,t,{value:r,enumerable:!!n,writable:!0,configurable:!0})}var H=/[^\w.$]/;function W(e){if(!H.test(e)){var t=e.split(".");return function(e){for(var r=0;r<t.length;r++){if(!e)return;e=e[t[r]]}return e}}}var z,J="__proto__"in{},q="undefined"!==typeof window,Q="undefined"!==typeof WXEnvironment&&!!WXEnvironment.platform,K=Q&&WXEnvironment.platform.toLowerCase(),X=q&&window.navigator.userAgent.toLowerCase(),Z=X&&/msie|trident/.test(X),Y=X&&X.indexOf("msie 9.0")>0,ee=X&&X.indexOf("edge/")>0,te=(X&&X.indexOf("android"),X&&/iphone|ipad|ipod|ios/.test(X)||"ios"===K),re=(X&&/chrome\/\d+/.test(X),{}.watch),ne=!1;if(q)try{var ie={};Object.defineProperty(ie,"passive",{get:function(){ne=!0}}),window.addEventListener("test-passive",null,ie)}catch(sa){}var oe=function(){return void 0===z&&(z=!q&&!Q&&"undefined"!==typeof e&&(e["process"]&&"server"===e["process"].env.VUE_ENV)),z},ae=q&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function se(e){return"function"===typeof e&&/native code/.test(e.toString())}var ce,ue="undefined"!==typeof Symbol&&se(Symbol)&&"undefined"!==typeof Reflect&&se(Reflect.ownKeys);ce="undefined"!==typeof Set&&se(Set)?Set:function(){function e(){this.set=Object.create(null)}return e.prototype.has=function(e){return!0===this.set[e]},e.prototype.add=function(e){this.set[e]=!0},e.prototype.clear=function(){this.set=Object.create(null)},e}();var de=A,pe=0,fe=function(){this.id=pe++,this.subs=[]};fe.prototype.addSub=function(e){this.subs.push(e)},fe.prototype.removeSub=function(e){g(this.subs,e)},fe.prototype.depend=function(){fe.target&&fe.target.addDep(this)},fe.prototype.notify=function(){var e=this.subs.slice();for(var t=0,r=e.length;t<r;t++)e[t].update()},fe.target=null;var le=[];function he(e){le.push(e),fe.target=e}function me(){le.pop(),fe.target=le[le.length-1]}var ve=function(e,t,r,n,i,o,a,s){this.tag=e,this.data=t,this.children=r,this.text=n,this.elm=i,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=t&&t.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},ge={child:{configurable:!0}};ge.child.get=function(){return this.componentInstance},Object.defineProperties(ve.prototype,ge);var ye=function(e){void 0===e&&(e="");var t=new ve;return t.text=e,t.isComment=!0,t};function be(e){return new ve(void 0,void 0,void 0,String(e))}function we(e){var t=new ve(e.tag,e.data,e.children&&e.children.slice(),e.text,e.elm,e.context,e.componentOptions,e.asyncFactory);return t.ns=e.ns,t.isStatic=e.isStatic,t.key=e.key,t.isComment=e.isComment,t.fnContext=e.fnContext,t.fnOptions=e.fnOptions,t.fnScopeId=e.fnScopeId,t.asyncMeta=e.asyncMeta,t.isCloned=!0,t}var _e=Array.prototype,ke=Object.create(_e),Te=["push","pop","shift","unshift","splice","sort","reverse"];Te.forEach(function(e){var t=_e[e];G(ke,e,function(){var r=[],n=arguments.length;while(n--)r[n]=arguments[n];var i,o=t.apply(this,r),a=this.__ob__;switch(e){case"push":case"unshift":i=r;break;case"splice":i=r.slice(2);break}return i&&a.observeArray(i),a.dep.notify(),o})});var Ce=Object.getOwnPropertyNames(ke),Se=!0;function Re(e){Se=e}var Ee=function(e){this.value=e,this.dep=new fe,this.vmCount=0,G(e,"__ob__",this),Array.isArray(e)?(J?xe(e,ke):Pe(e,ke,Ce),this.observeArray(e)):this.walk(e)};function xe(e,t){e.__proto__=t}function Pe(e,t,r){for(var n=0,i=r.length;n<i;n++){var o=r[n];G(e,o,t[o])}}function Ie(e,t){var r;if(c(e)&&!(e instanceof ve))return b(e,"__ob__")&&e.__ob__ instanceof Ee?r=e.__ob__:Se&&!oe()&&(Array.isArray(e)||d(e))&&Object.isExtensible(e)&&!e._isVue&&(r=new Ee(e)),t&&r&&r.vmCount++,r}function Oe(e,t,r,n,i){var o=new fe,a=Object.getOwnPropertyDescriptor(e,t);if(!a||!1!==a.configurable){var s=a&&a.get,c=a&&a.set;s&&!c||2!==arguments.length||(r=e[t]);var u=!i&&Ie(r);Object.defineProperty(e,t,{enumerable:!0,configurable:!0,get:function(){var t=s?s.call(e):r;return fe.target&&(o.depend(),u&&(u.dep.depend(),Array.isArray(t)&&Me(t))),t},set:function(t){var n=s?s.call(e):r;t===n||t!==t&&n!==n||s&&!c||(c?c.call(e,t):r=t,u=!i&&Ie(t),o.notify())}})}}function Ae(e,t,r){if(Array.isArray(e)&&f(t))return e.length=Math.max(e.length,t),e.splice(t,1,r),r;if(t in e&&!(t in Object.prototype))return e[t]=r,r;var n=e.__ob__;return e._isVue||n&&n.vmCount?r:n?(Oe(n.value,t,r),n.dep.notify(),r):(e[t]=r,r)}function je(e,t){if(Array.isArray(e)&&f(t))e.splice(t,1);else{var r=e.__ob__;e._isVue||r&&r.vmCount||b(e,t)&&(delete e[t],r&&r.dep.notify())}}function Me(e){for(var t=void 0,r=0,n=e.length;r<n;r++)t=e[r],t&&t.__ob__&&t.__ob__.dep.depend(),Array.isArray(t)&&Me(t)}Ee.prototype.walk=function(e){for(var t=Object.keys(e),r=0;r<t.length;r++)Oe(e,t[r])},Ee.prototype.observeArray=function(e){for(var t=0,r=e.length;t<r;t++)Ie(e[t])};var Le=B.optionMergeStrategies;function De(e,t){if(!t)return e;for(var r,n,i,o=Object.keys(t),a=0;a<o.length;a++)r=o[a],n=e[r],i=t[r],b(e,r)?n!==i&&d(n)&&d(i)&&De(n,i):Ae(e,r,i);return e}function $e(e,t,r){return r?function(){var n="function"===typeof t?t.call(r,r):t,i="function"===typeof e?e.call(r,r):e;return n?De(n,i):i}:t?e?function(){return De("function"===typeof t?t.call(this,this):t,"function"===typeof e?e.call(this,this):e)}:t:e}function Ne(e,t){return t?e?e.concat(t):Array.isArray(t)?t:[t]:e}function Ue(e,t,r,n){var i=Object.create(e||null);return t?I(i,t):i}Le.data=function(e,t,r){return r?$e(e,t,r):t&&"function"!==typeof t?e:$e(e,t)},F.forEach(function(e){Le[e]=Ne}),U.forEach(function(e){Le[e+"s"]=Ue}),Le.watch=function(e,t,r,n){if(e===re&&(e=void 0),t===re&&(t=void 0),!t)return Object.create(e||null);if(!e)return t;var i={};for(var o in I(i,e),t){var a=i[o],s=t[o];a&&!Array.isArray(a)&&(a=[a]),i[o]=a?a.concat(s):Array.isArray(s)?s:[s]}return i},Le.props=Le.methods=Le.inject=Le.computed=function(e,t,r,n){if(!e)return t;var i=Object.create(null);return I(i,e),t&&I(i,t),i},Le.provide=$e;var Fe=function(e,t){return void 0===t?e:t};function Be(e,t){var r=e.props;if(r){var n,i,o,a={};if(Array.isArray(r)){n=r.length;while(n--)i=r[n],"string"===typeof i&&(o=k(i),a[o]={type:null})}else if(d(r))for(var s in r)i=r[s],o=k(s),a[o]=d(i)?i:{type:i};else 0;e.props=a}}function Ve(e,t){var r=e.inject;if(r){var n=e.inject={};if(Array.isArray(r))for(var i=0;i<r.length;i++)n[r[i]]={from:r[i]};else if(d(r))for(var o in r){var a=r[o];n[o]=d(a)?I({from:o},a):{from:a}}else 0}}function Ge(e){var t=e.directives;if(t)for(var r in t){var n=t[r];"function"===typeof n&&(t[r]={bind:n,update:n})}}function He(e,t,r){if("function"===typeof t&&(t=t.options),Be(t,r),Ve(t,r),Ge(t),!t._base&&(t.extends&&(e=He(e,t.extends,r)),t.mixins))for(var n=0,i=t.mixins.length;n<i;n++)e=He(e,t.mixins[n],r);var o,a={};for(o in e)s(o);for(o in t)b(e,o)||s(o);function s(n){var i=Le[n]||Fe;a[n]=i(e[n],t[n],r,n)}return a}function We(e,t,r,n){if("string"===typeof r){var i=e[t];if(b(i,r))return i[r];var o=k(r);if(b(i,o))return i[o];var a=T(o);if(b(i,a))return i[a];var s=i[r]||i[o]||i[a];return s}}function ze(e,t,r,n){var i=t[e],o=!b(r,e),a=r[e],s=Ke(Boolean,i.type);if(s>-1)if(o&&!b(i,"default"))a=!1;else if(""===a||a===S(e)){var c=Ke(String,i.type);(c<0||s<c)&&(a=!0)}if(void 0===a){a=Je(n,i,e);var u=Se;Re(!0),Ie(a),Re(u)}return a}function Je(e,t,r){if(b(t,"default")){var n=t.default;return e&&e.$options.propsData&&void 0===e.$options.propsData[r]&&void 0!==e._props[r]?e._props[r]:"function"===typeof n&&"Function"!==qe(t.type)?n.call(e):n}}function qe(e){var t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:""}function Qe(e,t){return qe(e)===qe(t)}function Ke(e,t){if(!Array.isArray(t))return Qe(t,e)?0:-1;for(var r=0,n=t.length;r<n;r++)if(Qe(t[r],e))return r;return-1}function Xe(e,t,r){if(t){var n=t;while(n=n.$parent){var i=n.$options.errorCaptured;if(i)for(var o=0;o<i.length;o++)try{var a=!1===i[o].call(n,e,t,r);if(a)return}catch(sa){Ze(sa,n,"errorCaptured hook")}}}Ze(e,t,r)}function Ze(e,t,r){if(B.errorHandler)try{return B.errorHandler.call(null,e,t,r)}catch(sa){Ye(sa,null,"config.errorHandler")}Ye(e,t,r)}function Ye(e,t,r){if(!q&&!Q||"undefined"===typeof console)throw e;console.error(e)}var et,tt,rt=[],nt=!1;function it(){nt=!1;var e=rt.slice(0);rt.length=0;for(var t=0;t<e.length;t++)e[t]()}var ot=!1;if("undefined"!==typeof setImmediate&&se(setImmediate))tt=function(){setImmediate(it)};else if("undefined"===typeof MessageChannel||!se(MessageChannel)&&"[object MessageChannelConstructor]"!==MessageChannel.toString())tt=function(){setTimeout(it,0)};else{var at=new MessageChannel,st=at.port2;at.port1.onmessage=it,tt=function(){st.postMessage(1)}}if("undefined"!==typeof Promise&&se(Promise)){var ct=Promise.resolve();et=function(){ct.then(it),te&&setTimeout(A)}}else et=tt;function ut(e){return e._withTask||(e._withTask=function(){ot=!0;try{return e.apply(null,arguments)}finally{ot=!1}})}function dt(e,t){var r;if(rt.push(function(){if(e)try{e.call(t)}catch(sa){Xe(sa,t,"nextTick")}else r&&r(t)}),nt||(nt=!0,ot?tt():et()),!e&&"undefined"!==typeof Promise)return new Promise(function(e){r=e})}var pt=new ce;function ft(e){lt(e,pt),pt.clear()}function lt(e,t){var r,n,i=Array.isArray(e);if(!(!i&&!c(e)||Object.isFrozen(e)||e instanceof ve)){if(e.__ob__){var o=e.__ob__.dep.id;if(t.has(o))return;t.add(o)}if(i){r=e.length;while(r--)lt(e[r],t)}else{n=Object.keys(e),r=n.length;while(r--)lt(e[n[r]],t)}}}var ht,mt=w(function(e){var t="&"===e.charAt(0);e=t?e.slice(1):e;var r="~"===e.charAt(0);e=r?e.slice(1):e;var n="!"===e.charAt(0);return e=n?e.slice(1):e,{name:e,once:r,capture:n,passive:t}});function vt(e){function t(){var e=arguments,r=t.fns;if(!Array.isArray(r))return r.apply(null,arguments);for(var n=r.slice(),i=0;i<n.length;i++)n[i].apply(null,e)}return t.fns=e,t}function gt(e,t,r,i,a,s){var c,u,d,p;for(c in e)u=e[c],d=t[c],p=mt(c),n(u)||(n(d)?(n(u.fns)&&(u=e[c]=vt(u)),o(p.once)&&(u=e[c]=a(p.name,u,p.capture)),r(p.name,u,p.capture,p.passive,p.params)):u!==d&&(d.fns=u,e[c]=d));for(c in t)n(e[c])&&(p=mt(c),i(p.name,t[c],p.capture))}function yt(e,t,r){var a;e instanceof ve&&(e=e.data.hook||(e.data.hook={}));var s=e[t];function c(){r.apply(this,arguments),g(a.fns,c)}n(s)?a=vt([c]):i(s.fns)&&o(s.merged)?(a=s,a.fns.push(c)):a=vt([s,c]),a.merged=!0,e[t]=a}function bt(e,t,r){var o=t.options.props;if(!n(o)){var a={},s=e.attrs,c=e.props;if(i(s)||i(c))for(var u in o){var d=S(u);wt(a,c,u,d,!0)||wt(a,s,u,d,!1)}return a}}function wt(e,t,r,n,o){if(i(t)){if(b(t,r))return e[r]=t[r],o||delete t[r],!0;if(b(t,n))return e[r]=t[n],o||delete t[n],!0}return!1}function _t(e){for(var t=0;t<e.length;t++)if(Array.isArray(e[t]))return Array.prototype.concat.apply([],e);return e}function kt(e){return s(e)?[be(e)]:Array.isArray(e)?Ct(e):void 0}function Tt(e){return i(e)&&i(e.text)&&a(e.isComment)}function Ct(e,t){var r,a,c,u,d=[];for(r=0;r<e.length;r++)a=e[r],n(a)||"boolean"===typeof a||(c=d.length-1,u=d[c],Array.isArray(a)?a.length>0&&(a=Ct(a,(t||"")+"_"+r),Tt(a[0])&&Tt(u)&&(d[c]=be(u.text+a[0].text),a.shift()),d.push.apply(d,a)):s(a)?Tt(u)?d[c]=be(u.text+a):""!==a&&d.push(be(a)):Tt(a)&&Tt(u)?d[c]=be(u.text+a.text):(o(e._isVList)&&i(a.tag)&&n(a.key)&&i(t)&&(a.key="__vlist"+t+"_"+r+"__"),d.push(a)));return d}function St(e,t){return(e.__esModule||ue&&"Module"===e[Symbol.toStringTag])&&(e=e.default),c(e)?t.extend(e):e}function Rt(e,t,r,n,i){var o=ye();return o.asyncFactory=e,o.asyncMeta={data:t,context:r,children:n,tag:i},o}function Et(e,t,r){if(o(e.error)&&i(e.errorComp))return e.errorComp;if(i(e.resolved))return e.resolved;if(o(e.loading)&&i(e.loadingComp))return e.loadingComp;if(!i(e.contexts)){var a=e.contexts=[r],s=!0,u=function(e){for(var t=0,r=a.length;t<r;t++)a[t].$forceUpdate();e&&(a.length=0)},d=$(function(r){e.resolved=St(r,t),s||u(!0)}),p=$(function(t){i(e.errorComp)&&(e.error=!0,u(!0))}),f=e(d,p);return c(f)&&("function"===typeof f.then?n(e.resolved)&&f.then(d,p):i(f.component)&&"function"===typeof f.component.then&&(f.component.then(d,p),i(f.error)&&(e.errorComp=St(f.error,t)),i(f.loading)&&(e.loadingComp=St(f.loading,t),0===f.delay?e.loading=!0:setTimeout(function(){n(e.resolved)&&n(e.error)&&(e.loading=!0,u(!1))},f.delay||200)),i(f.timeout)&&setTimeout(function(){n(e.resolved)&&p(null)},f.timeout))),s=!1,e.loading?e.loadingComp:e.resolved}e.contexts.push(r)}function xt(e){return e.isComment&&e.asyncFactory}function Pt(e){if(Array.isArray(e))for(var t=0;t<e.length;t++){var r=e[t];if(i(r)&&(i(r.componentOptions)||xt(r)))return r}}function It(e){e._events=Object.create(null),e._hasHookEvent=!1;var t=e.$options._parentListeners;t&&Mt(e,t)}function Ot(e,t){ht.$on(e,t)}function At(e,t){ht.$off(e,t)}function jt(e,t){var r=ht;return function n(){var i=t.apply(null,arguments);null!==i&&r.$off(e,n)}}function Mt(e,t,r){ht=e,gt(t,r||{},Ot,At,jt,e),ht=void 0}function Lt(e){var t=/^hook:/;e.prototype.$on=function(e,r){var n=this;if(Array.isArray(e))for(var i=0,o=e.length;i<o;i++)n.$on(e[i],r);else(n._events[e]||(n._events[e]=[])).push(r),t.test(e)&&(n._hasHookEvent=!0);return n},e.prototype.$once=function(e,t){var r=this;function n(){r.$off(e,n),t.apply(r,arguments)}return n.fn=t,r.$on(e,n),r},e.prototype.$off=function(e,t){var r=this;if(!arguments.length)return r._events=Object.create(null),r;if(Array.isArray(e)){for(var n=0,i=e.length;n<i;n++)r.$off(e[n],t);return r}var o=r._events[e];if(!o)return r;if(!t)return r._events[e]=null,r;if(t){var a,s=o.length;while(s--)if(a=o[s],a===t||a.fn===t){o.splice(s,1);break}}return r},e.prototype.$emit=function(e){var t=this,r=t._events[e];if(r){r=r.length>1?P(r):r;for(var n=P(arguments,1),i=0,o=r.length;i<o;i++)try{r[i].apply(t,n)}catch(sa){Xe(sa,t,'event handler for "'+e+'"')}}return t}}function Dt(e,t){var r={};if(!e)return r;for(var n=0,i=e.length;n<i;n++){var o=e[n],a=o.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,o.context!==t&&o.fnContext!==t||!a||null==a.slot)(r.default||(r.default=[])).push(o);else{var s=a.slot,c=r[s]||(r[s]=[]);"template"===o.tag?c.push.apply(c,o.children||[]):c.push(o)}}for(var u in r)r[u].every($t)&&delete r[u];return r}function $t(e){return e.isComment&&!e.asyncFactory||" "===e.text}function Nt(e,t){t=t||{};for(var r=0;r<e.length;r++)Array.isArray(e[r])?Nt(e[r],t):t[e[r].key]=e[r].fn;return t}var Ut=null;function Ft(e){var t=Ut;return Ut=e,function(){Ut=t}}function Bt(e){var t=e.$options,r=t.parent;if(r&&!t.abstract){while(r.$options.abstract&&r.$parent)r=r.$parent;r.$children.push(e)}e.$parent=r,e.$root=r?r.$root:e,e.$children=[],e.$refs={},e._watcher=null,e._inactive=null,e._directInactive=!1,e._isMounted=!1,e._isDestroyed=!1,e._isBeingDestroyed=!1}function Vt(e){e.prototype._update=function(e,t){var r=this,n=r.$el,i=r._vnode,o=Ft(r);r._vnode=e,r.$el=i?r.__patch__(i,e):r.__patch__(r.$el,e,t,!1),o(),n&&(n.__vue__=null),r.$el&&(r.$el.__vue__=r),r.$vnode&&r.$parent&&r.$vnode===r.$parent._vnode&&(r.$parent.$el=r.$el)},e.prototype.$forceUpdate=function(){var e=this;e._watcher&&e._watcher.update()},e.prototype.$destroy=function(){var e=this;if(!e._isBeingDestroyed){qt(e,"beforeDestroy"),e._isBeingDestroyed=!0;var t=e.$parent;!t||t._isBeingDestroyed||e.$options.abstract||g(t.$children,e),e._watcher&&e._watcher.teardown();var r=e._watchers.length;while(r--)e._watchers[r].teardown();e._data.__ob__&&e._data.__ob__.vmCount--,e._isDestroyed=!0,e.__patch__(e._vnode,null),qt(e,"destroyed"),e.$off(),e.$el&&(e.$el.__vue__=null),e.$vnode&&(e.$vnode.parent=null)}}}function Gt(e,t,r){var n;return e.$el=t,e.$options.render||(e.$options.render=ye),qt(e,"beforeMount"),n=function(){e._update(e._render(),r)},new cr(e,n,A,{before:function(){e._isMounted&&!e._isDestroyed&&qt(e,"beforeUpdate")}},!0),r=!1,null==e.$vnode&&(e._isMounted=!0,qt(e,"mounted")),e}function Ht(e,t,n,i,o){var a=!!(o||e.$options._renderChildren||i.data.scopedSlots||e.$scopedSlots!==r);if(e.$options._parentVnode=i,e.$vnode=i,e._vnode&&(e._vnode.parent=i),e.$options._renderChildren=o,e.$attrs=i.data.attrs||r,e.$listeners=n||r,t&&e.$options.props){Re(!1);for(var s=e._props,c=e.$options._propKeys||[],u=0;u<c.length;u++){var d=c[u],p=e.$options.props;s[d]=ze(d,p,t,e)}Re(!0),e.$options.propsData=t}n=n||r;var f=e.$options._parentListeners;e.$options._parentListeners=n,Mt(e,n,f),a&&(e.$slots=Dt(o,i.context),e.$forceUpdate())}function Wt(e){while(e&&(e=e.$parent))if(e._inactive)return!0;return!1}function zt(e,t){if(t){if(e._directInactive=!1,Wt(e))return}else if(e._directInactive)return;if(e._inactive||null===e._inactive){e._inactive=!1;for(var r=0;r<e.$children.length;r++)zt(e.$children[r]);qt(e,"activated")}}function Jt(e,t){if((!t||(e._directInactive=!0,!Wt(e)))&&!e._inactive){e._inactive=!0;for(var r=0;r<e.$children.length;r++)Jt(e.$children[r]);qt(e,"deactivated")}}function qt(e,t){he();var r=e.$options[t];if(r)for(var n=0,i=r.length;n<i;n++)try{r[n].call(e)}catch(sa){Xe(sa,e,t+" hook")}e._hasHookEvent&&e.$emit("hook:"+t),me()}var Qt=[],Kt=[],Xt={},Zt=!1,Yt=!1,er=0;function tr(){er=Qt.length=Kt.length=0,Xt={},Zt=Yt=!1}function rr(){var e,t;for(Yt=!0,Qt.sort(function(e,t){return e.id-t.id}),er=0;er<Qt.length;er++)e=Qt[er],e.before&&e.before(),t=e.id,Xt[t]=null,e.run();var r=Kt.slice(),n=Qt.slice();tr(),or(r),nr(n),ae&&B.devtools&&ae.emit("flush")}function nr(e){var t=e.length;while(t--){var r=e[t],n=r.vm;n._watcher===r&&n._isMounted&&!n._isDestroyed&&qt(n,"updated")}}function ir(e){e._inactive=!1,Kt.push(e)}function or(e){for(var t=0;t<e.length;t++)e[t]._inactive=!0,zt(e[t],!0)}function ar(e){var t=e.id;if(null==Xt[t]){if(Xt[t]=!0,Yt){var r=Qt.length-1;while(r>er&&Qt[r].id>e.id)r--;Qt.splice(r+1,0,e)}else Qt.push(e);Zt||(Zt=!0,dt(rr))}}var sr=0,cr=function(e,t,r,n,i){this.vm=e,i&&(e._watcher=this),e._watchers.push(this),n?(this.deep=!!n.deep,this.user=!!n.user,this.lazy=!!n.lazy,this.sync=!!n.sync,this.before=n.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=r,this.id=++sr,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new ce,this.newDepIds=new ce,this.expression="","function"===typeof t?this.getter=t:(this.getter=W(t),this.getter||(this.getter=A)),this.value=this.lazy?void 0:this.get()};cr.prototype.get=function(){var e;he(this);var t=this.vm;try{e=this.getter.call(t,t)}catch(sa){if(!this.user)throw sa;Xe(sa,t,'getter for watcher "'+this.expression+'"')}finally{this.deep&&ft(e),me(),this.cleanupDeps()}return e},cr.prototype.addDep=function(e){var t=e.id;this.newDepIds.has(t)||(this.newDepIds.add(t),this.newDeps.push(e),this.depIds.has(t)||e.addSub(this))},cr.prototype.cleanupDeps=function(){var e=this.deps.length;while(e--){var t=this.deps[e];this.newDepIds.has(t.id)||t.removeSub(this)}var r=this.depIds;this.depIds=this.newDepIds,this.newDepIds=r,this.newDepIds.clear(),r=this.deps,this.deps=this.newDeps,this.newDeps=r,this.newDeps.length=0},cr.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():ar(this)},cr.prototype.run=function(){if(this.active){var e=this.get();if(e!==this.value||c(e)||this.deep){var t=this.value;if(this.value=e,this.user)try{this.cb.call(this.vm,e,t)}catch(sa){Xe(sa,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,e,t)}}},cr.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},cr.prototype.depend=function(){var e=this.deps.length;while(e--)this.deps[e].depend()},cr.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||g(this.vm._watchers,this);var e=this.deps.length;while(e--)this.deps[e].removeSub(this);this.active=!1}};var ur={enumerable:!0,configurable:!0,get:A,set:A};function dr(e,t,r){ur.get=function(){return this[t][r]},ur.set=function(e){this[t][r]=e},Object.defineProperty(e,r,ur)}function pr(e){e._watchers=[];var t=e.$options;t.props&&fr(e,t.props),t.methods&&wr(e,t.methods),t.data?lr(e):Ie(e._data={},!0),t.computed&&vr(e,t.computed),t.watch&&t.watch!==re&&_r(e,t.watch)}function fr(e,t){var r=e.$options.propsData||{},n=e._props={},i=e.$options._propKeys=[],o=!e.$parent;o||Re(!1);var a=function(o){i.push(o);var a=ze(o,t,r,e);Oe(n,o,a),o in e||dr(e,"_props",o)};for(var s in t)a(s);Re(!0)}function lr(e){var t=e.$options.data;t=e._data="function"===typeof t?hr(t,e):t||{},d(t)||(t={});var r=Object.keys(t),n=e.$options.props,i=(e.$options.methods,r.length);while(i--){var o=r[i];0,n&&b(n,o)||V(o)||dr(e,"_data",o)}Ie(t,!0)}function hr(e,t){he();try{return e.call(t,t)}catch(sa){return Xe(sa,t,"data()"),{}}finally{me()}}var mr={lazy:!0};function vr(e,t){var r=e._computedWatchers=Object.create(null),n=oe();for(var i in t){var o=t[i],a="function"===typeof o?o:o.get;0,n||(r[i]=new cr(e,a||A,A,mr)),i in e||gr(e,i,o)}}function gr(e,t,r){var n=!oe();"function"===typeof r?(ur.get=n?yr(t):br(r),ur.set=A):(ur.get=r.get?n&&!1!==r.cache?yr(t):br(r.get):A,ur.set=r.set||A),Object.defineProperty(e,t,ur)}function yr(e){return function(){var t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),fe.target&&t.depend(),t.value}}function br(e){return function(){return e.call(this,this)}}function wr(e,t){e.$options.props;for(var r in t)e[r]="function"!==typeof t[r]?A:x(t[r],e)}function _r(e,t){for(var r in t){var n=t[r];if(Array.isArray(n))for(var i=0;i<n.length;i++)kr(e,r,n[i]);else kr(e,r,n)}}function kr(e,t,r,n){return d(r)&&(n=r,r=r.handler),"string"===typeof r&&(r=e[r]),e.$watch(t,r,n)}function Tr(e){var t={get:function(){return this._data}},r={get:function(){return this._props}};Object.defineProperty(e.prototype,"$data",t),Object.defineProperty(e.prototype,"$props",r),e.prototype.$set=Ae,e.prototype.$delete=je,e.prototype.$watch=function(e,t,r){var n=this;if(d(t))return kr(n,e,t,r);r=r||{},r.user=!0;var i=new cr(n,e,t,r);if(r.immediate)try{t.call(n,i.value)}catch(o){Xe(o,n,'callback for immediate watcher "'+i.expression+'"')}return function(){i.teardown()}}}function Cr(e){var t=e.$options.provide;t&&(e._provided="function"===typeof t?t.call(e):t)}function Sr(e){var t=Rr(e.$options.inject,e);t&&(Re(!1),Object.keys(t).forEach(function(r){Oe(e,r,t[r])}),Re(!0))}function Rr(e,t){if(e){for(var r=Object.create(null),n=ue?Reflect.ownKeys(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}):Object.keys(e),i=0;i<n.length;i++){var o=n[i],a=e[o].from,s=t;while(s){if(s._provided&&b(s._provided,a)){r[o]=s._provided[a];break}s=s.$parent}if(!s)if("default"in e[o]){var c=e[o].default;r[o]="function"===typeof c?c.call(t):c}else 0}return r}}function Er(e,t){var r,n,o,a,s;if(Array.isArray(e)||"string"===typeof e)for(r=new Array(e.length),n=0,o=e.length;n<o;n++)r[n]=t(e[n],n);else if("number"===typeof e)for(r=new Array(e),n=0;n<e;n++)r[n]=t(n+1,n);else if(c(e))for(a=Object.keys(e),r=new Array(a.length),n=0,o=a.length;n<o;n++)s=a[n],r[n]=t(e[s],s,n);return i(r)||(r=[]),r._isVList=!0,r}function xr(e,t,r,n){var i,o=this.$scopedSlots[e];o?(r=r||{},n&&(r=I(I({},n),r)),i=o(r)||t):i=this.$slots[e]||t;var a=r&&r.slot;return a?this.$createElement("template",{slot:a},i):i}function Pr(e){return We(this.$options,"filters",e,!0)||M}function Ir(e,t){return Array.isArray(e)?-1===e.indexOf(t):e!==t}function Or(e,t,r,n,i){var o=B.keyCodes[t]||r;return i&&n&&!B.keyCodes[t]?Ir(i,n):o?Ir(o,e):n?S(n)!==t:void 0}function Ar(e,t,r,n,i){if(r)if(c(r)){var o;Array.isArray(r)&&(r=O(r));var a=function(a){if("class"===a||"style"===a||v(a))o=e;else{var s=e.attrs&&e.attrs.type;o=n||B.mustUseProp(t,s,a)?e.domProps||(e.domProps={}):e.attrs||(e.attrs={})}var c=k(a);if(!(a in o)&&!(c in o)&&(o[a]=r[a],i)){var u=e.on||(e.on={});u["update:"+c]=function(e){r[a]=e}}};for(var s in r)a(s)}else;return e}function jr(e,t){var r=this._staticTrees||(this._staticTrees=[]),n=r[e];return n&&!t?n:(n=r[e]=this.$options.staticRenderFns[e].call(this._renderProxy,null,this),Lr(n,"__static__"+e,!1),n)}function Mr(e,t,r){return Lr(e,"__once__"+t+(r?"_"+r:""),!0),e}function Lr(e,t,r){if(Array.isArray(e))for(var n=0;n<e.length;n++)e[n]&&"string"!==typeof e[n]&&Dr(e[n],t+"_"+n,r);else Dr(e,t,r)}function Dr(e,t,r){e.isStatic=!0,e.key=t,e.isOnce=r}function $r(e,t){if(t)if(d(t)){var r=e.on=e.on?I({},e.on):{};for(var n in t){var i=r[n],o=t[n];r[n]=i?[].concat(i,o):o}}else;return e}function Nr(e){e._o=Mr,e._n=h,e._s=l,e._l=Er,e._t=xr,e._q=L,e._i=D,e._m=jr,e._f=Pr,e._k=Or,e._b=Ar,e._v=be,e._e=ye,e._u=Nt,e._g=$r}function Ur(e,t,n,i,a){var s,c=a.options;b(i,"_uid")?(s=Object.create(i),s._original=i):(s=i,i=i._original);var u=o(c._compiled),d=!u;this.data=e,this.props=t,this.children=n,this.parent=i,this.listeners=e.on||r,this.injections=Rr(c.inject,i),this.slots=function(){return Dt(n,i)},u&&(this.$options=c,this.$slots=this.slots(),this.$scopedSlots=e.scopedSlots||r),c._scopeId?this._c=function(e,t,r,n){var o=Zr(s,e,t,r,n,d);return o&&!Array.isArray(o)&&(o.fnScopeId=c._scopeId,o.fnContext=i),o}:this._c=function(e,t,r,n){return Zr(s,e,t,r,n,d)}}function Fr(e,t,n,o,a){var s=e.options,c={},u=s.props;if(i(u))for(var d in u)c[d]=ze(d,u,t||r);else i(n.attrs)&&Vr(c,n.attrs),i(n.props)&&Vr(c,n.props);var p=new Ur(n,c,a,o,e),f=s.render.call(null,p._c,p);if(f instanceof ve)return Br(f,n,p.parent,s,p);if(Array.isArray(f)){for(var l=kt(f)||[],h=new Array(l.length),m=0;m<l.length;m++)h[m]=Br(l[m],n,p.parent,s,p);return h}}function Br(e,t,r,n,i){var o=we(e);return o.fnContext=r,o.fnOptions=n,t.slot&&((o.data||(o.data={})).slot=t.slot),o}function Vr(e,t){for(var r in t)e[k(r)]=t[r]}Nr(Ur.prototype);var Gr={init:function(e,t){if(e.componentInstance&&!e.componentInstance._isDestroyed&&e.data.keepAlive){var r=e;Gr.prepatch(r,r)}else{var n=e.componentInstance=zr(e,Ut);n.$mount(t?e.elm:void 0,t)}},prepatch:function(e,t){var r=t.componentOptions,n=t.componentInstance=e.componentInstance;Ht(n,r.propsData,r.listeners,t,r.children)},insert:function(e){var t=e.context,r=e.componentInstance;r._isMounted||(r._isMounted=!0,qt(r,"mounted")),e.data.keepAlive&&(t._isMounted?ir(r):zt(r,!0))},destroy:function(e){var t=e.componentInstance;t._isDestroyed||(e.data.keepAlive?Jt(t,!0):t.$destroy())}},Hr=Object.keys(Gr);function Wr(e,t,r,a,s){if(!n(e)){var u=r.$options._base;if(c(e)&&(e=u.extend(e)),"function"===typeof e){var d;if(n(e.cid)&&(d=e,e=Et(d,u,r),void 0===e))return Rt(d,t,r,a,s);t=t||{},cn(e),i(t.model)&&Qr(e.options,t);var p=bt(t,e,s);if(o(e.options.functional))return Fr(e,p,t,r,a);var f=t.on;if(t.on=t.nativeOn,o(e.options.abstract)){var l=t.slot;t={},l&&(t.slot=l)}Jr(t);var h=e.options.name||s,m=new ve("vue-component-"+e.cid+(h?"-"+h:""),t,void 0,void 0,void 0,r,{Ctor:e,propsData:p,listeners:f,tag:s,children:a},d);return m}}}function zr(e,t){var r={_isComponent:!0,_parentVnode:e,parent:t},n=e.data.inlineTemplate;return i(n)&&(r.render=n.render,r.staticRenderFns=n.staticRenderFns),new e.componentOptions.Ctor(r)}function Jr(e){for(var t=e.hook||(e.hook={}),r=0;r<Hr.length;r++){var n=Hr[r],i=t[n],o=Gr[n];i===o||i&&i._merged||(t[n]=i?qr(o,i):o)}}function qr(e,t){var r=function(r,n){e(r,n),t(r,n)};return r._merged=!0,r}function Qr(e,t){var r=e.model&&e.model.prop||"value",n=e.model&&e.model.event||"input";(t.props||(t.props={}))[r]=t.model.value;var o=t.on||(t.on={}),a=o[n],s=t.model.callback;i(a)?(Array.isArray(a)?-1===a.indexOf(s):a!==s)&&(o[n]=[s].concat(a)):o[n]=s}var Kr=1,Xr=2;function Zr(e,t,r,n,i,a){return(Array.isArray(r)||s(r))&&(i=n,n=r,r=void 0),o(a)&&(i=Xr),Yr(e,t,r,n,i)}function Yr(e,t,r,n,o){if(i(r)&&i(r.__ob__))return ye();if(i(r)&&i(r.is)&&(t=r.is),!t)return ye();var a,s,c;(Array.isArray(n)&&"function"===typeof n[0]&&(r=r||{},r.scopedSlots={default:n[0]},n.length=0),o===Xr?n=kt(n):o===Kr&&(n=_t(n)),"string"===typeof t)?(s=e.$vnode&&e.$vnode.ns||B.getTagNamespace(t),a=B.isReservedTag(t)?new ve(B.parsePlatformTagName(t),r,n,void 0,void 0,e):r&&r.pre||!i(c=We(e.$options,"components",t))?new ve(t,r,n,void 0,void 0,e):Wr(c,r,e,n,t)):a=Wr(t,r,e,n);return Array.isArray(a)?a:i(a)?(i(s)&&en(a,s),i(r)&&tn(r),a):ye()}function en(e,t,r){if(e.ns=t,"foreignObject"===e.tag&&(t=void 0,r=!0),i(e.children))for(var a=0,s=e.children.length;a<s;a++){var c=e.children[a];i(c.tag)&&(n(c.ns)||o(r)&&"svg"!==c.tag)&&en(c,t,r)}}function tn(e){c(e.style)&&ft(e.style),c(e.class)&&ft(e.class)}function rn(e){e._vnode=null,e._staticTrees=null;var t=e.$options,n=e.$vnode=t._parentVnode,i=n&&n.context;e.$slots=Dt(t._renderChildren,i),e.$scopedSlots=r,e._c=function(t,r,n,i){return Zr(e,t,r,n,i,!1)},e.$createElement=function(t,r,n,i){return Zr(e,t,r,n,i,!0)};var o=n&&n.data;Oe(e,"$attrs",o&&o.attrs||r,null,!0),Oe(e,"$listeners",t._parentListeners||r,null,!0)}function nn(e){Nr(e.prototype),e.prototype.$nextTick=function(e){return dt(e,this)},e.prototype._render=function(){var e,t=this,n=t.$options,i=n.render,o=n._parentVnode;o&&(t.$scopedSlots=o.data.scopedSlots||r),t.$vnode=o;try{e=i.call(t._renderProxy,t.$createElement)}catch(sa){Xe(sa,t,"render"),e=t._vnode}return e instanceof ve||(e=ye()),e.parent=o,e}}var on=0;function an(e){e.prototype._init=function(e){var t=this;t._uid=on++,t._isVue=!0,e&&e._isComponent?sn(t,e):t.$options=He(cn(t.constructor),e||{},t),t._renderProxy=t,t._self=t,Bt(t),It(t),rn(t),qt(t,"beforeCreate"),Sr(t),pr(t),Cr(t),qt(t,"created"),t.$options.el&&t.$mount(t.$options.el)}}function sn(e,t){var r=e.$options=Object.create(e.constructor.options),n=t._parentVnode;r.parent=t.parent,r._parentVnode=n;var i=n.componentOptions;r.propsData=i.propsData,r._parentListeners=i.listeners,r._renderChildren=i.children,r._componentTag=i.tag,t.render&&(r.render=t.render,r.staticRenderFns=t.staticRenderFns)}function cn(e){var t=e.options;if(e.super){var r=cn(e.super),n=e.superOptions;if(r!==n){e.superOptions=r;var i=un(e);i&&I(e.extendOptions,i),t=e.options=He(r,e.extendOptions),t.name&&(t.components[t.name]=e)}}return t}function un(e){var t,r=e.options,n=e.extendOptions,i=e.sealedOptions;for(var o in r)r[o]!==i[o]&&(t||(t={}),t[o]=dn(r[o],n[o],i[o]));return t}function dn(e,t,r){if(Array.isArray(e)){var n=[];r=Array.isArray(r)?r:[r],t=Array.isArray(t)?t:[t];for(var i=0;i<e.length;i++)(t.indexOf(e[i])>=0||r.indexOf(e[i])<0)&&n.push(e[i]);return n}return e}function pn(e){this._init(e)}function fn(e){e.use=function(e){var t=this._installedPlugins||(this._installedPlugins=[]);if(t.indexOf(e)>-1)return this;var r=P(arguments,1);return r.unshift(this),"function"===typeof e.install?e.install.apply(e,r):"function"===typeof e&&e.apply(null,r),t.push(e),this}}function ln(e){e.mixin=function(e){return this.options=He(this.options,e),this}}function hn(e){e.cid=0;var t=1;e.extend=function(e){e=e||{};var r=this,n=r.cid,i=e._Ctor||(e._Ctor={});if(i[n])return i[n];var o=e.name||r.options.name;var a=function(e){this._init(e)};return a.prototype=Object.create(r.prototype),a.prototype.constructor=a,a.cid=t++,a.options=He(r.options,e),a["super"]=r,a.options.props&&mn(a),a.options.computed&&vn(a),a.extend=r.extend,a.mixin=r.mixin,a.use=r.use,U.forEach(function(e){a[e]=r[e]}),o&&(a.options.components[o]=a),a.superOptions=r.options,a.extendOptions=e,a.sealedOptions=I({},a.options),i[n]=a,a}}function mn(e){var t=e.options.props;for(var r in t)dr(e.prototype,"_props",r)}function vn(e){var t=e.options.computed;for(var r in t)gr(e.prototype,r,t[r])}function gn(e){U.forEach(function(t){e[t]=function(e,r){return r?("component"===t&&d(r)&&(r.name=r.name||e,r=this.options._base.extend(r)),"directive"===t&&"function"===typeof r&&(r={bind:r,update:r}),this.options[t+"s"][e]=r,r):this.options[t+"s"][e]}})}function yn(e){return e&&(e.Ctor.options.name||e.tag)}function bn(e,t){return Array.isArray(e)?e.indexOf(t)>-1:"string"===typeof e?e.split(",").indexOf(t)>-1:!!p(e)&&e.test(t)}function wn(e,t){var r=e.cache,n=e.keys,i=e._vnode;for(var o in r){var a=r[o];if(a){var s=yn(a.componentOptions);s&&!t(s)&&_n(r,o,n,i)}}}function _n(e,t,r,n){var i=e[t];!i||n&&i.tag===n.tag||i.componentInstance.$destroy(),e[t]=null,g(r,t)}an(pn),Tr(pn),Lt(pn),Vt(pn),nn(pn);var kn=[String,RegExp,Array],Tn={name:"keep-alive",abstract:!0,props:{include:kn,exclude:kn,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var e in this.cache)_n(this.cache,e,this.keys)},mounted:function(){var e=this;this.$watch("include",function(t){wn(e,function(e){return bn(t,e)})}),this.$watch("exclude",function(t){wn(e,function(e){return!bn(t,e)})})},render:function(){var e=this.$slots.default,t=Pt(e),r=t&&t.componentOptions;if(r){var n=yn(r),i=this,o=i.include,a=i.exclude;if(o&&(!n||!bn(o,n))||a&&n&&bn(a,n))return t;var s=this,c=s.cache,u=s.keys,d=null==t.key?r.Ctor.cid+(r.tag?"::"+r.tag:""):t.key;c[d]?(t.componentInstance=c[d].componentInstance,g(u,d),u.push(d)):(c[d]=t,u.push(d),this.max&&u.length>parseInt(this.max)&&_n(c,u[0],u,this._vnode)),t.data.keepAlive=!0}return t||e&&e[0]}},Cn={KeepAlive:Tn};function Sn(e){var t={get:function(){return B}};Object.defineProperty(e,"config",t),e.util={warn:de,extend:I,mergeOptions:He,defineReactive:Oe},e.set=Ae,e.delete=je,e.nextTick=dt,e.options=Object.create(null),U.forEach(function(t){e.options[t+"s"]=Object.create(null)}),e.options._base=e,I(e.options.components,Cn),fn(e),ln(e),hn(e),gn(e)}Sn(pn),Object.defineProperty(pn.prototype,"$isServer",{get:oe}),Object.defineProperty(pn.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(pn,"FunctionalRenderContext",{value:Ur}),pn.version="2.5.21";var Rn=m("style,class"),En=m("input,textarea,option,select,progress"),xn=function(e,t,r){return"value"===r&&En(e)&&"button"!==t||"selected"===r&&"option"===e||"checked"===r&&"input"===e||"muted"===r&&"video"===e},Pn=m("contenteditable,draggable,spellcheck"),In=m("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),On="http://www.w3.org/1999/xlink",An=function(e){return":"===e.charAt(5)&&"xlink"===e.slice(0,5)},jn=function(e){return An(e)?e.slice(6,e.length):""},Mn=function(e){return null==e||!1===e};function Ln(e){var t=e.data,r=e,n=e;while(i(n.componentInstance))n=n.componentInstance._vnode,n&&n.data&&(t=Dn(n.data,t));while(i(r=r.parent))r&&r.data&&(t=Dn(t,r.data));return $n(t.staticClass,t.class)}function Dn(e,t){return{staticClass:Nn(e.staticClass,t.staticClass),class:i(e.class)?[e.class,t.class]:t.class}}function $n(e,t){return i(e)||i(t)?Nn(e,Un(t)):""}function Nn(e,t){return e?t?e+" "+t:e:t||""}function Un(e){return Array.isArray(e)?Fn(e):c(e)?Bn(e):"string"===typeof e?e:""}function Fn(e){for(var t,r="",n=0,o=e.length;n<o;n++)i(t=Un(e[n]))&&""!==t&&(r&&(r+=" "),r+=t);return r}function Bn(e){var t="";for(var r in e)e[r]&&(t&&(t+=" "),t+=r);return t}var Vn={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Gn=m("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Hn=m("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),Wn=function(e){return Gn(e)||Hn(e)};function zn(e){return Hn(e)?"svg":"math"===e?"math":void 0}var Jn=Object.create(null);function qn(e){if(!q)return!0;if(Wn(e))return!1;if(e=e.toLowerCase(),null!=Jn[e])return Jn[e];var t=document.createElement(e);return e.indexOf("-")>-1?Jn[e]=t.constructor===window.HTMLUnknownElement||t.constructor===window.HTMLElement:Jn[e]=/HTMLUnknownElement/.test(t.toString())}var Qn=m("text,number,password,search,email,tel,url");function Kn(e){if("string"===typeof e){var t=document.querySelector(e);return t||document.createElement("div")}return e}function Xn(e,t){var r=document.createElement(e);return"select"!==e?r:(t.data&&t.data.attrs&&void 0!==t.data.attrs.multiple&&r.setAttribute("multiple","multiple"),r)}function Zn(e,t){return document.createElementNS(Vn[e],t)}function Yn(e){return document.createTextNode(e)}function ei(e){return document.createComment(e)}function ti(e,t,r){e.insertBefore(t,r)}function ri(e,t){e.removeChild(t)}function ni(e,t){e.appendChild(t)}function ii(e){return e.parentNode}function oi(e){return e.nextSibling}function ai(e){return e.tagName}function si(e,t){e.textContent=t}function ci(e,t){e.setAttribute(t,"")}var ui=Object.freeze({createElement:Xn,createElementNS:Zn,createTextNode:Yn,createComment:ei,insertBefore:ti,removeChild:ri,appendChild:ni,parentNode:ii,nextSibling:oi,tagName:ai,setTextContent:si,setStyleScope:ci}),di={create:function(e,t){pi(t)},update:function(e,t){e.data.ref!==t.data.ref&&(pi(e,!0),pi(t))},destroy:function(e){pi(e,!0)}};function pi(e,t){var r=e.data.ref;if(i(r)){var n=e.context,o=e.componentInstance||e.elm,a=n.$refs;t?Array.isArray(a[r])?g(a[r],o):a[r]===o&&(a[r]=void 0):e.data.refInFor?Array.isArray(a[r])?a[r].indexOf(o)<0&&a[r].push(o):a[r]=[o]:a[r]=o}}var fi=new ve("",{},[]),li=["create","activate","update","remove","destroy"];function hi(e,t){return e.key===t.key&&(e.tag===t.tag&&e.isComment===t.isComment&&i(e.data)===i(t.data)&&mi(e,t)||o(e.isAsyncPlaceholder)&&e.asyncFactory===t.asyncFactory&&n(t.asyncFactory.error))}function mi(e,t){if("input"!==e.tag)return!0;var r,n=i(r=e.data)&&i(r=r.attrs)&&r.type,o=i(r=t.data)&&i(r=r.attrs)&&r.type;return n===o||Qn(n)&&Qn(o)}function vi(e,t,r){var n,o,a={};for(n=t;n<=r;++n)o=e[n].key,i(o)&&(a[o]=n);return a}function gi(e){var t,r,a={},c=e.modules,u=e.nodeOps;for(t=0;t<li.length;++t)for(a[li[t]]=[],r=0;r<c.length;++r)i(c[r][li[t]])&&a[li[t]].push(c[r][li[t]]);function d(e){return new ve(u.tagName(e).toLowerCase(),{},[],void 0,e)}function p(e,t){function r(){0===--r.listeners&&f(e)}return r.listeners=t,r}function f(e){var t=u.parentNode(e);i(t)&&u.removeChild(t,e)}function l(e,t,r,n,a,s,c){if(i(e.elm)&&i(s)&&(e=s[c]=we(e)),e.isRootInsert=!a,!h(e,t,r,n)){var d=e.data,p=e.children,f=e.tag;i(f)?(e.elm=e.ns?u.createElementNS(e.ns,f):u.createElement(f,e),k(e),b(e,p,t),i(d)&&_(e,t),y(r,e.elm,n)):o(e.isComment)?(e.elm=u.createComment(e.text),y(r,e.elm,n)):(e.elm=u.createTextNode(e.text),y(r,e.elm,n))}}function h(e,t,r,n){var a=e.data;if(i(a)){var s=i(e.componentInstance)&&a.keepAlive;if(i(a=a.hook)&&i(a=a.init)&&a(e,!1),i(e.componentInstance))return v(e,t),y(r,e.elm,n),o(s)&&g(e,t,r,n),!0}}function v(e,t){i(e.data.pendingInsert)&&(t.push.apply(t,e.data.pendingInsert),e.data.pendingInsert=null),e.elm=e.componentInstance.$el,w(e)?(_(e,t),k(e)):(pi(e),t.push(e))}function g(e,t,r,n){var o,s=e;while(s.componentInstance)if(s=s.componentInstance._vnode,i(o=s.data)&&i(o=o.transition)){for(o=0;o<a.activate.length;++o)a.activate[o](fi,s);t.push(s);break}y(r,e.elm,n)}function y(e,t,r){i(e)&&(i(r)?u.parentNode(r)===e&&u.insertBefore(e,t,r):u.appendChild(e,t))}function b(e,t,r){if(Array.isArray(t)){0;for(var n=0;n<t.length;++n)l(t[n],r,e.elm,null,!0,t,n)}else s(e.text)&&u.appendChild(e.elm,u.createTextNode(String(e.text)))}function w(e){while(e.componentInstance)e=e.componentInstance._vnode;return i(e.tag)}function _(e,r){for(var n=0;n<a.create.length;++n)a.create[n](fi,e);t=e.data.hook,i(t)&&(i(t.create)&&t.create(fi,e),i(t.insert)&&r.push(e))}function k(e){var t;if(i(t=e.fnScopeId))u.setStyleScope(e.elm,t);else{var r=e;while(r)i(t=r.context)&&i(t=t.$options._scopeId)&&u.setStyleScope(e.elm,t),r=r.parent}i(t=Ut)&&t!==e.context&&t!==e.fnContext&&i(t=t.$options._scopeId)&&u.setStyleScope(e.elm,t)}function T(e,t,r,n,i,o){for(;n<=i;++n)l(r[n],o,e,t,!1,r,n)}function C(e){var t,r,n=e.data;if(i(n))for(i(t=n.hook)&&i(t=t.destroy)&&t(e),t=0;t<a.destroy.length;++t)a.destroy[t](e);if(i(t=e.children))for(r=0;r<e.children.length;++r)C(e.children[r])}function S(e,t,r,n){for(;r<=n;++r){var o=t[r];i(o)&&(i(o.tag)?(R(o),C(o)):f(o.elm))}}function R(e,t){if(i(t)||i(e.data)){var r,n=a.remove.length+1;for(i(t)?t.listeners+=n:t=p(e.elm,n),i(r=e.componentInstance)&&i(r=r._vnode)&&i(r.data)&&R(r,t),r=0;r<a.remove.length;++r)a.remove[r](e,t);i(r=e.data.hook)&&i(r=r.remove)?r(e,t):t()}else f(e.elm)}function E(e,t,r,o,a){var s,c,d,p,f=0,h=0,m=t.length-1,v=t[0],g=t[m],y=r.length-1,b=r[0],w=r[y],_=!a;while(f<=m&&h<=y)n(v)?v=t[++f]:n(g)?g=t[--m]:hi(v,b)?(P(v,b,o,r,h),v=t[++f],b=r[++h]):hi(g,w)?(P(g,w,o,r,y),g=t[--m],w=r[--y]):hi(v,w)?(P(v,w,o,r,y),_&&u.insertBefore(e,v.elm,u.nextSibling(g.elm)),v=t[++f],w=r[--y]):hi(g,b)?(P(g,b,o,r,h),_&&u.insertBefore(e,g.elm,v.elm),g=t[--m],b=r[++h]):(n(s)&&(s=vi(t,f,m)),c=i(b.key)?s[b.key]:x(b,t,f,m),n(c)?l(b,o,e,v.elm,!1,r,h):(d=t[c],hi(d,b)?(P(d,b,o,r,h),t[c]=void 0,_&&u.insertBefore(e,d.elm,v.elm)):l(b,o,e,v.elm,!1,r,h)),b=r[++h]);f>m?(p=n(r[y+1])?null:r[y+1].elm,T(e,p,r,h,y,o)):h>y&&S(e,t,f,m)}function x(e,t,r,n){for(var o=r;o<n;o++){var a=t[o];if(i(a)&&hi(e,a))return o}}function P(e,t,r,s,c,d){if(e!==t){i(t.elm)&&i(s)&&(t=s[c]=we(t));var p=t.elm=e.elm;if(o(e.isAsyncPlaceholder))i(t.asyncFactory.resolved)?A(e.elm,t,r):t.isAsyncPlaceholder=!0;else if(o(t.isStatic)&&o(e.isStatic)&&t.key===e.key&&(o(t.isCloned)||o(t.isOnce)))t.componentInstance=e.componentInstance;else{var f,l=t.data;i(l)&&i(f=l.hook)&&i(f=f.prepatch)&&f(e,t);var h=e.children,m=t.children;if(i(l)&&w(t)){for(f=0;f<a.update.length;++f)a.update[f](e,t);i(f=l.hook)&&i(f=f.update)&&f(e,t)}n(t.text)?i(h)&&i(m)?h!==m&&E(p,h,m,r,d):i(m)?(i(e.text)&&u.setTextContent(p,""),T(p,null,m,0,m.length-1,r)):i(h)?S(p,h,0,h.length-1):i(e.text)&&u.setTextContent(p,""):e.text!==t.text&&u.setTextContent(p,t.text),i(l)&&i(f=l.hook)&&i(f=f.postpatch)&&f(e,t)}}}function I(e,t,r){if(o(r)&&i(e.parent))e.parent.data.pendingInsert=t;else for(var n=0;n<t.length;++n)t[n].data.hook.insert(t[n])}var O=m("attrs,class,staticClass,staticStyle,key");function A(e,t,r,n){var a,s=t.tag,c=t.data,u=t.children;if(n=n||c&&c.pre,t.elm=e,o(t.isComment)&&i(t.asyncFactory))return t.isAsyncPlaceholder=!0,!0;if(i(c)&&(i(a=c.hook)&&i(a=a.init)&&a(t,!0),i(a=t.componentInstance)))return v(t,r),!0;if(i(s)){if(i(u))if(e.hasChildNodes())if(i(a=c)&&i(a=a.domProps)&&i(a=a.innerHTML)){if(a!==e.innerHTML)return!1}else{for(var d=!0,p=e.firstChild,f=0;f<u.length;f++){if(!p||!A(p,u[f],r,n)){d=!1;break}p=p.nextSibling}if(!d||p)return!1}else b(t,u,r);if(i(c)){var l=!1;for(var h in c)if(!O(h)){l=!0,_(t,r);break}!l&&c["class"]&&ft(c["class"])}}else e.data!==t.text&&(e.data=t.text);return!0}return function(e,t,r,s){if(!n(t)){var c=!1,p=[];if(n(e))c=!0,l(t,p);else{var f=i(e.nodeType);if(!f&&hi(e,t))P(e,t,p,null,null,s);else{if(f){if(1===e.nodeType&&e.hasAttribute(N)&&(e.removeAttribute(N),r=!0),o(r)&&A(e,t,p))return I(t,p,!0),e;e=d(e)}var h=e.elm,m=u.parentNode(h);if(l(t,p,h._leaveCb?null:m,u.nextSibling(h)),i(t.parent)){var v=t.parent,g=w(t);while(v){for(var y=0;y<a.destroy.length;++y)a.destroy[y](v);if(v.elm=t.elm,g){for(var b=0;b<a.create.length;++b)a.create[b](fi,v);var _=v.data.hook.insert;if(_.merged)for(var k=1;k<_.fns.length;k++)_.fns[k]()}else pi(v);v=v.parent}}i(m)?S(m,[e],0,0):i(e.tag)&&C(e)}}return I(t,p,c),t.elm}i(e)&&C(e)}}var yi={create:bi,update:bi,destroy:function(e){bi(e,fi)}};function bi(e,t){(e.data.directives||t.data.directives)&&wi(e,t)}function wi(e,t){var r,n,i,o=e===fi,a=t===fi,s=ki(e.data.directives,e.context),c=ki(t.data.directives,t.context),u=[],d=[];for(r in c)n=s[r],i=c[r],n?(i.oldValue=n.value,Ci(i,"update",t,e),i.def&&i.def.componentUpdated&&d.push(i)):(Ci(i,"bind",t,e),i.def&&i.def.inserted&&u.push(i));if(u.length){var p=function(){for(var r=0;r<u.length;r++)Ci(u[r],"inserted",t,e)};o?yt(t,"insert",p):p()}if(d.length&&yt(t,"postpatch",function(){for(var r=0;r<d.length;r++)Ci(d[r],"componentUpdated",t,e)}),!o)for(r in s)c[r]||Ci(s[r],"unbind",e,e,a)}var _i=Object.create(null);function ki(e,t){var r,n,i=Object.create(null);if(!e)return i;for(r=0;r<e.length;r++)n=e[r],n.modifiers||(n.modifiers=_i),i[Ti(n)]=n,n.def=We(t.$options,"directives",n.name,!0);return i}function Ti(e){return e.rawName||e.name+"."+Object.keys(e.modifiers||{}).join(".")}function Ci(e,t,r,n,i){var o=e.def&&e.def[t];if(o)try{o(r.elm,e,r,n,i)}catch(sa){Xe(sa,r.context,"directive "+e.name+" "+t+" hook")}}var Si=[di,yi];function Ri(e,t){var r=t.componentOptions;if((!i(r)||!1!==r.Ctor.options.inheritAttrs)&&(!n(e.data.attrs)||!n(t.data.attrs))){var o,a,s,c=t.elm,u=e.data.attrs||{},d=t.data.attrs||{};for(o in i(d.__ob__)&&(d=t.data.attrs=I({},d)),d)a=d[o],s=u[o],s!==a&&Ei(c,o,a);for(o in(Z||ee)&&d.value!==u.value&&Ei(c,"value",d.value),u)n(d[o])&&(An(o)?c.removeAttributeNS(On,jn(o)):Pn(o)||c.removeAttribute(o))}}function Ei(e,t,r){e.tagName.indexOf("-")>-1?xi(e,t,r):In(t)?Mn(r)?e.removeAttribute(t):(r="allowfullscreen"===t&&"EMBED"===e.tagName?"true":t,e.setAttribute(t,r)):Pn(t)?e.setAttribute(t,Mn(r)||"false"===r?"false":"true"):An(t)?Mn(r)?e.removeAttributeNS(On,jn(t)):e.setAttributeNS(On,t,r):xi(e,t,r)}function xi(e,t,r){if(Mn(r))e.removeAttribute(t);else{if(Z&&!Y&&("TEXTAREA"===e.tagName||"INPUT"===e.tagName)&&"placeholder"===t&&!e.__ieph){var n=function(t){t.stopImmediatePropagation(),e.removeEventListener("input",n)};e.addEventListener("input",n),e.__ieph=!0}e.setAttribute(t,r)}}var Pi={create:Ri,update:Ri};function Ii(e,t){var r=t.elm,o=t.data,a=e.data;if(!(n(o.staticClass)&&n(o.class)&&(n(a)||n(a.staticClass)&&n(a.class)))){var s=Ln(t),c=r._transitionClasses;i(c)&&(s=Nn(s,Un(c))),s!==r._prevClass&&(r.setAttribute("class",s),r._prevClass=s)}}var Oi,Ai={create:Ii,update:Ii},ji="__r",Mi="__c";function Li(e){if(i(e[ji])){var t=Z?"change":"input";e[t]=[].concat(e[ji],e[t]||[]),delete e[ji]}i(e[Mi])&&(e.change=[].concat(e[Mi],e.change||[]),delete e[Mi])}function Di(e,t,r){var n=Oi;return function i(){var o=t.apply(null,arguments);null!==o&&Ni(e,i,r,n)}}function $i(e,t,r,n){t=ut(t),Oi.addEventListener(e,t,ne?{capture:r,passive:n}:r)}function Ni(e,t,r,n){(n||Oi).removeEventListener(e,t._withTask||t,r)}function Ui(e,t){if(!n(e.data.on)||!n(t.data.on)){var r=t.data.on||{},i=e.data.on||{};Oi=t.elm,Li(r),gt(r,i,$i,Ni,Di,t.context),Oi=void 0}}var Fi={create:Ui,update:Ui};function Bi(e,t){if(!n(e.data.domProps)||!n(t.data.domProps)){var r,o,a=t.elm,s=e.data.domProps||{},c=t.data.domProps||{};for(r in i(c.__ob__)&&(c=t.data.domProps=I({},c)),s)n(c[r])&&(a[r]="");for(r in c){if(o=c[r],"textContent"===r||"innerHTML"===r){if(t.children&&(t.children.length=0),o===s[r])continue;1===a.childNodes.length&&a.removeChild(a.childNodes[0])}if("value"===r){a._value=o;var u=n(o)?"":String(o);Vi(a,u)&&(a.value=u)}else a[r]=o}}}function Vi(e,t){return!e.composing&&("OPTION"===e.tagName||Gi(e,t)||Hi(e,t))}function Gi(e,t){var r=!0;try{r=document.activeElement!==e}catch(sa){}return r&&e.value!==t}function Hi(e,t){var r=e.value,n=e._vModifiers;if(i(n)){if(n.lazy)return!1;if(n.number)return h(r)!==h(t);if(n.trim)return r.trim()!==t.trim()}return r!==t}var Wi={create:Bi,update:Bi},zi=w(function(e){var t={},r=/;(?![^(]*\))/g,n=/:(.+)/;return e.split(r).forEach(function(e){if(e){var r=e.split(n);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t});function Ji(e){var t=qi(e.style);return e.staticStyle?I(e.staticStyle,t):t}function qi(e){return Array.isArray(e)?O(e):"string"===typeof e?zi(e):e}function Qi(e,t){var r,n={};if(t){var i=e;while(i.componentInstance)i=i.componentInstance._vnode,i&&i.data&&(r=Ji(i.data))&&I(n,r)}(r=Ji(e.data))&&I(n,r);var o=e;while(o=o.parent)o.data&&(r=Ji(o.data))&&I(n,r);return n}var Ki,Xi=/^--/,Zi=/\s*!important$/,Yi=function(e,t,r){if(Xi.test(t))e.style.setProperty(t,r);else if(Zi.test(r))e.style.setProperty(t,r.replace(Zi,""),"important");else{var n=to(t);if(Array.isArray(r))for(var i=0,o=r.length;i<o;i++)e.style[n]=r[i];else e.style[n]=r}},eo=["Webkit","Moz","ms"],to=w(function(e){if(Ki=Ki||document.createElement("div").style,e=k(e),"filter"!==e&&e in Ki)return e;for(var t=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<eo.length;r++){var n=eo[r]+t;if(n in Ki)return n}});function ro(e,t){var r=t.data,o=e.data;if(!(n(r.staticStyle)&&n(r.style)&&n(o.staticStyle)&&n(o.style))){var a,s,c=t.elm,u=o.staticStyle,d=o.normalizedStyle||o.style||{},p=u||d,f=qi(t.data.style)||{};t.data.normalizedStyle=i(f.__ob__)?I({},f):f;var l=Qi(t,!0);for(s in p)n(l[s])&&Yi(c,s,"");for(s in l)a=l[s],a!==p[s]&&Yi(c,s,null==a?"":a)}}var no={create:ro,update:ro},io=/\s+/;function oo(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(io).forEach(function(t){return e.classList.add(t)}):e.classList.add(t);else{var r=" "+(e.getAttribute("class")||"")+" ";r.indexOf(" "+t+" ")<0&&e.setAttribute("class",(r+t).trim())}}function ao(e,t){if(t&&(t=t.trim()))if(e.classList)t.indexOf(" ")>-1?t.split(io).forEach(function(t){return e.classList.remove(t)}):e.classList.remove(t),e.classList.length||e.removeAttribute("class");else{var r=" "+(e.getAttribute("class")||"")+" ",n=" "+t+" ";while(r.indexOf(n)>=0)r=r.replace(n," ");r=r.trim(),r?e.setAttribute("class",r):e.removeAttribute("class")}}function so(e){if(e){if("object"===typeof e){var t={};return!1!==e.css&&I(t,co(e.name||"v")),I(t,e),t}return"string"===typeof e?co(e):void 0}}var co=w(function(e){return{enterClass:e+"-enter",enterToClass:e+"-enter-to",enterActiveClass:e+"-enter-active",leaveClass:e+"-leave",leaveToClass:e+"-leave-to",leaveActiveClass:e+"-leave-active"}}),uo=q&&!Y,po="transition",fo="animation",lo="transition",ho="transitionend",mo="animation",vo="animationend";uo&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(lo="WebkitTransition",ho="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(mo="WebkitAnimation",vo="webkitAnimationEnd"));var go=q?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(e){return e()};function yo(e){go(function(){go(e)})}function bo(e,t){var r=e._transitionClasses||(e._transitionClasses=[]);r.indexOf(t)<0&&(r.push(t),oo(e,t))}function wo(e,t){e._transitionClasses&&g(e._transitionClasses,t),ao(e,t)}function _o(e,t,r){var n=To(e,t),i=n.type,o=n.timeout,a=n.propCount;if(!i)return r();var s=i===po?ho:vo,c=0,u=function(){e.removeEventListener(s,d),r()},d=function(t){t.target===e&&++c>=a&&u()};setTimeout(function(){c<a&&u()},o+1),e.addEventListener(s,d)}var ko=/\b(transform|all)(,|$)/;function To(e,t){var r,n=window.getComputedStyle(e),i=(n[lo+"Delay"]||"").split(", "),o=(n[lo+"Duration"]||"").split(", "),a=Co(i,o),s=(n[mo+"Delay"]||"").split(", "),c=(n[mo+"Duration"]||"").split(", "),u=Co(s,c),d=0,p=0;t===po?a>0&&(r=po,d=a,p=o.length):t===fo?u>0&&(r=fo,d=u,p=c.length):(d=Math.max(a,u),r=d>0?a>u?po:fo:null,p=r?r===po?o.length:c.length:0);var f=r===po&&ko.test(n[lo+"Property"]);return{type:r,timeout:d,propCount:p,hasTransform:f}}function Co(e,t){while(e.length<t.length)e=e.concat(e);return Math.max.apply(null,t.map(function(t,r){return So(t)+So(e[r])}))}function So(e){return 1e3*Number(e.slice(0,-1).replace(",","."))}function Ro(e,t){var r=e.elm;i(r._leaveCb)&&(r._leaveCb.cancelled=!0,r._leaveCb());var o=so(e.data.transition);if(!n(o)&&!i(r._enterCb)&&1===r.nodeType){var a=o.css,s=o.type,u=o.enterClass,d=o.enterToClass,p=o.enterActiveClass,f=o.appearClass,l=o.appearToClass,m=o.appearActiveClass,v=o.beforeEnter,g=o.enter,y=o.afterEnter,b=o.enterCancelled,w=o.beforeAppear,_=o.appear,k=o.afterAppear,T=o.appearCancelled,C=o.duration,S=Ut,R=Ut.$vnode;while(R&&R.parent)R=R.parent,S=R.context;var E=!S._isMounted||!e.isRootInsert;if(!E||_||""===_){var x=E&&f?f:u,P=E&&m?m:p,I=E&&l?l:d,O=E&&w||v,A=E&&"function"===typeof _?_:g,j=E&&k||y,M=E&&T||b,L=h(c(C)?C.enter:C);0;var D=!1!==a&&!Y,N=Po(A),U=r._enterCb=$(function(){D&&(wo(r,I),wo(r,P)),U.cancelled?(D&&wo(r,x),M&&M(r)):j&&j(r),r._enterCb=null});e.data.show||yt(e,"insert",function(){var t=r.parentNode,n=t&&t._pending&&t._pending[e.key];n&&n.tag===e.tag&&n.elm._leaveCb&&n.elm._leaveCb(),A&&A(r,U)}),O&&O(r),D&&(bo(r,x),bo(r,P),yo(function(){wo(r,x),U.cancelled||(bo(r,I),N||(xo(L)?setTimeout(U,L):_o(r,s,U)))})),e.data.show&&(t&&t(),A&&A(r,U)),D||N||U()}}}function Eo(e,t){var r=e.elm;i(r._enterCb)&&(r._enterCb.cancelled=!0,r._enterCb());var o=so(e.data.transition);if(n(o)||1!==r.nodeType)return t();if(!i(r._leaveCb)){var a=o.css,s=o.type,u=o.leaveClass,d=o.leaveToClass,p=o.leaveActiveClass,f=o.beforeLeave,l=o.leave,m=o.afterLeave,v=o.leaveCancelled,g=o.delayLeave,y=o.duration,b=!1!==a&&!Y,w=Po(l),_=h(c(y)?y.leave:y);0;var k=r._leaveCb=$(function(){r.parentNode&&r.parentNode._pending&&(r.parentNode._pending[e.key]=null),b&&(wo(r,d),wo(r,p)),k.cancelled?(b&&wo(r,u),v&&v(r)):(t(),m&&m(r)),r._leaveCb=null});g?g(T):T()}function T(){k.cancelled||(!e.data.show&&r.parentNode&&((r.parentNode._pending||(r.parentNode._pending={}))[e.key]=e),f&&f(r),b&&(bo(r,u),bo(r,p),yo(function(){wo(r,u),k.cancelled||(bo(r,d),w||(xo(_)?setTimeout(k,_):_o(r,s,k)))})),l&&l(r,k),b||w||k())}}function xo(e){return"number"===typeof e&&!isNaN(e)}function Po(e){if(n(e))return!1;var t=e.fns;return i(t)?Po(Array.isArray(t)?t[0]:t):(e._length||e.length)>1}function Io(e,t){!0!==t.data.show&&Ro(t)}var Oo=q?{create:Io,activate:Io,remove:function(e,t){!0!==e.data.show?Eo(e,t):t()}}:{},Ao=[Pi,Ai,Fi,Wi,no,Oo],jo=Ao.concat(Si),Mo=gi({nodeOps:ui,modules:jo});Y&&document.addEventListener("selectionchange",function(){var e=document.activeElement;e&&e.vmodel&&Vo(e,"input")});var Lo={inserted:function(e,t,r,n){"select"===r.tag?(n.elm&&!n.elm._vOptions?yt(r,"postpatch",function(){Lo.componentUpdated(e,t,r)}):Do(e,t,r.context),e._vOptions=[].map.call(e.options,Uo)):("textarea"===r.tag||Qn(e.type))&&(e._vModifiers=t.modifiers,t.modifiers.lazy||(e.addEventListener("compositionstart",Fo),e.addEventListener("compositionend",Bo),e.addEventListener("change",Bo),Y&&(e.vmodel=!0)))},componentUpdated:function(e,t,r){if("select"===r.tag){Do(e,t,r.context);var n=e._vOptions,i=e._vOptions=[].map.call(e.options,Uo);if(i.some(function(e,t){return!L(e,n[t])})){var o=e.multiple?t.value.some(function(e){return No(e,i)}):t.value!==t.oldValue&&No(t.value,i);o&&Vo(e,"change")}}}};function Do(e,t,r){$o(e,t,r),(Z||ee)&&setTimeout(function(){$o(e,t,r)},0)}function $o(e,t,r){var n=t.value,i=e.multiple;if(!i||Array.isArray(n)){for(var o,a,s=0,c=e.options.length;s<c;s++)if(a=e.options[s],i)o=D(n,Uo(a))>-1,a.selected!==o&&(a.selected=o);else if(L(Uo(a),n))return void(e.selectedIndex!==s&&(e.selectedIndex=s));i||(e.selectedIndex=-1)}}function No(e,t){return t.every(function(t){return!L(t,e)})}function Uo(e){return"_value"in e?e._value:e.value}function Fo(e){e.target.composing=!0}function Bo(e){e.target.composing&&(e.target.composing=!1,Vo(e.target,"input"))}function Vo(e,t){var r=document.createEvent("HTMLEvents");r.initEvent(t,!0,!0),e.dispatchEvent(r)}function Go(e){return!e.componentInstance||e.data&&e.data.transition?e:Go(e.componentInstance._vnode)}var Ho={bind:function(e,t,r){var n=t.value;r=Go(r);var i=r.data&&r.data.transition,o=e.__vOriginalDisplay="none"===e.style.display?"":e.style.display;n&&i?(r.data.show=!0,Ro(r,function(){e.style.display=o})):e.style.display=n?o:"none"},update:function(e,t,r){var n=t.value,i=t.oldValue;if(!n!==!i){r=Go(r);var o=r.data&&r.data.transition;o?(r.data.show=!0,n?Ro(r,function(){e.style.display=e.__vOriginalDisplay}):Eo(r,function(){e.style.display="none"})):e.style.display=n?e.__vOriginalDisplay:"none"}},unbind:function(e,t,r,n,i){i||(e.style.display=e.__vOriginalDisplay)}},Wo={model:Lo,show:Ho},zo={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function Jo(e){var t=e&&e.componentOptions;return t&&t.Ctor.options.abstract?Jo(Pt(t.children)):e}function qo(e){var t={},r=e.$options;for(var n in r.propsData)t[n]=e[n];var i=r._parentListeners;for(var o in i)t[k(o)]=i[o];return t}function Qo(e,t){if(/\d-keep-alive$/.test(t.tag))return e("keep-alive",{props:t.componentOptions.propsData})}function Ko(e){while(e=e.parent)if(e.data.transition)return!0}function Xo(e,t){return t.key===e.key&&t.tag===e.tag}var Zo=function(e){return e.tag||xt(e)},Yo=function(e){return"show"===e.name},ea={name:"transition",props:zo,abstract:!0,render:function(e){var t=this,r=this.$slots.default;if(r&&(r=r.filter(Zo),r.length)){0;var n=this.mode;0;var i=r[0];if(Ko(this.$vnode))return i;var o=Jo(i);if(!o)return i;if(this._leaving)return Qo(e,i);var a="__transition-"+this._uid+"-";o.key=null==o.key?o.isComment?a+"comment":a+o.tag:s(o.key)?0===String(o.key).indexOf(a)?o.key:a+o.key:o.key;var c=(o.data||(o.data={})).transition=qo(this),u=this._vnode,d=Jo(u);if(o.data.directives&&o.data.directives.some(Yo)&&(o.data.show=!0),d&&d.data&&!Xo(o,d)&&!xt(d)&&(!d.componentInstance||!d.componentInstance._vnode.isComment)){var p=d.data.transition=I({},c);if("out-in"===n)return this._leaving=!0,yt(p,"afterLeave",function(){t._leaving=!1,t.$forceUpdate()}),Qo(e,i);if("in-out"===n){if(xt(o))return u;var f,l=function(){f()};yt(c,"afterEnter",l),yt(c,"enterCancelled",l),yt(p,"delayLeave",function(e){f=e})}}return i}}},ta=I({tag:String,moveClass:String},zo);delete ta.mode;var ra={props:ta,beforeMount:function(){var e=this,t=this._update;this._update=function(r,n){var i=Ft(e);e.__patch__(e._vnode,e.kept,!1,!0),e._vnode=e.kept,i(),t.call(e,r,n)}},render:function(e){for(var t=this.tag||this.$vnode.data.tag||"span",r=Object.create(null),n=this.prevChildren=this.children,i=this.$slots.default||[],o=this.children=[],a=qo(this),s=0;s<i.length;s++){var c=i[s];if(c.tag)if(null!=c.key&&0!==String(c.key).indexOf("__vlist"))o.push(c),r[c.key]=c,(c.data||(c.data={})).transition=a;else;}if(n){for(var u=[],d=[],p=0;p<n.length;p++){var f=n[p];f.data.transition=a,f.data.pos=f.elm.getBoundingClientRect(),r[f.key]?u.push(f):d.push(f)}this.kept=e(t,null,u),this.removed=d}return e(t,null,o)},updated:function(){var e=this.prevChildren,t=this.moveClass||(this.name||"v")+"-move";e.length&&this.hasMove(e[0].elm,t)&&(e.forEach(na),e.forEach(ia),e.forEach(oa),this._reflow=document.body.offsetHeight,e.forEach(function(e){if(e.data.moved){var r=e.elm,n=r.style;bo(r,t),n.transform=n.WebkitTransform=n.transitionDuration="",r.addEventListener(ho,r._moveCb=function e(n){n&&n.target!==r||n&&!/transform$/.test(n.propertyName)||(r.removeEventListener(ho,e),r._moveCb=null,wo(r,t))})}}))},methods:{hasMove:function(e,t){if(!uo)return!1;if(this._hasMove)return this._hasMove;var r=e.cloneNode();e._transitionClasses&&e._transitionClasses.forEach(function(e){ao(r,e)}),oo(r,t),r.style.display="none",this.$el.appendChild(r);var n=To(r);return this.$el.removeChild(r),this._hasMove=n.hasTransform}}};function na(e){e.elm._moveCb&&e.elm._moveCb(),e.elm._enterCb&&e.elm._enterCb()}function ia(e){e.data.newPos=e.elm.getBoundingClientRect()}function oa(e){var t=e.data.pos,r=e.data.newPos,n=t.left-r.left,i=t.top-r.top;if(n||i){e.data.moved=!0;var o=e.elm.style;o.transform=o.WebkitTransform="translate("+n+"px,"+i+"px)",o.transitionDuration="0s"}}var aa={Transition:ea,TransitionGroup:ra};pn.config.mustUseProp=xn,pn.config.isReservedTag=Wn,pn.config.isReservedAttr=Rn,pn.config.getTagNamespace=zn,pn.config.isUnknownElement=qn,I(pn.options.directives,Wo),I(pn.options.components,aa),pn.prototype.__patch__=q?Mo:A,pn.prototype.$mount=function(e,t){return e=e&&q?Kn(e):void 0,Gt(this,e,t)},q&&setTimeout(function(){B.devtools&&ae&&ae.emit("init",pn)},0),t["a"]=pn}).call(this,r("c8ba"))},"2b4c":function(e,t,r){var n=r("5537")("wks"),i=r("ca5a"),o=r("7726").Symbol,a="function"==typeof o,s=e.exports=function(e){return n[e]||(n[e]=a&&o[e]||(a?o:i)("Symbol."+e))};s.store=n},"2d00":function(e,t){e.exports=!1},"2d83":function(e,t,r){"use strict";var n=r("387f");e.exports=function(e,t,r,i,o){var a=new Error(e);return n(a,t,r,i,o)}},"2d95":function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},"2e67":function(e,t,r){"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},"30b5":function(e,t,r){"use strict";var n=r("c532");function i(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,r){if(!t)return e;var o;if(r)o=r(t);else if(n.isURLSearchParams(t))o=t.toString();else{var a=[];n.forEach(t,function(e,t){null!==e&&"undefined"!==typeof e&&(n.isArray(e)?t+="[]":e=[e],n.forEach(e,function(e){n.isDate(e)?e=e.toISOString():n.isObject(e)&&(e=JSON.stringify(e)),a.push(i(t)+"="+i(e))}))}),o=a.join("&")}return o&&(e+=(-1===e.indexOf("?")?"?":"&")+o),e}},"31f4":function(e,t){e.exports=function(e,t,r){var n=void 0===r;switch(t.length){case 0:return n?e():e.call(r);case 1:return n?e(t[0]):e.call(r,t[0]);case 2:return n?e(t[0],t[1]):e.call(r,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(r,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(r,t[0],t[1],t[2],t[3])}return e.apply(r,t)}},"32e9":function(e,t,r){var n=r("86cc"),i=r("4630");e.exports=r("9e1e")?function(e,t,r){return n.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},"33a4":function(e,t,r){var n=r("84f2"),i=r("2b4c")("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||o[i]===e)}},"37c8":function(e,t,r){t.f=r("2b4c")},"387f":function(e,t,r){"use strict";e.exports=function(e,t,r,n,i){return e.config=t,r&&(e.code=r),e.request=n,e.response=i,e}},"38fd":function(e,t,r){var n=r("69a8"),i=r("4bf8"),o=r("613b")("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=i(e),n(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},3934:function(e,t,r){"use strict";var n=r("c532");e.exports=n.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function i(e){var n=e;return t&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return e=i(window.location.href),function(t){var r=n.isString(t)?i(t):t;return r.protocol===e.protocol&&r.host===e.host}}():function(){return function(){return!0}}()},"3a72":function(e,t,r){var n=r("7726"),i=r("8378"),o=r("2d00"),a=r("37c8"),s=r("86cc").f;e.exports=function(e){var t=i.Symbol||(i.Symbol=o?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:a.f(e)})}},"41a0":function(e,t,r){"use strict";var n=r("2aeb"),i=r("4630"),o=r("7f20"),a={};r("32e9")(a,r("2b4c")("iterator"),function(){return this}),e.exports=function(e,t,r){e.prototype=n(a,{next:i(1,r)}),o(e,t+" Iterator")}},4362:function(e,t,r){t.nextTick=function(e){setTimeout(e,0)},t.platform=t.arch=t.execPath=t.title="browser",t.pid=1,t.browser=!0,t.env={},t.argv=[],t.binding=function(e){throw new Error("No such module. (Possibly not yet loaded)")},function(){var e,n="/";t.cwd=function(){return n},t.chdir=function(t){e||(e=r("df7c")),n=e.resolve(t,n)}}(),t.exit=t.kill=t.umask=t.dlopen=t.uptime=t.memoryUsage=t.uvCounters=function(){},t.features={}},4588:function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},4630:function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"467f":function(e,t,r){"use strict";var n=r("2d83");e.exports=function(e,t,r){var i=r.config.validateStatus;r.status&&i&&!i(r.status)?t(n("Request failed with status code "+r.status,r.config,null,r.request,r)):e(r)}},"4a59":function(e,t,r){var n=r("9b43"),i=r("1fa8"),o=r("33a4"),a=r("cb7c"),s=r("9def"),c=r("27ee"),u={},d={};t=e.exports=function(e,t,r,p,f){var l,h,m,v,g=f?function(){return e}:c(e),y=n(r,p,t?2:1),b=0;if("function"!=typeof g)throw TypeError(e+" is not iterable!");if(o(g)){for(l=s(e.length);l>b;b++)if(v=t?y(a(h=e[b])[0],h[1]):y(e[b]),v===u||v===d)return v}else for(m=g.call(e);!(h=m.next()).done;)if(v=i(m,y,h.value,t),v===u||v===d)return v};t.BREAK=u,t.RETURN=d},"4bf8":function(e,t,r){var n=r("be13");e.exports=function(e){return Object(n(e))}},5270:function(e,t,r){"use strict";var n=r("c532"),i=r("c401"),o=r("2e67"),a=r("2444"),s=r("d925"),c=r("e683");function u(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){u(e),e.baseURL&&!s(e.url)&&(e.url=c(e.baseURL,e.url)),e.headers=e.headers||{},e.data=i(e.data,e.headers,e.transformRequest),e.headers=n.merge(e.headers.common||{},e.headers[e.method]||{},e.headers||{}),n.forEach(["delete","get","head","post","put","patch","common"],function(t){delete e.headers[t]});var t=e.adapter||a.adapter;return t(e).then(function(t){return u(e),t.data=i(t.data,t.headers,e.transformResponse),t},function(t){return o(t)||(u(e),t&&t.response&&(t.response.data=i(t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)})}},"52a7":function(e,t){t.f={}.propertyIsEnumerable},"551c":function(e,t,r){"use strict";var n,i,o,a,s=r("2d00"),c=r("7726"),u=r("9b43"),d=r("23c6"),p=r("5ca1"),f=r("d3f4"),l=r("d8e8"),h=r("f605"),m=r("4a59"),v=r("ebd6"),g=r("1991").set,y=r("8079")(),b=r("a5b8"),w=r("9c80"),_=r("a25f"),k=r("bcaa"),T="Promise",C=c.TypeError,S=c.process,R=S&&S.versions,E=R&&R.v8||"",x=c[T],P="process"==d(S),I=function(){},O=i=b.f,A=!!function(){try{var e=x.resolve(1),t=(e.constructor={})[r("2b4c")("species")]=function(e){e(I,I)};return(P||"function"==typeof PromiseRejectionEvent)&&e.then(I)instanceof t&&0!==E.indexOf("6.6")&&-1===_.indexOf("Chrome/66")}catch(n){}}(),j=function(e){var t;return!(!f(e)||"function"!=typeof(t=e.then))&&t},M=function(e,t){if(!e._n){e._n=!0;var r=e._c;y(function(){var n=e._v,i=1==e._s,o=0,a=function(t){var r,o,a,s=i?t.ok:t.fail,c=t.resolve,u=t.reject,d=t.domain;try{s?(i||(2==e._h&&$(e),e._h=1),!0===s?r=n:(d&&d.enter(),r=s(n),d&&(d.exit(),a=!0)),r===t.promise?u(C("Promise-chain cycle")):(o=j(r))?o.call(r,c,u):c(r)):u(n)}catch(p){d&&!a&&d.exit(),u(p)}};while(r.length>o)a(r[o++]);e._c=[],e._n=!1,t&&!e._h&&L(e)})}},L=function(e){g.call(c,function(){var t,r,n,i=e._v,o=D(e);if(o&&(t=w(function(){P?S.emit("unhandledRejection",i,e):(r=c.onunhandledrejection)?r({promise:e,reason:i}):(n=c.console)&&n.error&&n.error("Unhandled promise rejection",i)}),e._h=P||D(e)?2:1),e._a=void 0,o&&t.e)throw t.v})},D=function(e){return 1!==e._h&&0===(e._a||e._c).length},$=function(e){g.call(c,function(){var t;P?S.emit("rejectionHandled",e):(t=c.onrejectionhandled)&&t({promise:e,reason:e._v})})},N=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,t._a||(t._a=t._c.slice()),M(t,!0))},U=function(e){var t,r=this;if(!r._d){r._d=!0,r=r._w||r;try{if(r===e)throw C("Promise can't be resolved itself");(t=j(e))?y(function(){var n={_w:r,_d:!1};try{t.call(e,u(U,n,1),u(N,n,1))}catch(i){N.call(n,i)}}):(r._v=e,r._s=1,M(r,!1))}catch(n){N.call({_w:r,_d:!1},n)}}};A||(x=function(e){h(this,x,T,"_h"),l(e),n.call(this);try{e(u(U,this,1),u(N,this,1))}catch(t){N.call(this,t)}},n=function(e){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},n.prototype=r("dcbc")(x.prototype,{then:function(e,t){var r=O(v(this,x));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=P?S.domain:void 0,this._c.push(r),this._a&&this._a.push(r),this._s&&M(this,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),o=function(){var e=new n;this.promise=e,this.resolve=u(U,e,1),this.reject=u(N,e,1)},b.f=O=function(e){return e===x||e===a?new o(e):i(e)}),p(p.G+p.W+p.F*!A,{Promise:x}),r("7f20")(x,T),r("7a56")(T),a=r("8378")[T],p(p.S+p.F*!A,T,{reject:function(e){var t=O(this),r=t.reject;return r(e),t.promise}}),p(p.S+p.F*(s||!A),T,{resolve:function(e){return k(s&&this===a?x:this,e)}}),p(p.S+p.F*!(A&&r("5cc5")(function(e){x.all(e)["catch"](I)})),T,{all:function(e){var t=this,r=O(t),n=r.resolve,i=r.reject,o=w(function(){var r=[],o=0,a=1;m(e,!1,function(e){var s=o++,c=!1;r.push(void 0),a++,t.resolve(e).then(function(e){c||(c=!0,r[s]=e,--a||n(r))},i)}),--a||n(r)});return o.e&&i(o.v),r.promise},race:function(e){var t=this,r=O(t),n=r.reject,i=w(function(){m(e,!1,function(e){t.resolve(e).then(r.resolve,n)})});return i.e&&n(i.v),r.promise}})},5537:function(e,t,r){var n=r("8378"),i=r("7726"),o="__core-js_shared__",a=i[o]||(i[o]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:r("2d00")?"pure":"global",copyright:"© 2018 Denis Pushkarev (zloirock.ru)"})},"5ca1":function(e,t,r){var n=r("7726"),i=r("8378"),o=r("32e9"),a=r("2aba"),s=r("9b43"),c="prototype",u=function(e,t,r){var d,p,f,l,h=e&u.F,m=e&u.G,v=e&u.S,g=e&u.P,y=e&u.B,b=m?n:v?n[t]||(n[t]={}):(n[t]||{})[c],w=m?i:i[t]||(i[t]={}),_=w[c]||(w[c]={});for(d in m&&(r=t),r)p=!h&&b&&void 0!==b[d],f=(p?b:r)[d],l=y&&p?s(f,n):g&&"function"==typeof f?s(Function.call,f):f,b&&a(b,d,f,e&u.U),w[d]!=f&&o(w,d,l),g&&_[d]!=f&&(_[d]=f)};n.core=i,u.F=1,u.G=2,u.S=4,u.P=8,u.B=16,u.W=32,u.U=64,u.R=128,e.exports=u},"5cc5":function(e,t,r){var n=r("2b4c")("iterator"),i=!1;try{var o=[7][n]();o["return"]=function(){i=!0},Array.from(o,function(){throw 2})}catch(a){}e.exports=function(e,t){if(!t&&!i)return!1;var r=!1;try{var o=[7],s=o[n]();s.next=function(){return{done:r=!0}},o[n]=function(){return s},e(o)}catch(a){}return r}},"613b":function(e,t,r){var n=r("5537")("keys"),i=r("ca5a");e.exports=function(e){return n[e]||(n[e]=i(e))}},"626a":function(e,t,r){var n=r("2d95");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},"67ab":function(e,t,r){var n=r("ca5a")("meta"),i=r("d3f4"),o=r("69a8"),a=r("86cc").f,s=0,c=Object.isExtensible||function(){return!0},u=!r("79e5")(function(){return c(Object.preventExtensions({}))}),d=function(e){a(e,n,{value:{i:"O"+ ++s,w:{}}})},p=function(e,t){if(!i(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,n)){if(!c(e))return"F";if(!t)return"E";d(e)}return e[n].i},f=function(e,t){if(!o(e,n)){if(!c(e))return!0;if(!t)return!1;d(e)}return e[n].w},l=function(e){return u&&h.NEED&&c(e)&&!o(e,n)&&d(e),e},h=e.exports={KEY:n,NEED:!1,fastKey:p,getWeak:f,onFreeze:l}},6821:function(e,t,r){var n=r("626a"),i=r("be13");e.exports=function(e){return n(i(e))}},"69a8":function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},"6a99":function(e,t,r){var n=r("d3f4");e.exports=function(e,t){if(!n(e))return e;var r,i;if(t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;if("function"==typeof(r=e.valueOf)&&!n(i=r.call(e)))return i;if(!t&&"function"==typeof(r=e.toString)&&!n(i=r.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},7514:function(e,t,r){"use strict";var n=r("5ca1"),i=r("0a49")(5),o="find",a=!0;o in[]&&Array(1)[o](function(){a=!1}),n(n.P+n.F*a,"Array",{find:function(e){return i(this,e,arguments.length>1?arguments[1]:void 0)}}),r("9c6c")(o)},7726:function(e,t){var r=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=r)},"77f1":function(e,t,r){var n=r("4588"),i=Math.max,o=Math.min;e.exports=function(e,t){return e=n(e),e<0?i(e+t,0):o(e,t)}},"79e5":function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},"7a56":function(e,t,r){"use strict";var n=r("7726"),i=r("86cc"),o=r("9e1e"),a=r("2b4c")("species");e.exports=function(e){var t=n[e];o&&t&&!t[a]&&i.f(t,a,{configurable:!0,get:function(){return this}})}},"7a77":function(e,t,r){"use strict";function n(e){this.message=e}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,e.exports=n},"7aac":function(e,t,r){"use strict";var n=r("c532");e.exports=n.isStandardBrowserEnv()?function(){return{write:function(e,t,r,i,o,a){var s=[];s.push(e+"="+encodeURIComponent(t)),n.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),n.isString(i)&&s.push("path="+i),n.isString(o)&&s.push("domain="+o),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},"7bbc":function(e,t,r){var n=r("6821"),i=r("9093").f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(e){try{return i(e)}catch(t){return a.slice()}};e.exports.f=function(e){return a&&"[object Window]"==o.call(e)?s(e):i(n(e))}},"7f20":function(e,t,r){var n=r("86cc").f,i=r("69a8"),o=r("2b4c")("toStringTag");e.exports=function(e,t,r){e&&!i(e=r?e:e.prototype,o)&&n(e,o,{configurable:!0,value:t})}},8079:function(e,t,r){var n=r("7726"),i=r("1991").set,o=n.MutationObserver||n.WebKitMutationObserver,a=n.process,s=n.Promise,c="process"==r("2d95")(a);e.exports=function(){var e,t,r,u=function(){var n,i;c&&(n=a.domain)&&n.exit();while(e){i=e.fn,e=e.next;try{i()}catch(o){throw e?r():t=void 0,o}}t=void 0,n&&n.enter()};if(c)r=function(){a.nextTick(u)};else if(!o||n.navigator&&n.navigator.standalone)if(s&&s.resolve){var d=s.resolve(void 0);r=function(){d.then(u)}}else r=function(){i.call(n,u)};else{var p=!0,f=document.createTextNode("");new o(u).observe(f,{characterData:!0}),r=function(){f.data=p=!p}}return function(n){var i={fn:n,next:void 0};t&&(t.next=i),e||(e=i,r()),t=i}}},8378:function(e,t){var r=e.exports={version:"2.6.0"};"number"==typeof __e&&(__e=r)},"84f2":function(e,t){e.exports={}},"86cc":function(e,t,r){var n=r("cb7c"),i=r("c69a"),o=r("6a99"),a=Object.defineProperty;t.f=r("9e1e")?Object.defineProperty:function(e,t,r){if(n(e),t=o(t,!0),n(r),i)try{return a(e,t,r)}catch(s){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},"8a81":function(e,t,r){"use strict";var n=r("7726"),i=r("69a8"),o=r("9e1e"),a=r("5ca1"),s=r("2aba"),c=r("67ab").KEY,u=r("79e5"),d=r("5537"),p=r("7f20"),f=r("ca5a"),l=r("2b4c"),h=r("37c8"),m=r("3a72"),v=r("d4c0"),g=r("1169"),y=r("cb7c"),b=r("d3f4"),w=r("6821"),_=r("6a99"),k=r("4630"),T=r("2aeb"),C=r("7bbc"),S=r("11e9"),R=r("86cc"),E=r("0d58"),x=S.f,P=R.f,I=C.f,O=n.Symbol,A=n.JSON,j=A&&A.stringify,M="prototype",L=l("_hidden"),D=l("toPrimitive"),$={}.propertyIsEnumerable,N=d("symbol-registry"),U=d("symbols"),F=d("op-symbols"),B=Object[M],V="function"==typeof O,G=n.QObject,H=!G||!G[M]||!G[M].findChild,W=o&&u(function(){return 7!=T(P({},"a",{get:function(){return P(this,"a",{value:7}).a}})).a})?function(e,t,r){var n=x(B,t);n&&delete B[t],P(e,t,r),n&&e!==B&&P(B,t,n)}:P,z=function(e){var t=U[e]=T(O[M]);return t._k=e,t},J=V&&"symbol"==typeof O.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof O},q=function(e,t,r){return e===B&&q(F,t,r),y(e),t=_(t,!0),y(r),i(U,t)?(r.enumerable?(i(e,L)&&e[L][t]&&(e[L][t]=!1),r=T(r,{enumerable:k(0,!1)})):(i(e,L)||P(e,L,k(1,{})),e[L][t]=!0),W(e,t,r)):P(e,t,r)},Q=function(e,t){y(e);var r,n=v(t=w(t)),i=0,o=n.length;while(o>i)q(e,r=n[i++],t[r]);return e},K=function(e,t){return void 0===t?T(e):Q(T(e),t)},X=function(e){var t=$.call(this,e=_(e,!0));return!(this===B&&i(U,e)&&!i(F,e))&&(!(t||!i(this,e)||!i(U,e)||i(this,L)&&this[L][e])||t)},Z=function(e,t){if(e=w(e),t=_(t,!0),e!==B||!i(U,t)||i(F,t)){var r=x(e,t);return!r||!i(U,t)||i(e,L)&&e[L][t]||(r.enumerable=!0),r}},Y=function(e){var t,r=I(w(e)),n=[],o=0;while(r.length>o)i(U,t=r[o++])||t==L||t==c||n.push(t);return n},ee=function(e){var t,r=e===B,n=I(r?F:w(e)),o=[],a=0;while(n.length>a)!i(U,t=n[a++])||r&&!i(B,t)||o.push(U[t]);return o};V||(O=function(){if(this instanceof O)throw TypeError("Symbol is not a constructor!");var e=f(arguments.length>0?arguments[0]:void 0),t=function(r){this===B&&t.call(F,r),i(this,L)&&i(this[L],e)&&(this[L][e]=!1),W(this,e,k(1,r))};return o&&H&&W(B,e,{configurable:!0,set:t}),z(e)},s(O[M],"toString",function(){return this._k}),S.f=Z,R.f=q,r("9093").f=C.f=Y,r("52a7").f=X,r("2621").f=ee,o&&!r("2d00")&&s(B,"propertyIsEnumerable",X,!0),h.f=function(e){return z(l(e))}),a(a.G+a.W+a.F*!V,{Symbol:O});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),re=0;te.length>re;)l(te[re++]);for(var ne=E(l.store),ie=0;ne.length>ie;)m(ne[ie++]);a(a.S+a.F*!V,"Symbol",{for:function(e){return i(N,e+="")?N[e]:N[e]=O(e)},keyFor:function(e){if(!J(e))throw TypeError(e+" is not a symbol!");for(var t in N)if(N[t]===e)return t},useSetter:function(){H=!0},useSimple:function(){H=!1}}),a(a.S+a.F*!V,"Object",{create:K,defineProperty:q,defineProperties:Q,getOwnPropertyDescriptor:Z,getOwnPropertyNames:Y,getOwnPropertySymbols:ee}),A&&a(a.S+a.F*(!V||u(function(){var e=O();return"[null]"!=j([e])||"{}"!=j({a:e})||"{}"!=j(Object(e))})),"JSON",{stringify:function(e){var t,r,n=[e],i=1;while(arguments.length>i)n.push(arguments[i++]);if(r=t=n[1],(b(t)||void 0!==e)&&!J(e))return g(t)||(t=function(e,t){if("function"==typeof r&&(t=r.call(this,e,t)),!J(t))return t}),n[1]=t,j.apply(A,n)}}),O[M][D]||r("32e9")(O[M],D,O[M].valueOf),p(O,"Symbol"),p(Math,"Math",!0),p(n.JSON,"JSON",!0)},"8c4f":function(e,t,r){"use strict";
/*!
  * vue-router v3.0.2
  * (c) 2018 Evan You
  * @license MIT
  */function n(e,t){0}function i(e){return Object.prototype.toString.call(e).indexOf("Error")>-1}function o(e,t){for(var r in t)e[r]=t[r];return e}var a={name:"RouterView",functional:!0,props:{name:{type:String,default:"default"}},render:function(e,t){var r=t.props,n=t.children,i=t.parent,a=t.data;a.routerView=!0;var c=i.$createElement,u=r.name,d=i.$route,p=i._routerViewCache||(i._routerViewCache={}),f=0,l=!1;while(i&&i._routerRoot!==i)i.$vnode&&i.$vnode.data.routerView&&f++,i._inactive&&(l=!0),i=i.$parent;if(a.routerViewDepth=f,l)return c(p[u],a,n);var h=d.matched[f];if(!h)return p[u]=null,c();var m=p[u]=h.components[u];a.registerRouteInstance=function(e,t){var r=h.instances[u];(t&&r!==e||!t&&r===e)&&(h.instances[u]=t)},(a.hook||(a.hook={})).prepatch=function(e,t){h.instances[u]=t.componentInstance};var v=a.props=s(d,h.props&&h.props[u]);if(v){v=a.props=o({},v);var g=a.attrs=a.attrs||{};for(var y in v)m.props&&y in m.props||(g[y]=v[y],delete v[y])}return c(m,a,n)}};function s(e,t){switch(typeof t){case"undefined":return;case"object":return t;case"function":return t(e);case"boolean":return t?e.params:void 0;default:0}}var c=/[!'()*]/g,u=function(e){return"%"+e.charCodeAt(0).toString(16)},d=/%2C/g,p=function(e){return encodeURIComponent(e).replace(c,u).replace(d,",")},f=decodeURIComponent;function l(e,t,r){void 0===t&&(t={});var n,i=r||h;try{n=i(e||"")}catch(a){n={}}for(var o in t)n[o]=t[o];return n}function h(e){var t={};return e=e.trim().replace(/^(\?|#|&)/,""),e?(e.split("&").forEach(function(e){var r=e.replace(/\+/g," ").split("="),n=f(r.shift()),i=r.length>0?f(r.join("=")):null;void 0===t[n]?t[n]=i:Array.isArray(t[n])?t[n].push(i):t[n]=[t[n],i]}),t):t}function m(e){var t=e?Object.keys(e).map(function(t){var r=e[t];if(void 0===r)return"";if(null===r)return p(t);if(Array.isArray(r)){var n=[];return r.forEach(function(e){void 0!==e&&(null===e?n.push(p(t)):n.push(p(t)+"="+p(e)))}),n.join("&")}return p(t)+"="+p(r)}).filter(function(e){return e.length>0}).join("&"):null;return t?"?"+t:""}var v=/\/?$/;function g(e,t,r,n){var i=n&&n.options.stringifyQuery,o=t.query||{};try{o=y(o)}catch(s){}var a={name:t.name||e&&e.name,meta:e&&e.meta||{},path:t.path||"/",hash:t.hash||"",query:o,params:t.params||{},fullPath:_(t,i),matched:e?w(e):[]};return r&&(a.redirectedFrom=_(r,i)),Object.freeze(a)}function y(e){if(Array.isArray(e))return e.map(y);if(e&&"object"===typeof e){var t={};for(var r in e)t[r]=y(e[r]);return t}return e}var b=g(null,{path:"/"});function w(e){var t=[];while(e)t.unshift(e),e=e.parent;return t}function _(e,t){var r=e.path,n=e.query;void 0===n&&(n={});var i=e.hash;void 0===i&&(i="");var o=t||m;return(r||"/")+o(n)+i}function k(e,t){return t===b?e===t:!!t&&(e.path&&t.path?e.path.replace(v,"")===t.path.replace(v,"")&&e.hash===t.hash&&T(e.query,t.query):!(!e.name||!t.name)&&(e.name===t.name&&e.hash===t.hash&&T(e.query,t.query)&&T(e.params,t.params)))}function T(e,t){if(void 0===e&&(e={}),void 0===t&&(t={}),!e||!t)return e===t;var r=Object.keys(e),n=Object.keys(t);return r.length===n.length&&r.every(function(r){var n=e[r],i=t[r];return"object"===typeof n&&"object"===typeof i?T(n,i):String(n)===String(i)})}function C(e,t){return 0===e.path.replace(v,"/").indexOf(t.path.replace(v,"/"))&&(!t.hash||e.hash===t.hash)&&S(e.query,t.query)}function S(e,t){for(var r in t)if(!(r in e))return!1;return!0}var R,E=[String,Object],x=[String,Array],P={name:"RouterLink",props:{to:{type:E,required:!0},tag:{type:String,default:"a"},exact:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,event:{type:x,default:"click"}},render:function(e){var t=this,r=this.$router,n=this.$route,i=r.resolve(this.to,n,this.append),a=i.location,s=i.route,c=i.href,u={},d=r.options.linkActiveClass,p=r.options.linkExactActiveClass,f=null==d?"router-link-active":d,l=null==p?"router-link-exact-active":p,h=null==this.activeClass?f:this.activeClass,m=null==this.exactActiveClass?l:this.exactActiveClass,v=a.path?g(null,a,null,r):s;u[m]=k(n,v),u[h]=this.exact?u[m]:C(n,v);var y=function(e){I(e)&&(t.replace?r.replace(a):r.push(a))},b={click:I};Array.isArray(this.event)?this.event.forEach(function(e){b[e]=y}):b[this.event]=y;var w={class:u};if("a"===this.tag)w.on=b,w.attrs={href:c};else{var _=O(this.$slots.default);if(_){_.isStatic=!1;var T=_.data=o({},_.data);T.on=b;var S=_.data.attrs=o({},_.data.attrs);S.href=c}else w.on=b}return e(this.tag,w,this.$slots.default)}};function I(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&(void 0===e.button||0===e.button)){if(e.currentTarget&&e.currentTarget.getAttribute){var t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function O(e){if(e)for(var t,r=0;r<e.length;r++){if(t=e[r],"a"===t.tag)return t;if(t.children&&(t=O(t.children)))return t}}function A(e){if(!A.installed||R!==e){A.installed=!0,R=e;var t=function(e){return void 0!==e},r=function(e,r){var n=e.$options._parentVnode;t(n)&&t(n=n.data)&&t(n=n.registerRouteInstance)&&n(e,r)};e.mixin({beforeCreate:function(){t(this.$options.router)?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),e.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this,r(this,this)},destroyed:function(){r(this)}}),Object.defineProperty(e.prototype,"$router",{get:function(){return this._routerRoot._router}}),Object.defineProperty(e.prototype,"$route",{get:function(){return this._routerRoot._route}}),e.component("RouterView",a),e.component("RouterLink",P);var n=e.config.optionMergeStrategies;n.beforeRouteEnter=n.beforeRouteLeave=n.beforeRouteUpdate=n.created}}var j="undefined"!==typeof window;function M(e,t,r){var n=e.charAt(0);if("/"===n)return e;if("?"===n||"#"===n)return t+e;var i=t.split("/");r&&i[i.length-1]||i.pop();for(var o=e.replace(/^\//,"").split("/"),a=0;a<o.length;a++){var s=o[a];".."===s?i.pop():"."!==s&&i.push(s)}return""!==i[0]&&i.unshift(""),i.join("/")}function L(e){var t="",r="",n=e.indexOf("#");n>=0&&(t=e.slice(n),e=e.slice(0,n));var i=e.indexOf("?");return i>=0&&(r=e.slice(i+1),e=e.slice(0,i)),{path:e,query:r,hash:t}}function D(e){return e.replace(/\/\//g,"/")}var $=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)},N=ne,U=H,F=W,B=q,V=re,G=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function H(e,t){var r,n=[],i=0,o=0,a="",s=t&&t.delimiter||"/";while(null!=(r=G.exec(e))){var c=r[0],u=r[1],d=r.index;if(a+=e.slice(o,d),o=d+c.length,u)a+=u[1];else{var p=e[o],f=r[2],l=r[3],h=r[4],m=r[5],v=r[6],g=r[7];a&&(n.push(a),a="");var y=null!=f&&null!=p&&p!==f,b="+"===v||"*"===v,w="?"===v||"*"===v,_=r[2]||s,k=h||m;n.push({name:l||i++,prefix:f||"",delimiter:_,optional:w,repeat:b,partial:y,asterisk:!!g,pattern:k?K(k):g?".*":"[^"+Q(_)+"]+?"})}}return o<e.length&&(a+=e.substr(o)),a&&n.push(a),n}function W(e,t){return q(H(e,t))}function z(e){return encodeURI(e).replace(/[\/?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function J(e){return encodeURI(e).replace(/[?#]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}function q(e){for(var t=new Array(e.length),r=0;r<e.length;r++)"object"===typeof e[r]&&(t[r]=new RegExp("^(?:"+e[r].pattern+")$"));return function(r,n){for(var i="",o=r||{},a=n||{},s=a.pretty?z:encodeURIComponent,c=0;c<e.length;c++){var u=e[c];if("string"!==typeof u){var d,p=o[u.name];if(null==p){if(u.optional){u.partial&&(i+=u.prefix);continue}throw new TypeError('Expected "'+u.name+'" to be defined')}if($(p)){if(!u.repeat)throw new TypeError('Expected "'+u.name+'" to not repeat, but received `'+JSON.stringify(p)+"`");if(0===p.length){if(u.optional)continue;throw new TypeError('Expected "'+u.name+'" to not be empty')}for(var f=0;f<p.length;f++){if(d=s(p[f]),!t[c].test(d))throw new TypeError('Expected all "'+u.name+'" to match "'+u.pattern+'", but received `'+JSON.stringify(d)+"`");i+=(0===f?u.prefix:u.delimiter)+d}}else{if(d=u.asterisk?J(p):s(p),!t[c].test(d))throw new TypeError('Expected "'+u.name+'" to match "'+u.pattern+'", but received "'+d+'"');i+=u.prefix+d}}else i+=u}return i}}function Q(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function K(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function X(e,t){return e.keys=t,e}function Z(e){return e.sensitive?"":"i"}function Y(e,t){var r=e.source.match(/\((?!\?)/g);if(r)for(var n=0;n<r.length;n++)t.push({name:n,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return X(e,t)}function ee(e,t,r){for(var n=[],i=0;i<e.length;i++)n.push(ne(e[i],t,r).source);var o=new RegExp("(?:"+n.join("|")+")",Z(r));return X(o,t)}function te(e,t,r){return re(H(e,r),t,r)}function re(e,t,r){$(t)||(r=t||r,t=[]),r=r||{};for(var n=r.strict,i=!1!==r.end,o="",a=0;a<e.length;a++){var s=e[a];if("string"===typeof s)o+=Q(s);else{var c=Q(s.prefix),u="(?:"+s.pattern+")";t.push(s),s.repeat&&(u+="(?:"+c+u+")*"),u=s.optional?s.partial?c+"("+u+")?":"(?:"+c+"("+u+"))?":c+"("+u+")",o+=u}}var d=Q(r.delimiter||"/"),p=o.slice(-d.length)===d;return n||(o=(p?o.slice(0,-d.length):o)+"(?:"+d+"(?=$))?"),o+=i?"$":n&&p?"":"(?="+d+"|$)",X(new RegExp("^"+o,Z(r)),t)}function ne(e,t,r){return $(t)||(r=t||r,t=[]),r=r||{},e instanceof RegExp?Y(e,t):$(e)?ee(e,t,r):te(e,t,r)}N.parse=U,N.compile=F,N.tokensToFunction=B,N.tokensToRegExp=V;var ie=Object.create(null);function oe(e,t,r){try{var n=ie[e]||(ie[e]=N.compile(e));return n(t||{},{pretty:!0})}catch(i){return""}}function ae(e,t,r,n){var i=t||[],o=r||Object.create(null),a=n||Object.create(null);e.forEach(function(e){se(i,o,a,e)});for(var s=0,c=i.length;s<c;s++)"*"===i[s]&&(i.push(i.splice(s,1)[0]),c--,s--);return{pathList:i,pathMap:o,nameMap:a}}function se(e,t,r,n,i,o){var a=n.path,s=n.name;var c=n.pathToRegexpOptions||{},u=ue(a,i,c.strict);"boolean"===typeof n.caseSensitive&&(c.sensitive=n.caseSensitive);var d={path:u,regex:ce(u,c),components:n.components||{default:n.component},instances:{},name:s,parent:i,matchAs:o,redirect:n.redirect,beforeEnter:n.beforeEnter,meta:n.meta||{},props:null==n.props?{}:n.components?n.props:{default:n.props}};if(n.children&&n.children.forEach(function(n){var i=o?D(o+"/"+n.path):void 0;se(e,t,r,n,d,i)}),void 0!==n.alias){var p=Array.isArray(n.alias)?n.alias:[n.alias];p.forEach(function(o){var a={path:o,children:n.children};se(e,t,r,a,i,d.path||"/")})}t[d.path]||(e.push(d.path),t[d.path]=d),s&&(r[s]||(r[s]=d))}function ce(e,t){var r=N(e,[],t);return r}function ue(e,t,r){return r||(e=e.replace(/\/$/,"")),"/"===e[0]?e:null==t?e:D(t.path+"/"+e)}function de(e,t,r,n){var i="string"===typeof e?{path:e}:e;if(i.name||i._normalized)return i;if(!i.path&&i.params&&t){i=o({},i),i._normalized=!0;var a=o(o({},t.params),i.params);if(t.name)i.name=t.name,i.params=a;else if(t.matched.length){var s=t.matched[t.matched.length-1].path;i.path=oe(s,a,"path "+t.path)}else 0;return i}var c=L(i.path||""),u=t&&t.path||"/",d=c.path?M(c.path,u,r||i.append):u,p=l(c.query,i.query,n&&n.options.parseQuery),f=i.hash||c.hash;return f&&"#"!==f.charAt(0)&&(f="#"+f),{_normalized:!0,path:d,query:p,hash:f}}function pe(e,t){var r=ae(e),n=r.pathList,i=r.pathMap,o=r.nameMap;function a(e){ae(e,n,i,o)}function s(e,r,a){var s=de(e,r,!1,t),c=s.name;if(c){var u=o[c];if(!u)return d(null,s);var p=u.regex.keys.filter(function(e){return!e.optional}).map(function(e){return e.name});if("object"!==typeof s.params&&(s.params={}),r&&"object"===typeof r.params)for(var f in r.params)!(f in s.params)&&p.indexOf(f)>-1&&(s.params[f]=r.params[f]);if(u)return s.path=oe(u.path,s.params,'named route "'+c+'"'),d(u,s,a)}else if(s.path){s.params={};for(var l=0;l<n.length;l++){var h=n[l],m=i[h];if(fe(m.regex,s.path,s.params))return d(m,s,a)}}return d(null,s)}function c(e,r){var n=e.redirect,i="function"===typeof n?n(g(e,r,null,t)):n;if("string"===typeof i&&(i={path:i}),!i||"object"!==typeof i)return d(null,r);var a=i,c=a.name,u=a.path,p=r.query,f=r.hash,l=r.params;if(p=a.hasOwnProperty("query")?a.query:p,f=a.hasOwnProperty("hash")?a.hash:f,l=a.hasOwnProperty("params")?a.params:l,c){o[c];return s({_normalized:!0,name:c,query:p,hash:f,params:l},void 0,r)}if(u){var h=le(u,e),m=oe(h,l,'redirect route with path "'+h+'"');return s({_normalized:!0,path:m,query:p,hash:f},void 0,r)}return d(null,r)}function u(e,t,r){var n=oe(r,t.params,'aliased route with path "'+r+'"'),i=s({_normalized:!0,path:n});if(i){var o=i.matched,a=o[o.length-1];return t.params=i.params,d(a,t)}return d(null,t)}function d(e,r,n){return e&&e.redirect?c(e,n||r):e&&e.matchAs?u(e,r,e.matchAs):g(e,r,n,t)}return{match:s,addRoutes:a}}function fe(e,t,r){var n=t.match(e);if(!n)return!1;if(!r)return!0;for(var i=1,o=n.length;i<o;++i){var a=e.keys[i-1],s="string"===typeof n[i]?decodeURIComponent(n[i]):n[i];a&&(r[a.name||"pathMatch"]=s)}return!0}function le(e,t){return M(e,t.parent?t.parent.path:"/",!0)}var he=Object.create(null);function me(){window.history.replaceState({key:Pe()},"",window.location.href.replace(window.location.origin,"")),window.addEventListener("popstate",function(e){ge(),e.state&&e.state.key&&Ie(e.state.key)})}function ve(e,t,r,n){if(e.app){var i=e.options.scrollBehavior;i&&e.app.$nextTick(function(){var o=ye(),a=i.call(e,t,r,n?o:null);a&&("function"===typeof a.then?a.then(function(e){Ce(e,o)}).catch(function(e){0}):Ce(a,o))})}}function ge(){var e=Pe();e&&(he[e]={x:window.pageXOffset,y:window.pageYOffset})}function ye(){var e=Pe();if(e)return he[e]}function be(e,t){var r=document.documentElement,n=r.getBoundingClientRect(),i=e.getBoundingClientRect();return{x:i.left-n.left-t.x,y:i.top-n.top-t.y}}function we(e){return Te(e.x)||Te(e.y)}function _e(e){return{x:Te(e.x)?e.x:window.pageXOffset,y:Te(e.y)?e.y:window.pageYOffset}}function ke(e){return{x:Te(e.x)?e.x:0,y:Te(e.y)?e.y:0}}function Te(e){return"number"===typeof e}function Ce(e,t){var r="object"===typeof e;if(r&&"string"===typeof e.selector){var n=document.querySelector(e.selector);if(n){var i=e.offset&&"object"===typeof e.offset?e.offset:{};i=ke(i),t=be(n,i)}else we(e)&&(t=_e(e))}else r&&we(e)&&(t=_e(e));t&&window.scrollTo(t.x,t.y)}var Se=j&&function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)}(),Re=j&&window.performance&&window.performance.now?window.performance:Date,Ee=xe();function xe(){return Re.now().toFixed(3)}function Pe(){return Ee}function Ie(e){Ee=e}function Oe(e,t){ge();var r=window.history;try{t?r.replaceState({key:Ee},"",e):(Ee=xe(),r.pushState({key:Ee},"",e))}catch(n){window.location[t?"replace":"assign"](e)}}function Ae(e){Oe(e,!0)}function je(e,t,r){var n=function(i){i>=e.length?r():e[i]?t(e[i],function(){n(i+1)}):n(i+1)};n(0)}function Me(e){return function(t,r,n){var o=!1,a=0,s=null;Le(e,function(e,t,r,c){if("function"===typeof e&&void 0===e.cid){o=!0,a++;var u,d=Ue(function(t){Ne(t)&&(t=t.default),e.resolved="function"===typeof t?t:R.extend(t),r.components[c]=t,a--,a<=0&&n()}),p=Ue(function(e){var t="Failed to resolve async component "+c+": "+e;s||(s=i(e)?e:new Error(t),n(s))});try{u=e(d,p)}catch(l){p(l)}if(u)if("function"===typeof u.then)u.then(d,p);else{var f=u.component;f&&"function"===typeof f.then&&f.then(d,p)}}}),o||n()}}function Le(e,t){return De(e.map(function(e){return Object.keys(e.components).map(function(r){return t(e.components[r],e.instances[r],e,r)})}))}function De(e){return Array.prototype.concat.apply([],e)}var $e="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag;function Ne(e){return e.__esModule||$e&&"Module"===e[Symbol.toStringTag]}function Ue(e){var t=!1;return function(){var r=[],n=arguments.length;while(n--)r[n]=arguments[n];if(!t)return t=!0,e.apply(this,r)}}var Fe=function(e,t){this.router=e,this.base=Be(t),this.current=b,this.pending=null,this.ready=!1,this.readyCbs=[],this.readyErrorCbs=[],this.errorCbs=[]};function Be(e){if(!e)if(j){var t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^https?:\/\/[^\/]+/,"")}else e="/";return"/"!==e.charAt(0)&&(e="/"+e),e.replace(/\/$/,"")}function Ve(e,t){var r,n=Math.max(e.length,t.length);for(r=0;r<n;r++)if(e[r]!==t[r])break;return{updated:t.slice(0,r),activated:t.slice(r),deactivated:e.slice(r)}}function Ge(e,t,r,n){var i=Le(e,function(e,n,i,o){var a=He(e,t);if(a)return Array.isArray(a)?a.map(function(e){return r(e,n,i,o)}):r(a,n,i,o)});return De(n?i.reverse():i)}function He(e,t){return"function"!==typeof e&&(e=R.extend(e)),e.options[t]}function We(e){return Ge(e,"beforeRouteLeave",Je,!0)}function ze(e){return Ge(e,"beforeRouteUpdate",Je)}function Je(e,t){if(t)return function(){return e.apply(t,arguments)}}function qe(e,t,r){return Ge(e,"beforeRouteEnter",function(e,n,i,o){return Qe(e,i,o,t,r)})}function Qe(e,t,r,n,i){return function(o,a,s){return e(o,a,function(e){s(e),"function"===typeof e&&n.push(function(){Ke(e,t.instances,r,i)})})}}function Ke(e,t,r,n){t[r]&&!t[r]._isBeingDestroyed?e(t[r]):n()&&setTimeout(function(){Ke(e,t,r,n)},16)}Fe.prototype.listen=function(e){this.cb=e},Fe.prototype.onReady=function(e,t){this.ready?e():(this.readyCbs.push(e),t&&this.readyErrorCbs.push(t))},Fe.prototype.onError=function(e){this.errorCbs.push(e)},Fe.prototype.transitionTo=function(e,t,r){var n=this,i=this.router.match(e,this.current);this.confirmTransition(i,function(){n.updateRoute(i),t&&t(i),n.ensureURL(),n.ready||(n.ready=!0,n.readyCbs.forEach(function(e){e(i)}))},function(e){r&&r(e),e&&!n.ready&&(n.ready=!0,n.readyErrorCbs.forEach(function(t){t(e)}))})},Fe.prototype.confirmTransition=function(e,t,r){var o=this,a=this.current,s=function(e){i(e)&&(o.errorCbs.length?o.errorCbs.forEach(function(t){t(e)}):(n(!1,"uncaught error during route navigation:"),console.error(e))),r&&r(e)};if(k(e,a)&&e.matched.length===a.matched.length)return this.ensureURL(),s();var c=Ve(this.current.matched,e.matched),u=c.updated,d=c.deactivated,p=c.activated,f=[].concat(We(d),this.router.beforeHooks,ze(u),p.map(function(e){return e.beforeEnter}),Me(p));this.pending=e;var l=function(t,r){if(o.pending!==e)return s();try{t(e,a,function(e){!1===e||i(e)?(o.ensureURL(!0),s(e)):"string"===typeof e||"object"===typeof e&&("string"===typeof e.path||"string"===typeof e.name)?(s(),"object"===typeof e&&e.replace?o.replace(e):o.push(e)):r(e)})}catch(n){s(n)}};je(f,l,function(){var r=[],n=function(){return o.current===e},i=qe(p,r,n),a=i.concat(o.router.resolveHooks);je(a,l,function(){if(o.pending!==e)return s();o.pending=null,t(e),o.router.app&&o.router.app.$nextTick(function(){r.forEach(function(e){e()})})})})},Fe.prototype.updateRoute=function(e){var t=this.current;this.current=e,this.cb&&this.cb(e),this.router.afterHooks.forEach(function(r){r&&r(e,t)})};var Xe=function(e){function t(t,r){var n=this;e.call(this,t,r);var i=t.options.scrollBehavior,o=Se&&i;o&&me();var a=Ze(this.base);window.addEventListener("popstate",function(e){var r=n.current,i=Ze(n.base);n.current===b&&i===a||n.transitionTo(i,function(e){o&&ve(t,e,r,!0)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.go=function(e){window.history.go(e)},t.prototype.push=function(e,t,r){var n=this,i=this,o=i.current;this.transitionTo(e,function(e){Oe(D(n.base+e.fullPath)),ve(n.router,e,o,!1),t&&t(e)},r)},t.prototype.replace=function(e,t,r){var n=this,i=this,o=i.current;this.transitionTo(e,function(e){Ae(D(n.base+e.fullPath)),ve(n.router,e,o,!1),t&&t(e)},r)},t.prototype.ensureURL=function(e){if(Ze(this.base)!==this.current.fullPath){var t=D(this.base+this.current.fullPath);e?Oe(t):Ae(t)}},t.prototype.getCurrentLocation=function(){return Ze(this.base)},t}(Fe);function Ze(e){var t=decodeURI(window.location.pathname);return e&&0===t.indexOf(e)&&(t=t.slice(e.length)),(t||"/")+window.location.search+window.location.hash}var Ye=function(e){function t(t,r,n){e.call(this,t,r),n&&et(this.base)||tt()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.setupListeners=function(){var e=this,t=this.router,r=t.options.scrollBehavior,n=Se&&r;n&&me(),window.addEventListener(Se?"popstate":"hashchange",function(){var t=e.current;tt()&&e.transitionTo(rt(),function(r){n&&ve(e.router,r,t,!0),Se||ot(r.fullPath)})})},t.prototype.push=function(e,t,r){var n=this,i=this,o=i.current;this.transitionTo(e,function(e){it(e.fullPath),ve(n.router,e,o,!1),t&&t(e)},r)},t.prototype.replace=function(e,t,r){var n=this,i=this,o=i.current;this.transitionTo(e,function(e){ot(e.fullPath),ve(n.router,e,o,!1),t&&t(e)},r)},t.prototype.go=function(e){window.history.go(e)},t.prototype.ensureURL=function(e){var t=this.current.fullPath;rt()!==t&&(e?it(t):ot(t))},t.prototype.getCurrentLocation=function(){return rt()},t}(Fe);function et(e){var t=Ze(e);if(!/^\/#/.test(t))return window.location.replace(D(e+"/#"+t)),!0}function tt(){var e=rt();return"/"===e.charAt(0)||(ot("/"+e),!1)}function rt(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":decodeURI(e.slice(t+1))}function nt(e){var t=window.location.href,r=t.indexOf("#"),n=r>=0?t.slice(0,r):t;return n+"#"+e}function it(e){Se?Oe(nt(e)):window.location.hash=e}function ot(e){Se?Ae(nt(e)):window.location.replace(nt(e))}var at=function(e){function t(t,r){e.call(this,t,r),this.stack=[],this.index=-1}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.push=function(e,t,r){var n=this;this.transitionTo(e,function(e){n.stack=n.stack.slice(0,n.index+1).concat(e),n.index++,t&&t(e)},r)},t.prototype.replace=function(e,t,r){var n=this;this.transitionTo(e,function(e){n.stack=n.stack.slice(0,n.index).concat(e),t&&t(e)},r)},t.prototype.go=function(e){var t=this,r=this.index+e;if(!(r<0||r>=this.stack.length)){var n=this.stack[r];this.confirmTransition(n,function(){t.index=r,t.updateRoute(n)})}},t.prototype.getCurrentLocation=function(){var e=this.stack[this.stack.length-1];return e?e.fullPath:"/"},t.prototype.ensureURL=function(){},t}(Fe),st=function(e){void 0===e&&(e={}),this.app=null,this.apps=[],this.options=e,this.beforeHooks=[],this.resolveHooks=[],this.afterHooks=[],this.matcher=pe(e.routes||[],this);var t=e.mode||"hash";switch(this.fallback="history"===t&&!Se&&!1!==e.fallback,this.fallback&&(t="hash"),j||(t="abstract"),this.mode=t,t){case"history":this.history=new Xe(this,e.base);break;case"hash":this.history=new Ye(this,e.base,this.fallback);break;case"abstract":this.history=new at(this,e.base);break;default:0}},ct={currentRoute:{configurable:!0}};function ut(e,t){return e.push(t),function(){var r=e.indexOf(t);r>-1&&e.splice(r,1)}}function dt(e,t,r){var n="hash"===r?"#"+t:t;return e?D(e+"/"+n):n}st.prototype.match=function(e,t,r){return this.matcher.match(e,t,r)},ct.currentRoute.get=function(){return this.history&&this.history.current},st.prototype.init=function(e){var t=this;if(this.apps.push(e),!this.app){this.app=e;var r=this.history;if(r instanceof Xe)r.transitionTo(r.getCurrentLocation());else if(r instanceof Ye){var n=function(){r.setupListeners()};r.transitionTo(r.getCurrentLocation(),n,n)}r.listen(function(e){t.apps.forEach(function(t){t._route=e})})}},st.prototype.beforeEach=function(e){return ut(this.beforeHooks,e)},st.prototype.beforeResolve=function(e){return ut(this.resolveHooks,e)},st.prototype.afterEach=function(e){return ut(this.afterHooks,e)},st.prototype.onReady=function(e,t){this.history.onReady(e,t)},st.prototype.onError=function(e){this.history.onError(e)},st.prototype.push=function(e,t,r){this.history.push(e,t,r)},st.prototype.replace=function(e,t,r){this.history.replace(e,t,r)},st.prototype.go=function(e){this.history.go(e)},st.prototype.back=function(){this.go(-1)},st.prototype.forward=function(){this.go(1)},st.prototype.getMatchedComponents=function(e){var t=e?e.matched?e:this.resolve(e).route:this.currentRoute;return t?[].concat.apply([],t.matched.map(function(e){return Object.keys(e.components).map(function(t){return e.components[t]})})):[]},st.prototype.resolve=function(e,t,r){var n=de(e,t||this.history.current,r,this),i=this.match(n,t),o=i.redirectedFrom||i.fullPath,a=this.history.base,s=dt(a,o,this.mode);return{location:n,route:i,href:s,normalizedTo:n,resolved:i}},st.prototype.addRoutes=function(e){this.matcher.addRoutes(e),this.history.current!==b&&this.history.transitionTo(this.history.getCurrentLocation())},Object.defineProperties(st.prototype,ct),st.install=A,st.version="3.0.2",j&&window.Vue&&window.Vue.use(st),t["a"]=st},"8df4":function(e,t,r){"use strict";var n=r("7a77");function i(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise(function(e){t=e});var r=this;e(function(e){r.reason||(r.reason=new n(e),t(r.reason))})}i.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},i.source=function(){var e,t=new i(function(t){e=t});return{token:t,cancel:e}},e.exports=i},9093:function(e,t,r){var n=r("ce10"),i=r("e11e").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,i)}},"96cf":function(e,t){!function(t){"use strict";var r,n=Object.prototype,i=n.hasOwnProperty,o="function"===typeof Symbol?Symbol:{},a=o.iterator||"@@iterator",s=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag",u="object"===typeof e,d=t.regeneratorRuntime;if(d)u&&(e.exports=d);else{d=t.regeneratorRuntime=u?e.exports:{},d.wrap=w;var p="suspendedStart",f="suspendedYield",l="executing",h="completed",m={},v={};v[a]=function(){return this};var g=Object.getPrototypeOf,y=g&&g(g(A([])));y&&y!==n&&i.call(y,a)&&(v=y);var b=C.prototype=k.prototype=Object.create(v);T.prototype=b.constructor=C,C.constructor=T,C[c]=T.displayName="GeneratorFunction",d.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===T||"GeneratorFunction"===(t.displayName||t.name))},d.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,C):(e.__proto__=C,c in e||(e[c]="GeneratorFunction")),e.prototype=Object.create(b),e},d.awrap=function(e){return{__await:e}},S(R.prototype),R.prototype[s]=function(){return this},d.AsyncIterator=R,d.async=function(e,t,r,n){var i=new R(w(e,t,r,n));return d.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},S(b),b[c]="Generator",b[a]=function(){return this},b.toString=function(){return"[object Generator]"},d.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){while(t.length){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},d.values=A,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=r,this.done=!1,this.delegate=null,this.method="next",this.arg=r,this.tryEntries.forEach(I),!e)for(var t in this)"t"===t.charAt(0)&&i.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=r)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,i){return s.type="throw",s.arg=e,t.next=n,i&&(t.method="next",t.arg=r),!!i}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),u=i.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),I(r),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var i=n.arg;I(r)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:A(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=r),m}}}function w(e,t,r,n){var i=t&&t.prototype instanceof k?t:k,o=Object.create(i.prototype),a=new O(n||[]);return o._invoke=E(e,r,a),o}function _(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(n){return{type:"throw",arg:n}}}function k(){}function T(){}function C(){}function S(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function R(e){function t(r,n,o,a){var s=_(e[r],e,n);if("throw"!==s.type){var c=s.arg,u=c.value;return u&&"object"===typeof u&&i.call(u,"__await")?Promise.resolve(u.__await).then(function(e){t("next",e,o,a)},function(e){t("throw",e,o,a)}):Promise.resolve(u).then(function(e){c.value=e,o(c)},function(e){return t("throw",e,o,a)})}a(s.arg)}var r;function n(e,n){function i(){return new Promise(function(r,i){t(e,n,r,i)})}return r=r?r.then(i,i):i()}this._invoke=n}function E(e,t,r){var n=p;return function(i,o){if(n===l)throw new Error("Generator is already running");if(n===h){if("throw"===i)throw o;return j()}r.method=i,r.arg=o;while(1){var a=r.delegate;if(a){var s=x(a,r);if(s){if(s===m)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(n===p)throw n=h,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n=l;var c=_(e,t,r);if("normal"===c.type){if(n=r.done?h:f,c.arg===m)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(n=h,r.method="throw",r.arg=c.arg)}}}function x(e,t){var n=e.iterator[t.method];if(n===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=r,x(e,t),"throw"===t.method))return m;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var i=_(n,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,m;var o=i.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=r),t.delegate=null,m):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function P(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function I(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(P,this),this.reset(!0)}function A(e){if(e){var t=e[a];if(t)return t.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){while(++n<e.length)if(i.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=r,t.done=!0,t};return o.next=o}}return{next:j}}function j(){return{value:r,done:!0}}}(function(){return this||"object"===typeof self&&self}()||Function("return this")())},"9b43":function(e,t,r){var n=r("d8e8");e.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,i){return e.call(t,r,n,i)}}return function(){return e.apply(t,arguments)}}},"9c6c":function(e,t,r){var n=r("2b4c")("unscopables"),i=Array.prototype;void 0==i[n]&&r("32e9")(i,n,{}),e.exports=function(e){i[n][e]=!0}},"9c80":function(e,t){e.exports=function(e){try{return{e:!1,v:e()}}catch(t){return{e:!0,v:t}}}},"9def":function(e,t,r){var n=r("4588"),i=Math.min;e.exports=function(e){return e>0?i(n(e),9007199254740991):0}},"9e1e":function(e,t,r){e.exports=!r("79e5")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},"9fa6":function(e,t,r){"use strict";var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function i(){this.message="String contains an invalid character"}function o(e){for(var t,r,o=String(e),a="",s=0,c=n;o.charAt(0|s)||(c="=",s%1);a+=c.charAt(63&t>>8-s%1*8)){if(r=o.charCodeAt(s+=.75),r>255)throw new i;t=t<<8|r}return a}i.prototype=new Error,i.prototype.code=5,i.prototype.name="InvalidCharacterError",e.exports=o},a25f:function(e,t,r){var n=r("7726"),i=n.navigator;e.exports=i&&i.userAgent||""},a5b8:function(e,t,r){"use strict";var n=r("d8e8");function i(e){var t,r;this.promise=new e(function(e,n){if(void 0!==t||void 0!==r)throw TypeError("Bad Promise constructor");t=e,r=n}),this.resolve=n(t),this.reject=n(r)}e.exports.f=function(e){return new i(e)}},a7a3:function(e,t,r){(function(t,r){e.exports=function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,function(t){return e[t]}.bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=24)}([function(e,r,n){(function(e){var n=200,i="Expected a function",o="__lodash_hash_undefined__",a=1,s=2,c=1/0,u=9007199254740991,d="[object Arguments]",p="[object Array]",f="[object Boolean]",l="[object Date]",h="[object Error]",m="[object Function]",v="[object GeneratorFunction]",g="[object Map]",y="[object Number]",b="[object Object]",w="[object RegExp]",_="[object Set]",k="[object String]",T="[object Symbol]",C="[object ArrayBuffer]",S="[object DataView]",R=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,E=/^\w*$/,x=/^\./,P=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,I=/\\(\\)?/g,O=/^\[object .+?Constructor\]$/,A=/^(?:0|[1-9]\d*)$/,j={};j["[object Float32Array]"]=j["[object Float64Array]"]=j["[object Int8Array]"]=j["[object Int16Array]"]=j["[object Int32Array]"]=j["[object Uint8Array]"]=j["[object Uint8ClampedArray]"]=j["[object Uint16Array]"]=j["[object Uint32Array]"]=!0,j[d]=j[p]=j[C]=j[f]=j[S]=j[l]=j[h]=j[m]=j[g]=j[y]=j[b]=j[w]=j[_]=j[k]=j["[object WeakMap]"]=!1;var M="object"==typeof t&&t&&t.Object===Object&&t,L="object"==typeof self&&self&&self.Object===Object&&self,D=M||L||Function("return this")(),$="object"==typeof r&&r&&!r.nodeType&&r,N=$&&"object"==typeof e&&e&&!e.nodeType&&e,U=N&&N.exports===$&&M.process,F=function(){try{return U&&U.binding("util")}catch(e){}}(),B=F&&F.isTypedArray;function V(e,t){for(var r=-1,n=e?e.length:0;++r<n;)if(t(e[r],r,e))return!0;return!1}function G(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function H(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r}function W(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}var z=Array.prototype,J=Function.prototype,q=Object.prototype,Q=D["__core-js_shared__"],K=function(){var e=/[^.]+$/.exec(Q&&Q.keys&&Q.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),X=J.toString,Z=q.hasOwnProperty,Y=q.toString,ee=RegExp("^"+X.call(Z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),te=D.Symbol,re=D.Uint8Array,ne=q.propertyIsEnumerable,ie=z.splice,oe=function(e,t){return function(r){return e(t(r))}}(Object.keys,Object),ae=De(D,"DataView"),se=De(D,"Map"),ce=De(D,"Promise"),ue=De(D,"Set"),de=De(D,"WeakMap"),pe=De(Object,"create"),fe=We(ae),le=We(se),he=We(ce),me=We(ue),ve=We(de),ge=te?te.prototype:void 0,ye=ge?ge.valueOf:void 0,be=ge?ge.toString:void 0;function we(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function _e(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function ke(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Te(e){var t=-1,r=e?e.length:0;for(this.__data__=new ke;++t<r;)this.add(e[t])}function Ce(e){this.__data__=new _e(e)}function Se(e,t){var r=Ke(e)||Qe(e)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],n=r.length,i=!!n;for(var o in e)!t&&!Z.call(e,o)||i&&("length"==o||Ne(o,n))||r.push(o);return r}function Re(e,t){for(var r=e.length;r--;)if(qe(e[r][0],t))return r;return-1}function Ee(e,t){for(var r=0,n=(t=Ue(t,e)?[t]:je(t)).length;null!=e&&r<n;)e=e[He(t[r++])];return r&&r==n?e:void 0}function xe(e,t){return null!=e&&t in Object(e)}function Pe(e,t,r,n,i){return e===t||(null==e||null==t||!et(e)&&!tt(t)?e!=e&&t!=t:function(e,t,r,n,i,o){var c=Ke(e),u=Ke(t),m=p,v=p;c||(m=(m=$e(e))==d?b:m),u||(v=(v=$e(t))==d?b:v);var R=m==b&&!G(e),E=v==b&&!G(t),x=m==v;if(x&&!R)return o||(o=new Ce),c||nt(e)?Me(e,t,r,n,i,o):function(e,t,r,n,i,o,c){switch(r){case S:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case C:return!(e.byteLength!=t.byteLength||!n(new re(e),new re(t)));case f:case l:case y:return qe(+e,+t);case h:return e.name==t.name&&e.message==t.message;case w:case k:return e==t+"";case g:var u=H;case _:var d=o&s;if(u||(u=W),e.size!=t.size&&!d)return!1;var p=c.get(e);if(p)return p==t;o|=a,c.set(e,t);var m=Me(u(e),u(t),n,i,o,c);return c.delete(e),m;case T:if(ye)return ye.call(e)==ye.call(t)}return!1}(e,t,m,r,n,i,o);if(!(i&s)){var P=R&&Z.call(e,"__wrapped__"),I=E&&Z.call(t,"__wrapped__");if(P||I){var O=P?e.value():e,A=I?t.value():t;return o||(o=new Ce),r(O,A,n,i,o)}}return!!x&&(o||(o=new Ce),function(e,t,r,n,i,o){var a=i&s,c=it(e),u=c.length,d=it(t).length;if(u!=d&&!a)return!1;for(var p=u;p--;){var f=c[p];if(!(a?f in t:Z.call(t,f)))return!1}var l=o.get(e);if(l&&o.get(t))return l==t;var h=!0;o.set(e,t),o.set(t,e);for(var m=a;++p<u;){f=c[p];var v=e[f],g=t[f];if(n)var y=a?n(g,v,f,t,e,o):n(v,g,f,e,t,o);if(!(void 0===y?v===g||r(v,g,n,i,o):y)){h=!1;break}m||(m="constructor"==f)}if(h&&!m){var b=e.constructor,w=t.constructor;b!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w)&&(h=!1)}return o.delete(e),o.delete(t),h}(e,t,r,n,i,o))}(e,t,Pe,r,n,i))}function Ie(e){return!(!et(e)||function(e){return!!K&&K in e}(e))&&(Ze(e)||G(e)?ee:O).test(We(e))}function Oe(e){return"function"==typeof e?e:null==e?ot:"object"==typeof e?Ke(e)?function(e,t){return Ue(e)&&Fe(t)?Be(He(e),t):function(r){var n=function(e,t,r){var n=null==e?void 0:Ee(e,t);return void 0===n?r:n}(r,e);return void 0===n&&n===t?function(e,t){return null!=e&&function(e,t,r){for(var n,i=-1,o=(t=Ue(t,e)?[t]:je(t)).length;++i<o;){var a=He(t[i]);if(!(n=null!=e&&r(e,a)))break;e=e[a]}return n||!!(o=e?e.length:0)&&Ye(o)&&Ne(a,o)&&(Ke(e)||Qe(e))}(e,t,xe)}(r,e):Pe(t,n,void 0,a|s)}}(e[0],e[1]):function(e){var t=function(e){for(var t=it(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,Fe(i)]}return t}(e);return 1==t.length&&t[0][2]?Be(t[0][0],t[0][1]):function(r){return r===e||function(e,t,r,n){var i=r.length,o=i,c=!n;if(null==e)return!o;for(e=Object(e);i--;){var u=r[i];if(c&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++i<o;){var d=(u=r[i])[0],p=e[d],f=u[1];if(c&&u[2]){if(void 0===p&&!(d in e))return!1}else{var l=new Ce;if(n)var h=n(p,f,d,e,t,l);if(!(void 0===h?Pe(f,p,n,a|s,l):h))return!1}}return!0}(r,e,t)}}(e):function(e){return Ue(e)?function(e){return function(t){return null==t?void 0:t[e]}}(He(e)):function(e){return function(t){return Ee(t,e)}}(e)}(e)}function Ae(e){if(!function(e){var t=e&&e.constructor,r="function"==typeof t&&t.prototype||q;return e===r}(e))return oe(e);var t=[];for(var r in Object(e))Z.call(e,r)&&"constructor"!=r&&t.push(r);return t}function je(e){return Ke(e)?e:Ge(e)}function Me(e,t,r,n,i,o){var c=i&s,u=e.length,d=t.length;if(u!=d&&!(c&&d>u))return!1;var p=o.get(e);if(p&&o.get(t))return p==t;var f=-1,l=!0,h=i&a?new Te:void 0;for(o.set(e,t),o.set(t,e);++f<u;){var m=e[f],v=t[f];if(n)var g=c?n(v,m,f,t,e,o):n(m,v,f,e,t,o);if(void 0!==g){if(g)continue;l=!1;break}if(h){if(!V(t,function(e,t){if(!h.has(t)&&(m===e||r(m,e,n,i,o)))return h.add(t)})){l=!1;break}}else if(m!==v&&!r(m,v,n,i,o)){l=!1;break}}return o.delete(e),o.delete(t),l}function Le(e,t){var r=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function De(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return Ie(r)?r:void 0}we.prototype.clear=function(){this.__data__=pe?pe(null):{}},we.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},we.prototype.get=function(e){var t=this.__data__;if(pe){var r=t[e];return r===o?void 0:r}return Z.call(t,e)?t[e]:void 0},we.prototype.has=function(e){var t=this.__data__;return pe?void 0!==t[e]:Z.call(t,e)},we.prototype.set=function(e,t){return this.__data__[e]=pe&&void 0===t?o:t,this},_e.prototype.clear=function(){this.__data__=[]},_e.prototype.delete=function(e){var t=this.__data__,r=Re(t,e);return!(r<0||(r==t.length-1?t.pop():ie.call(t,r,1),0))},_e.prototype.get=function(e){var t=this.__data__,r=Re(t,e);return r<0?void 0:t[r][1]},_e.prototype.has=function(e){return Re(this.__data__,e)>-1},_e.prototype.set=function(e,t){var r=this.__data__,n=Re(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},ke.prototype.clear=function(){this.__data__={hash:new we,map:new(se||_e),string:new we}},ke.prototype.delete=function(e){return Le(this,e).delete(e)},ke.prototype.get=function(e){return Le(this,e).get(e)},ke.prototype.has=function(e){return Le(this,e).has(e)},ke.prototype.set=function(e,t){return Le(this,e).set(e,t),this},Te.prototype.add=Te.prototype.push=function(e){return this.__data__.set(e,o),this},Te.prototype.has=function(e){return this.__data__.has(e)},Ce.prototype.clear=function(){this.__data__=new _e},Ce.prototype.delete=function(e){return this.__data__.delete(e)},Ce.prototype.get=function(e){return this.__data__.get(e)},Ce.prototype.has=function(e){return this.__data__.has(e)},Ce.prototype.set=function(e,t){var r=this.__data__;if(r instanceof _e){var i=r.__data__;if(!se||i.length<n-1)return i.push([e,t]),this;r=this.__data__=new ke(i)}return r.set(e,t),this};var $e=function(e){return Y.call(e)};function Ne(e,t){return!!(t=null==t?u:t)&&("number"==typeof e||A.test(e))&&e>-1&&e%1==0&&e<t}function Ue(e,t){if(Ke(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!rt(e))||E.test(e)||!R.test(e)||null!=t&&e in Object(t)}function Fe(e){return e==e&&!et(e)}function Be(e,t){return function(r){return null!=r&&r[e]===t&&(void 0!==t||e in Object(r))}}function Ve(e,t){return 1==t.length?e:Ee(e,function(e,t,r){var n=-1,i=e.length;t<0&&(t=-t>i?0:i+t),(r=r>i?i:r)<0&&(r+=i),i=t>r?0:r-t>>>0,t>>>=0;for(var o=Array(i);++n<i;)o[n]=e[n+t];return o}(t,0,-1))}(ae&&$e(new ae(new ArrayBuffer(1)))!=S||se&&$e(new se)!=g||ce&&"[object Promise]"!=$e(ce.resolve())||ue&&$e(new ue)!=_||de&&"[object WeakMap]"!=$e(new de))&&($e=function(e){var t=Y.call(e),r=t==b?e.constructor:void 0,n=r?We(r):void 0;if(n)switch(n){case fe:return S;case le:return g;case he:return"[object Promise]";case me:return _;case ve:return"[object WeakMap]"}return t});var Ge=Je(function(e){e=function(e){return null==e?"":function(e){if("string"==typeof e)return e;if(rt(e))return be?be.call(e):"";var t=e+"";return"0"==t&&1/e==-c?"-0":t}(e)}(e);var t=[];return x.test(e)&&t.push(""),e.replace(P,function(e,r,n,i){t.push(n?i.replace(I,"$1"):r||e)}),t});function He(e){if("string"==typeof e||rt(e))return e;var t=e+"";return"0"==t&&1/e==-c?"-0":t}function We(e){if(null!=e){try{return X.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function ze(e){var t=e?e.length:0;return t?e[t-1]:void 0}function Je(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(i);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=e.apply(this,n);return r.cache=o.set(i,a),a};return r.cache=new(Je.Cache||ke),r}function qe(e,t){return e===t||e!=e&&t!=t}function Qe(e){return function(e){return tt(e)&&Xe(e)}(e)&&Z.call(e,"callee")&&(!ne.call(e,"callee")||Y.call(e)==d)}Je.Cache=ke;var Ke=Array.isArray;function Xe(e){return null!=e&&Ye(e.length)&&!Ze(e)}function Ze(e){var t=et(e)?Y.call(e):"";return t==m||t==v}function Ye(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=u}function et(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function tt(e){return!!e&&"object"==typeof e}function rt(e){return"symbol"==typeof e||tt(e)&&Y.call(e)==T}var nt=B?function(e){return function(t){return e(t)}}(B):function(e){return tt(e)&&Ye(e.length)&&!!j[Y.call(e)]};function it(e){return Xe(e)?Se(e):Ae(e)}function ot(e){return e}e.exports=function(e,t){var r=[];if(!e||!e.length)return r;var n=-1,i=[],o=e.length;for(t=Oe(t);++n<o;){var a=e[n];t(a,n,e)&&(r.push(a),i.push(n))}return function(e,t){for(var r=e?t.length:0,n=r-1;r--;){var i=t[r];if(r==n||i!==o){var o=i;if(Ne(i))ie.call(e,i,1);else if(Ue(i,e))delete e[He(i)];else{var a=je(i),s=Ve(e,a);null!=s&&delete s[He(ze(a))]}}}}(e,i),r}}).call(this,n(7)(e))},function(e,t){var n;t=e.exports=q,n="object"==typeof r&&Object({NODE_ENV:"production",BASE_URL:"https://www.cxzweb.club/api/public/"})&&Object({NODE_ENV:"production",BASE_URL:"https://www.cxzweb.club/api/public/"}).NODE_DEBUG&&/\bsemver\b/i.test(Object({NODE_ENV:"production",BASE_URL:"https://www.cxzweb.club/api/public/"}).NODE_DEBUG)?function(){var e=Array.prototype.slice.call(arguments,0);e.unshift("SEMVER"),console.log.apply(console,e)}:function(){},t.SEMVER_SPEC_VERSION="2.0.0";var i=256,o=Number.MAX_SAFE_INTEGER||9007199254740991,a=t.re=[],s=t.src=[],c=0,u=c++;s[u]="0|[1-9]\\d*";var d=c++;s[d]="[0-9]+";var p=c++;s[p]="\\d*[a-zA-Z-][a-zA-Z0-9-]*";var f=c++;s[f]="("+s[u]+")\\.("+s[u]+")\\.("+s[u]+")";var l=c++;s[l]="("+s[d]+")\\.("+s[d]+")\\.("+s[d]+")";var h=c++;s[h]="(?:"+s[u]+"|"+s[p]+")";var m=c++;s[m]="(?:"+s[d]+"|"+s[p]+")";var v=c++;s[v]="(?:-("+s[h]+"(?:\\."+s[h]+")*))";var g=c++;s[g]="(?:-?("+s[m]+"(?:\\."+s[m]+")*))";var y=c++;s[y]="[0-9A-Za-z-]+";var b=c++;s[b]="(?:\\+("+s[y]+"(?:\\."+s[y]+")*))";var w=c++,_="v?"+s[f]+s[v]+"?"+s[b]+"?";s[w]="^"+_+"$";var k="[v=\\s]*"+s[l]+s[g]+"?"+s[b]+"?",T=c++;s[T]="^"+k+"$";var C=c++;s[C]="((?:<|>)?=?)";var S=c++;s[S]=s[d]+"|x|X|\\*";var R=c++;s[R]=s[u]+"|x|X|\\*";var E=c++;s[E]="[v=\\s]*("+s[R]+")(?:\\.("+s[R]+")(?:\\.("+s[R]+")(?:"+s[v]+")?"+s[b]+"?)?)?";var x=c++;s[x]="[v=\\s]*("+s[S]+")(?:\\.("+s[S]+")(?:\\.("+s[S]+")(?:"+s[g]+")?"+s[b]+"?)?)?";var P=c++;s[P]="^"+s[C]+"\\s*"+s[E]+"$";var I=c++;s[I]="^"+s[C]+"\\s*"+s[x]+"$";var O=c++;s[O]="(?:^|[^\\d])(\\d{1,16})(?:\\.(\\d{1,16}))?(?:\\.(\\d{1,16}))?(?:$|[^\\d])";var A=c++;s[A]="(?:~>?)";var j=c++;s[j]="(\\s*)"+s[A]+"\\s+",a[j]=new RegExp(s[j],"g");var M=c++;s[M]="^"+s[A]+s[E]+"$";var L=c++;s[L]="^"+s[A]+s[x]+"$";var D=c++;s[D]="(?:\\^)";var $=c++;s[$]="(\\s*)"+s[D]+"\\s+",a[$]=new RegExp(s[$],"g");var N=c++;s[N]="^"+s[D]+s[E]+"$";var U=c++;s[U]="^"+s[D]+s[x]+"$";var F=c++;s[F]="^"+s[C]+"\\s*("+k+")$|^$";var B=c++;s[B]="^"+s[C]+"\\s*("+_+")$|^$";var V=c++;s[V]="(\\s*)"+s[C]+"\\s*("+k+"|"+s[E]+")",a[V]=new RegExp(s[V],"g");var G=c++;s[G]="^\\s*("+s[E]+")\\s+-\\s+("+s[E]+")\\s*$";var H=c++;s[H]="^\\s*("+s[x]+")\\s+-\\s+("+s[x]+")\\s*$";var W=c++;s[W]="(<|>)?=?\\s*\\*";for(var z=0;z<c;z++)n(z,s[z]),a[z]||(a[z]=new RegExp(s[z]));function J(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof q)return e;if("string"!=typeof e)return null;if(e.length>i)return null;if(!(t.loose?a[T]:a[w]).test(e))return null;try{return new q(e,t)}catch(e){return null}}function q(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof q){if(e.loose===t.loose)return e;e=e.version}else if("string"!=typeof e)throw new TypeError("Invalid Version: "+e);if(e.length>i)throw new TypeError("version is longer than "+i+" characters");if(!(this instanceof q))return new q(e,t);n("SemVer",e,t),this.options=t,this.loose=!!t.loose;var r=e.trim().match(t.loose?a[T]:a[w]);if(!r)throw new TypeError("Invalid Version: "+e);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>o||this.major<0)throw new TypeError("Invalid major version");if(this.minor>o||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>o||this.patch<0)throw new TypeError("Invalid patch version");r[4]?this.prerelease=r[4].split(".").map(function(e){if(/^[0-9]+$/.test(e)){var t=+e;if(t>=0&&t<o)return t}return e}):this.prerelease=[],this.build=r[5]?r[5].split("."):[],this.format()}t.parse=J,t.valid=function(e,t){var r=J(e,t);return r?r.version:null},t.clean=function(e,t){var r=J(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null},t.SemVer=q,q.prototype.format=function(){return this.version=this.major+"."+this.minor+"."+this.patch,this.prerelease.length&&(this.version+="-"+this.prerelease.join(".")),this.version},q.prototype.toString=function(){return this.version},q.prototype.compare=function(e){return n("SemVer.compare",this.version,this.options,e),e instanceof q||(e=new q(e,this.options)),this.compareMain(e)||this.comparePre(e)},q.prototype.compareMain=function(e){return e instanceof q||(e=new q(e,this.options)),K(this.major,e.major)||K(this.minor,e.minor)||K(this.patch,e.patch)},q.prototype.comparePre=function(e){if(e instanceof q||(e=new q(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;var t=0;do{var r=this.prerelease[t],i=e.prerelease[t];if(n("prerelease compare",t,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return K(r,i)}while(++t)},q.prototype.inc=function(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{for(var r=this.prerelease.length;--r>=0;)"number"==typeof this.prerelease[r]&&(this.prerelease[r]++,r=-2);-1===r&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error("invalid increment argument: "+e)}return this.format(),this.raw=this.version,this},t.inc=function(e,t,r,n){"string"==typeof r&&(n=r,r=void 0);try{return new q(e,r).inc(t,n).version}catch(e){return null}},t.diff=function(e,t){if(ee(e,t))return null;var r=J(e),n=J(t);if(r.prerelease.length||n.prerelease.length){for(var i in r)if(("major"===i||"minor"===i||"patch"===i)&&r[i]!==n[i])return"pre"+i;return"prerelease"}for(var i in r)if(("major"===i||"minor"===i||"patch"===i)&&r[i]!==n[i])return i},t.compareIdentifiers=K;var Q=/^[0-9]+$/;function K(e,t){var r=Q.test(e),n=Q.test(t);return r&&n&&(e=+e,t=+t),r&&!n?-1:n&&!r?1:e<t?-1:e>t?1:0}function X(e,t,r){return new q(e,r).compare(new q(t,r))}function Z(e,t,r){return X(e,t,r)>0}function Y(e,t,r){return X(e,t,r)<0}function ee(e,t,r){return 0===X(e,t,r)}function te(e,t,r){return 0!==X(e,t,r)}function re(e,t,r){return X(e,t,r)>=0}function ne(e,t,r){return X(e,t,r)<=0}function ie(e,t,r,n){var i;switch(t){case"===":"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),i=e===r;break;case"!==":"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),i=e!==r;break;case"":case"=":case"==":i=ee(e,r,n);break;case"!=":i=te(e,r,n);break;case">":i=Z(e,r,n);break;case">=":i=re(e,r,n);break;case"<":i=Y(e,r,n);break;case"<=":i=ne(e,r,n);break;default:throw new TypeError("Invalid operator: "+t)}return i}function oe(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof oe){if(e.loose===!!t.loose)return e;e=e.value}if(!(this instanceof oe))return new oe(e,t);n("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===ae?this.value="":this.value=this.operator+this.semver.version,n("comp",this)}t.rcompareIdentifiers=function(e,t){return K(t,e)},t.major=function(e,t){return new q(e,t).major},t.minor=function(e,t){return new q(e,t).minor},t.patch=function(e,t){return new q(e,t).patch},t.compare=X,t.compareLoose=function(e,t){return X(e,t,!0)},t.rcompare=function(e,t,r){return X(t,e,r)},t.sort=function(e,r){return e.sort(function(e,n){return t.compare(e,n,r)})},t.rsort=function(e,r){return e.sort(function(e,n){return t.rcompare(e,n,r)})},t.gt=Z,t.lt=Y,t.eq=ee,t.neq=te,t.gte=re,t.lte=ne,t.cmp=ie,t.Comparator=oe;var ae={};function se(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof se)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new se(e.raw,t);if(e instanceof oe)return new se(e.value,t);if(!(this instanceof se))return new se(e,t);if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(function(e){return this.parseRange(e.trim())},this).filter(function(e){return e.length}),!this.set.length)throw new TypeError("Invalid SemVer Range: "+e);this.format()}function ce(e){return!e||"x"===e.toLowerCase()||"*"===e}function ue(e,t,r,n,i,o,a,s,c,u,d,p,f){return((t=ce(r)?"":ce(n)?">="+r+".0.0":ce(i)?">="+r+"."+n+".0":">="+t)+" "+(s=ce(c)?"":ce(u)?"<"+(+c+1)+".0.0":ce(d)?"<"+c+"."+(+u+1)+".0":p?"<="+c+"."+u+"."+d+"-"+p:"<="+s)).trim()}function de(e,t,r){for(var i=0;i<e.length;i++)if(!e[i].test(t))return!1;if(r||(r={}),t.prerelease.length&&!r.includePrerelease){for(i=0;i<e.length;i++)if(n(e[i].semver),e[i].semver!==ae&&e[i].semver.prerelease.length>0){var o=e[i].semver;if(o.major===t.major&&o.minor===t.minor&&o.patch===t.patch)return!0}return!1}return!0}function pe(e,t,r){try{t=new se(t,r)}catch(e){return!1}return t.test(e)}function fe(e,t,r,n){var i,o,a,s,c;switch(e=new q(e,n),t=new se(t,n),r){case">":i=Z,o=ne,a=Y,s=">",c=">=";break;case"<":i=Y,o=re,a=Z,s="<",c="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(pe(e,t,n))return!1;for(var u=0;u<t.set.length;++u){var d=null,p=null;if(t.set[u].forEach(function(e){e.semver===ae&&(e=new oe(">=0.0.0")),d=d||e,p=p||e,i(e.semver,d.semver,n)?d=e:a(e.semver,p.semver,n)&&(p=e)}),d.operator===s||d.operator===c)return!1;if((!p.operator||p.operator===s)&&o(e,p.semver))return!1;if(p.operator===c&&a(e,p.semver))return!1}return!0}oe.prototype.parse=function(e){var t=this.options.loose?a[F]:a[B],r=e.match(t);if(!r)throw new TypeError("Invalid comparator: "+e);this.operator=r[1],"="===this.operator&&(this.operator=""),r[2]?this.semver=new q(r[2],this.options.loose):this.semver=ae},oe.prototype.toString=function(){return this.value},oe.prototype.test=function(e){return n("Comparator.test",e,this.options.loose),this.semver===ae||("string"==typeof e&&(e=new q(e,this.options)),ie(e,this.operator,this.semver,this.options))},oe.prototype.intersects=function(e,t){if(!(e instanceof oe))throw new TypeError("a Comparator is required");var r;if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return r=new se(e.value,t),pe(this.value,r,t);if(""===e.operator)return r=new se(this.value,t),pe(e.semver,r,t);var n=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),i=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),o=this.semver.version===e.semver.version,a=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),s=ie(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),c=ie(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return n||i||o&&a||s||c},t.Range=se,se.prototype.format=function(){return this.range=this.set.map(function(e){return e.join(" ").trim()}).join("||").trim(),this.range},se.prototype.toString=function(){return this.range},se.prototype.parseRange=function(e){var t=this.options.loose;e=e.trim();var r=t?a[H]:a[G];e=e.replace(r,ue),n("hyphen replace",e),e=e.replace(a[V],"$1$2$3"),n("comparator trim",e,a[V]),e=(e=(e=e.replace(a[j],"$1~")).replace(a[$],"$1^")).split(/\s+/).join(" ");var i=t?a[F]:a[B],o=e.split(" ").map(function(e){return function(e,t){return n("comp",e,t),e=function(e,t){return e.trim().split(/\s+/).map(function(e){return function(e,t){n("caret",e,t),t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1});var r=t.loose?a[U]:a[N];return e.replace(r,function(t,r,i,o,a){var s;return n("caret",e,t,r,i,o,a),ce(r)?s="":ce(i)?s=">="+r+".0.0 <"+(+r+1)+".0.0":ce(o)?s="0"===r?">="+r+"."+i+".0 <"+r+"."+(+i+1)+".0":">="+r+"."+i+".0 <"+(+r+1)+".0.0":a?(n("replaceCaret pr",a),"-"!==a.charAt(0)&&(a="-"+a),s="0"===r?"0"===i?">="+r+"."+i+"."+o+a+" <"+r+"."+i+"."+(+o+1):">="+r+"."+i+"."+o+a+" <"+r+"."+(+i+1)+".0":">="+r+"."+i+"."+o+a+" <"+(+r+1)+".0.0"):(n("no pr"),s="0"===r?"0"===i?">="+r+"."+i+"."+o+" <"+r+"."+i+"."+(+o+1):">="+r+"."+i+"."+o+" <"+r+"."+(+i+1)+".0":">="+r+"."+i+"."+o+" <"+(+r+1)+".0.0"),n("caret return",s),s})}(e,t)}).join(" ")}(e,t),n("caret",e),e=function(e,t){return e.trim().split(/\s+/).map(function(e){return function(e,t){t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1});var r=t.loose?a[L]:a[M];return e.replace(r,function(t,r,i,o,a){var s;return n("tilde",e,t,r,i,o,a),ce(r)?s="":ce(i)?s=">="+r+".0.0 <"+(+r+1)+".0.0":ce(o)?s=">="+r+"."+i+".0 <"+r+"."+(+i+1)+".0":a?(n("replaceTilde pr",a),"-"!==a.charAt(0)&&(a="-"+a),s=">="+r+"."+i+"."+o+a+" <"+r+"."+(+i+1)+".0"):s=">="+r+"."+i+"."+o+" <"+r+"."+(+i+1)+".0",n("tilde return",s),s})}(e,t)}).join(" ")}(e,t),n("tildes",e),e=function(e,t){return n("replaceXRanges",e,t),e.split(/\s+/).map(function(e){return function(e,t){e=e.trim(),t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1});var r=t.loose?a[I]:a[P];return e.replace(r,function(t,r,i,o,a,s){n("xRange",e,t,r,i,o,a,s);var c=ce(i),u=c||ce(o),d=u||ce(a),p=d;return"="===r&&p&&(r=""),c?t=">"===r||"<"===r?"<0.0.0":"*":r&&p?(u&&(o=0),d&&(a=0),">"===r?(r=">=",u?(i=+i+1,o=0,a=0):d&&(o=+o+1,a=0)):"<="===r&&(r="<",u?i=+i+1:o=+o+1),t=r+i+"."+o+"."+a):u?t=">="+i+".0.0 <"+(+i+1)+".0.0":d&&(t=">="+i+"."+o+".0 <"+i+"."+(+o+1)+".0"),n("xRange return",t),t})}(e,t)}).join(" ")}(e,t),n("xrange",e),e=function(e,t){return n("replaceStars",e,t),e.trim().replace(a[W],"")}(e,t),n("stars",e),e}(e,this.options)},this).join(" ").split(/\s+/);return this.options.loose&&(o=o.filter(function(e){return!!e.match(i)})),o.map(function(e){return new oe(e,this.options)},this)},se.prototype.intersects=function(e,t){if(!(e instanceof se))throw new TypeError("a Range is required");return this.set.some(function(r){return r.every(function(r){return e.set.some(function(e){return e.every(function(e){return r.intersects(e,t)})})})})},t.toComparators=function(e,t){return new se(e,t).set.map(function(e){return e.map(function(e){return e.value}).join(" ").trim().split(" ")})},se.prototype.test=function(e){if(!e)return!1;"string"==typeof e&&(e=new q(e,this.options));for(var t=0;t<this.set.length;t++)if(de(this.set[t],e,this.options))return!0;return!1},t.satisfies=pe,t.maxSatisfying=function(e,t,r){var n=null,i=null;try{var o=new se(t,r)}catch(e){return null}return e.forEach(function(e){o.test(e)&&(n&&-1!==i.compare(e)||(i=new q(n=e,r)))}),n},t.minSatisfying=function(e,t,r){var n=null,i=null;try{var o=new se(t,r)}catch(e){return null}return e.forEach(function(e){o.test(e)&&(n&&1!==i.compare(e)||(i=new q(n=e,r)))}),n},t.validRange=function(e,t){try{return new se(e,t).range||"*"}catch(e){return null}},t.ltr=function(e,t,r){return fe(e,t,"<",r)},t.gtr=function(e,t,r){return fe(e,t,">",r)},t.outside=fe,t.prerelease=function(e,t){var r=J(e,t);return r&&r.prerelease.length?r.prerelease:null},t.intersects=function(e,t,r){return e=new se(e,r),t=new se(t,r),e.intersects(t)},t.coerce=function(e){if(e instanceof q)return e;if("string"!=typeof e)return null;var t=e.match(a[O]);return null==t?null:J((t[1]||"0")+"."+(t[2]||"0")+"."+(t[3]||"0"))}},function(e,t,r){var n;
/*!
 * EventEmitter v5.2.5 - git.io/ee
 * Unlicense - http://unlicense.org/
 * Oliver Caldwell - http://oli.me.uk/
 * @preserve
 */!function(t){"use strict";function i(){}var o=i.prototype,a=t.EventEmitter;function s(e,t){for(var r=e.length;r--;)if(e[r].listener===t)return r;return-1}function c(e){return function(){return this[e].apply(this,arguments)}}o.getListeners=function(e){var t,r,n=this._getEvents();if(e instanceof RegExp)for(r in t={},n)n.hasOwnProperty(r)&&e.test(r)&&(t[r]=n[r]);else t=n[e]||(n[e]=[]);return t},o.flattenListeners=function(e){var t,r=[];for(t=0;t<e.length;t+=1)r.push(e[t].listener);return r},o.getListenersAsObject=function(e){var t,r=this.getListeners(e);return r instanceof Array&&((t={})[e]=r),t||r},o.addListener=function(e,t){if(!function e(t){return"function"==typeof t||t instanceof RegExp||!(!t||"object"!=typeof t)&&e(t.listener)}(t))throw new TypeError("listener must be a function");var r,n=this.getListenersAsObject(e),i="object"==typeof t;for(r in n)n.hasOwnProperty(r)&&-1===s(n[r],t)&&n[r].push(i?t:{listener:t,once:!1});return this},o.on=c("addListener"),o.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},o.once=c("addOnceListener"),o.defineEvent=function(e){return this.getListeners(e),this},o.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},o.removeListener=function(e,t){var r,n,i=this.getListenersAsObject(e);for(n in i)i.hasOwnProperty(n)&&-1!==(r=s(i[n],t))&&i[n].splice(r,1);return this},o.off=c("removeListener"),o.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},o.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},o.manipulateListeners=function(e,t,r){var n,i,o=e?this.removeListener:this.addListener,a=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(n=r.length;n--;)o.call(this,t,r[n]);else for(n in t)t.hasOwnProperty(n)&&(i=t[n])&&("function"==typeof i?o.call(this,n,i):a.call(this,n,i));return this},o.removeEvent=function(e){var t,r=typeof e,n=this._getEvents();if("string"===r)delete n[e];else if(e instanceof RegExp)for(t in n)n.hasOwnProperty(t)&&e.test(t)&&delete n[t];else delete this._events;return this},o.removeAllListeners=c("removeEvent"),o.emitEvent=function(e,t){var r,n,i,o,a=this.getListenersAsObject(e);for(o in a)if(a.hasOwnProperty(o))for(r=a[o].slice(0),i=0;i<r.length;i++)!0===(n=r[i]).once&&this.removeListener(e,n.listener),n.listener.apply(this,t||[])===this._getOnceReturnValue()&&this.removeListener(e,n.listener);return this},o.trigger=c("emitEvent"),o.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},o.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},o._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},o._getEvents=function(){return this._events||(this._events={})},i.noConflict=function(){return t.EventEmitter=a,i},void 0===(n=function(){return i}.call(t,r,t,e))||(e.exports=n)}("undefined"!=typeof window?window:this||{})},function(e,t,r){"use strict";var n=!0,i=!0;function o(e,t,r){var n=e.match(t);return n&&n.length>=r&&parseInt(n[r],10)}e.exports={extractVersion:o,wrapPeerConnectionEvent:function(e,t,r){if(e.RTCPeerConnection){var n=e.RTCPeerConnection.prototype,i=n.addEventListener;n.addEventListener=function(e,n){if(e!==t)return i.apply(this,arguments);var o=function(e){var t=r(e);t&&n(t)};return this._eventMap=this._eventMap||{},this._eventMap[n]=o,i.apply(this,[e,o])};var o=n.removeEventListener;n.removeEventListener=function(e,r){if(e!==t||!this._eventMap||!this._eventMap[r])return o.apply(this,arguments);var n=this._eventMap[r];return delete this._eventMap[r],o.apply(this,[e,n])},Object.defineProperty(n,"on"+t,{get:function(){return this["_on"+t]},set:function(e){this["_on"+t]&&(this.removeEventListener(t,this["_on"+t]),delete this["_on"+t]),e&&this.addEventListener(t,this["_on"+t]=e)},enumerable:!0,configurable:!0})}},disableLog:function(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(n=e,e?"adapter.js logging disabled":"adapter.js logging enabled")},disableWarnings:function(e){return"boolean"!=typeof e?new Error("Argument type: "+typeof e+". Please use a boolean."):(i=!e,"adapter.js deprecation warnings "+(e?"disabled":"enabled"))},log:function(){if("object"==typeof window){if(n)return;"undefined"!=typeof console&&"function"==typeof console.log&&console.log.apply(console,arguments)}},deprecated:function(e,t){i&&console.warn(e+" is deprecated, please use "+t+" instead.")},detectBrowser:function(e){var t=e&&e.navigator,r={browser:null,version:null};if(void 0===e||!e.navigator)return r.browser="Not a browser.",r;if(t.mozGetUserMedia)r.browser="firefox",r.version=o(t.userAgent,/Firefox\/(\d+)\./,1);else if(t.webkitGetUserMedia)r.browser="chrome",r.version=o(t.userAgent,/Chrom(e|ium)\/(\d+)\./,2);else if(t.mediaDevices&&t.userAgent.match(/Edge\/(\d+).(\d+)$/))r.browser="edge",r.version=o(t.userAgent,/Edge\/(\d+).(\d+)$/,2);else{if(!e.RTCPeerConnection||!t.userAgent.match(/AppleWebKit\/(\d+)\./))return r.browser="Not a supported browser.",r;r.browser="safari",r.version=o(t.userAgent,/AppleWebKit\/(\d+)\./,1)}return r}}},function(e,t,r){var n=r(22),i=r(23);t.write=i,t.parse=n.parse,t.parseFmtpConfig=n.parseFmtpConfig,t.parseParams=n.parseParams,t.parsePayloads=n.parsePayloads,t.parseRemoteCandidates=n.parseRemoteCandidates,t.parseImageAttributes=n.parseImageAttributes,t.parseSimulcastStreamList=n.parseSimulcastStreamList},function(e,r,n){(function(e){var n=200,i="Expected a function",o="__lodash_hash_undefined__",a=1,s=2,c=1/0,u=9007199254740991,d="[object Arguments]",p="[object Array]",f="[object Boolean]",l="[object Date]",h="[object Error]",m="[object Function]",v="[object GeneratorFunction]",g="[object Map]",y="[object Number]",b="[object Object]",w="[object RegExp]",_="[object Set]",k="[object String]",T="[object Symbol]",C="[object ArrayBuffer]",S="[object DataView]",R=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,E=/^\w*$/,x=/^\./,P=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,I=/\\(\\)?/g,O=/^\[object .+?Constructor\]$/,A=/^(?:0|[1-9]\d*)$/,j={};j["[object Float32Array]"]=j["[object Float64Array]"]=j["[object Int8Array]"]=j["[object Int16Array]"]=j["[object Int32Array]"]=j["[object Uint8Array]"]=j["[object Uint8ClampedArray]"]=j["[object Uint16Array]"]=j["[object Uint32Array]"]=!0,j[d]=j[p]=j[C]=j[f]=j[S]=j[l]=j[h]=j[m]=j[g]=j[y]=j[b]=j[w]=j[_]=j[k]=j["[object WeakMap]"]=!1;var M="object"==typeof t&&t&&t.Object===Object&&t,L="object"==typeof self&&self&&self.Object===Object&&self,D=M||L||Function("return this")(),$="object"==typeof r&&r&&!r.nodeType&&r,N=$&&"object"==typeof e&&e&&!e.nodeType&&e,U=N&&N.exports===$&&M.process,F=function(){try{return U&&U.binding("util")}catch(e){}}(),B=F&&F.isTypedArray;function V(e,t){return!(!e||!e.length)&&function(e,t,r){if(t!=t)return function(e,t,r,n){for(var i=e.length,o=r+(n?1:-1);n?o--:++o<i;)if(t(e[o],o,e))return o;return-1}(e,W,r);for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}(e,t,0)>-1}function G(e,t,r){for(var n=-1,i=e?e.length:0;++n<i;)if(r(t,e[n]))return!0;return!1}function H(e,t){for(var r=-1,n=e?e.length:0;++r<n;)if(t(e[r],r,e))return!0;return!1}function W(e){return e!=e}function z(e,t){return e.has(t)}function J(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function q(e){var t=-1,r=Array(e.size);return e.forEach(function(e,n){r[++t]=[n,e]}),r}function Q(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}var K=Array.prototype,X=Function.prototype,Z=Object.prototype,Y=D["__core-js_shared__"],ee=function(){var e=/[^.]+$/.exec(Y&&Y.keys&&Y.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),te=X.toString,re=Z.hasOwnProperty,ne=Z.toString,ie=RegExp("^"+te.call(re).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),oe=D.Symbol,ae=D.Uint8Array,se=Z.propertyIsEnumerable,ce=K.splice,ue=function(e,t){return function(r){return e(t(r))}}(Object.keys,Object),de=Be(D,"DataView"),pe=Be(D,"Map"),fe=Be(D,"Promise"),le=Be(D,"Set"),he=Be(D,"WeakMap"),me=Be(Object,"create"),ve=Qe(de),ge=Qe(pe),ye=Qe(fe),be=Qe(le),we=Qe(he),_e=oe?oe.prototype:void 0,ke=_e?_e.valueOf:void 0,Te=_e?_e.toString:void 0;function Ce(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Se(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Re(e){var t=-1,r=e?e.length:0;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Ee(e){var t=-1,r=e?e.length:0;for(this.__data__=new Re;++t<r;)this.add(e[t])}function xe(e){this.__data__=new Se(e)}function Pe(e,t){var r=Ye(e)||Ze(e)?function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}(e.length,String):[],n=r.length,i=!!n;for(var o in e)!t&&!re.call(e,o)||i&&("length"==o||Ge(o,n))||r.push(o);return r}function Ie(e,t){for(var r=e.length;r--;)if(Xe(e[r][0],t))return r;return-1}function Oe(e,t){for(var r=0,n=(t=He(t,e)?[t]:$e(t)).length;null!=e&&r<n;)e=e[qe(t[r++])];return r&&r==n?e:void 0}function Ae(e,t){return null!=e&&t in Object(e)}function je(e,t,r,n,i){return e===t||(null==e||null==t||!nt(e)&&!it(t)?e!=e&&t!=t:function(e,t,r,n,i,o){var c=Ye(e),u=Ye(t),m=p,v=p;c||(m=(m=Ve(e))==d?b:m),u||(v=(v=Ve(t))==d?b:v);var R=m==b&&!J(e),E=v==b&&!J(t),x=m==v;if(x&&!R)return o||(o=new xe),c||at(e)?Ue(e,t,r,n,i,o):function(e,t,r,n,i,o,c){switch(r){case S:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case C:return!(e.byteLength!=t.byteLength||!n(new ae(e),new ae(t)));case f:case l:case y:return Xe(+e,+t);case h:return e.name==t.name&&e.message==t.message;case w:case k:return e==t+"";case g:var u=q;case _:var d=o&s;if(u||(u=Q),e.size!=t.size&&!d)return!1;var p=c.get(e);if(p)return p==t;o|=a,c.set(e,t);var m=Ue(u(e),u(t),n,i,o,c);return c.delete(e),m;case T:if(ke)return ke.call(e)==ke.call(t)}return!1}(e,t,m,r,n,i,o);if(!(i&s)){var P=R&&re.call(e,"__wrapped__"),I=E&&re.call(t,"__wrapped__");if(P||I){var O=P?e.value():e,A=I?t.value():t;return o||(o=new xe),r(O,A,n,i,o)}}return!!x&&(o||(o=new xe),function(e,t,r,n,i,o){var a=i&s,c=st(e),u=c.length,d=st(t).length;if(u!=d&&!a)return!1;for(var p=u;p--;){var f=c[p];if(!(a?f in t:re.call(t,f)))return!1}var l=o.get(e);if(l&&o.get(t))return l==t;var h=!0;o.set(e,t),o.set(t,e);for(var m=a;++p<u;){f=c[p];var v=e[f],g=t[f];if(n)var y=a?n(g,v,f,t,e,o):n(v,g,f,e,t,o);if(!(void 0===y?v===g||r(v,g,n,i,o):y)){h=!1;break}m||(m="constructor"==f)}if(h&&!m){var b=e.constructor,w=t.constructor;b!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w)&&(h=!1)}return o.delete(e),o.delete(t),h}(e,t,r,n,i,o))}(e,t,je,r,n,i))}function Me(e){return!(!nt(e)||function(e){return!!ee&&ee in e}(e))&&(tt(e)||J(e)?ie:O).test(Qe(e))}function Le(e){return"function"==typeof e?e:null==e?ct:"object"==typeof e?Ye(e)?function(e,t){return He(e)&&We(t)?ze(qe(e),t):function(r){var n=function(e,t,r){var n=null==e?void 0:Oe(e,t);return void 0===n?r:n}(r,e);return void 0===n&&n===t?function(e,t){return null!=e&&function(e,t,r){for(var n,i=-1,o=(t=He(t,e)?[t]:$e(t)).length;++i<o;){var a=qe(t[i]);if(!(n=null!=e&&r(e,a)))break;e=e[a]}return n||!!(o=e?e.length:0)&&rt(o)&&Ge(a,o)&&(Ye(e)||Ze(e))}(e,t,Ae)}(r,e):je(t,n,void 0,a|s)}}(e[0],e[1]):function(e){var t=function(e){for(var t=st(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,We(i)]}return t}(e);return 1==t.length&&t[0][2]?ze(t[0][0],t[0][1]):function(r){return r===e||function(e,t,r,n){var i=r.length,o=i,c=!n;if(null==e)return!o;for(e=Object(e);i--;){var u=r[i];if(c&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++i<o;){var d=(u=r[i])[0],p=e[d],f=u[1];if(c&&u[2]){if(void 0===p&&!(d in e))return!1}else{var l=new xe;if(n)var h=n(p,f,d,e,t,l);if(!(void 0===h?je(f,p,n,a|s,l):h))return!1}}return!0}(r,e,t)}}(e):function(e){return He(e)?function(e){return function(t){return null==t?void 0:t[e]}}(qe(e)):function(e){return function(t){return Oe(t,e)}}(e)}(e)}function De(e){if(!function(e){var t=e&&e.constructor,r="function"==typeof t&&t.prototype||Z;return e===r}(e))return ue(e);var t=[];for(var r in Object(e))re.call(e,r)&&"constructor"!=r&&t.push(r);return t}function $e(e){return Ye(e)?e:Je(e)}Ce.prototype.clear=function(){this.__data__=me?me(null):{}},Ce.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Ce.prototype.get=function(e){var t=this.__data__;if(me){var r=t[e];return r===o?void 0:r}return re.call(t,e)?t[e]:void 0},Ce.prototype.has=function(e){var t=this.__data__;return me?void 0!==t[e]:re.call(t,e)},Ce.prototype.set=function(e,t){return this.__data__[e]=me&&void 0===t?o:t,this},Se.prototype.clear=function(){this.__data__=[]},Se.prototype.delete=function(e){var t=this.__data__,r=Ie(t,e);return!(r<0||(r==t.length-1?t.pop():ce.call(t,r,1),0))},Se.prototype.get=function(e){var t=this.__data__,r=Ie(t,e);return r<0?void 0:t[r][1]},Se.prototype.has=function(e){return Ie(this.__data__,e)>-1},Se.prototype.set=function(e,t){var r=this.__data__,n=Ie(r,e);return n<0?r.push([e,t]):r[n][1]=t,this},Re.prototype.clear=function(){this.__data__={hash:new Ce,map:new(pe||Se),string:new Ce}},Re.prototype.delete=function(e){return Fe(this,e).delete(e)},Re.prototype.get=function(e){return Fe(this,e).get(e)},Re.prototype.has=function(e){return Fe(this,e).has(e)},Re.prototype.set=function(e,t){return Fe(this,e).set(e,t),this},Ee.prototype.add=Ee.prototype.push=function(e){return this.__data__.set(e,o),this},Ee.prototype.has=function(e){return this.__data__.has(e)},xe.prototype.clear=function(){this.__data__=new Se},xe.prototype.delete=function(e){return this.__data__.delete(e)},xe.prototype.get=function(e){return this.__data__.get(e)},xe.prototype.has=function(e){return this.__data__.has(e)},xe.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Se){var i=r.__data__;if(!pe||i.length<n-1)return i.push([e,t]),this;r=this.__data__=new Re(i)}return r.set(e,t),this};var Ne=le&&1/Q(new le([,-0]))[1]==c?function(e){return new le(e)}:function(){};function Ue(e,t,r,n,i,o){var c=i&s,u=e.length,d=t.length;if(u!=d&&!(c&&d>u))return!1;var p=o.get(e);if(p&&o.get(t))return p==t;var f=-1,l=!0,h=i&a?new Ee:void 0;for(o.set(e,t),o.set(t,e);++f<u;){var m=e[f],v=t[f];if(n)var g=c?n(v,m,f,t,e,o):n(m,v,f,e,t,o);if(void 0!==g){if(g)continue;l=!1;break}if(h){if(!H(t,function(e,t){if(!h.has(t)&&(m===e||r(m,e,n,i,o)))return h.add(t)})){l=!1;break}}else if(m!==v&&!r(m,v,n,i,o)){l=!1;break}}return o.delete(e),o.delete(t),l}function Fe(e,t){var r=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?r["string"==typeof t?"string":"hash"]:r.map}function Be(e,t){var r=function(e,t){return null==e?void 0:e[t]}(e,t);return Me(r)?r:void 0}var Ve=function(e){return ne.call(e)};function Ge(e,t){return!!(t=null==t?u:t)&&("number"==typeof e||A.test(e))&&e>-1&&e%1==0&&e<t}function He(e,t){if(Ye(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!ot(e))||E.test(e)||!R.test(e)||null!=t&&e in Object(t)}function We(e){return e==e&&!nt(e)}function ze(e,t){return function(r){return null!=r&&r[e]===t&&(void 0!==t||e in Object(r))}}(de&&Ve(new de(new ArrayBuffer(1)))!=S||pe&&Ve(new pe)!=g||fe&&"[object Promise]"!=Ve(fe.resolve())||le&&Ve(new le)!=_||he&&"[object WeakMap]"!=Ve(new he))&&(Ve=function(e){var t=ne.call(e),r=t==b?e.constructor:void 0,n=r?Qe(r):void 0;if(n)switch(n){case ve:return S;case ge:return g;case ye:return"[object Promise]";case be:return _;case we:return"[object WeakMap]"}return t});var Je=Ke(function(e){e=function(e){return null==e?"":function(e){if("string"==typeof e)return e;if(ot(e))return Te?Te.call(e):"";var t=e+"";return"0"==t&&1/e==-c?"-0":t}(e)}(e);var t=[];return x.test(e)&&t.push(""),e.replace(P,function(e,r,n,i){t.push(n?i.replace(I,"$1"):r||e)}),t});function qe(e){if("string"==typeof e||ot(e))return e;var t=e+"";return"0"==t&&1/e==-c?"-0":t}function Qe(e){if(null!=e){try{return te.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ke(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(i);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],o=r.cache;if(o.has(i))return o.get(i);var a=e.apply(this,n);return r.cache=o.set(i,a),a};return r.cache=new(Ke.Cache||Re),r}function Xe(e,t){return e===t||e!=e&&t!=t}function Ze(e){return function(e){return it(e)&&et(e)}(e)&&re.call(e,"callee")&&(!se.call(e,"callee")||ne.call(e)==d)}Ke.Cache=Re;var Ye=Array.isArray;function et(e){return null!=e&&rt(e.length)&&!tt(e)}function tt(e){var t=nt(e)?ne.call(e):"";return t==m||t==v}function rt(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=u}function nt(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function it(e){return!!e&&"object"==typeof e}function ot(e){return"symbol"==typeof e||it(e)&&ne.call(e)==T}var at=B?function(e){return function(t){return e(t)}}(B):function(e){return it(e)&&rt(e.length)&&!!j[ne.call(e)]};function st(e){return et(e)?Pe(e):De(e)}function ct(e){return e}e.exports=function(e,t){return e&&e.length?function(e,t,r){var i=-1,o=V,a=e.length,s=!0,c=[],u=c;if(r)s=!1,o=G;else if(a>=n){var d=t?null:Ne(e);if(d)return Q(d);s=!1,o=z,u=new Ee}else u=t?[]:c;e:for(;++i<a;){var p=e[i],f=t?t(p):p;if(p=r||0!==p?p:0,s&&f==f){for(var l=u.length;l--;)if(u[l]===f)continue e;t&&u.push(f),c.push(p)}else o(u,f,r)||(u!==c&&u.push(f),c.push(p))}return c}(e,Le(t)):[]}}).call(this,n(7)(e))},function(e,t,r){"use strict";var n={generateIdentifier:function(){return Math.random().toString(36).substr(2,10)}};n.localCName=n.generateIdentifier(),n.splitLines=function(e){return e.trim().split("\n").map(function(e){return e.trim()})},n.splitSections=function(e){return e.split("\nm=").map(function(e,t){return(t>0?"m="+e:e).trim()+"\r\n"})},n.getDescription=function(e){var t=n.splitSections(e);return t&&t[0]},n.getMediaSections=function(e){var t=n.splitSections(e);return t.shift(),t},n.matchPrefix=function(e,t){return n.splitLines(e).filter(function(e){return 0===e.indexOf(t)})},n.parseCandidate=function(e){for(var t,r={foundation:(t=0===e.indexOf("a=candidate:")?e.substring(12).split(" "):e.substring(10).split(" "))[0],component:parseInt(t[1],10),protocol:t[2].toLowerCase(),priority:parseInt(t[3],10),ip:t[4],address:t[4],port:parseInt(t[5],10),type:t[7]},n=8;n<t.length;n+=2)switch(t[n]){case"raddr":r.relatedAddress=t[n+1];break;case"rport":r.relatedPort=parseInt(t[n+1],10);break;case"tcptype":r.tcpType=t[n+1];break;case"ufrag":r.ufrag=t[n+1],r.usernameFragment=t[n+1];break;default:r[t[n]]=t[n+1]}return r},n.writeCandidate=function(e){var t=[];t.push(e.foundation),t.push(e.component),t.push(e.protocol.toUpperCase()),t.push(e.priority),t.push(e.address||e.ip),t.push(e.port);var r=e.type;return t.push("typ"),t.push(r),"host"!==r&&e.relatedAddress&&e.relatedPort&&(t.push("raddr"),t.push(e.relatedAddress),t.push("rport"),t.push(e.relatedPort)),e.tcpType&&"tcp"===e.protocol.toLowerCase()&&(t.push("tcptype"),t.push(e.tcpType)),(e.usernameFragment||e.ufrag)&&(t.push("ufrag"),t.push(e.usernameFragment||e.ufrag)),"candidate:"+t.join(" ")},n.parseIceOptions=function(e){return e.substr(14).split(" ")},n.parseRtpMap=function(e){var t=e.substr(9).split(" "),r={payloadType:parseInt(t.shift(),10)};return t=t[0].split("/"),r.name=t[0],r.clockRate=parseInt(t[1],10),r.channels=3===t.length?parseInt(t[2],10):1,r.numChannels=r.channels,r},n.writeRtpMap=function(e){var t=e.payloadType;void 0!==e.preferredPayloadType&&(t=e.preferredPayloadType);var r=e.channels||e.numChannels||1;return"a=rtpmap:"+t+" "+e.name+"/"+e.clockRate+(1!==r?"/"+r:"")+"\r\n"},n.parseExtmap=function(e){var t=e.substr(9).split(" ");return{id:parseInt(t[0],10),direction:t[0].indexOf("/")>0?t[0].split("/")[1]:"sendrecv",uri:t[1]}},n.writeExtmap=function(e){return"a=extmap:"+(e.id||e.preferredId)+(e.direction&&"sendrecv"!==e.direction?"/"+e.direction:"")+" "+e.uri+"\r\n"},n.parseFmtp=function(e){for(var t,r={},n=e.substr(e.indexOf(" ")+1).split(";"),i=0;i<n.length;i++)r[(t=n[i].trim().split("="))[0].trim()]=t[1];return r},n.writeFmtp=function(e){var t="",r=e.payloadType;if(void 0!==e.preferredPayloadType&&(r=e.preferredPayloadType),e.parameters&&Object.keys(e.parameters).length){var n=[];Object.keys(e.parameters).forEach(function(t){e.parameters[t]?n.push(t+"="+e.parameters[t]):n.push(t)}),t+="a=fmtp:"+r+" "+n.join(";")+"\r\n"}return t},n.parseRtcpFb=function(e){var t=e.substr(e.indexOf(" ")+1).split(" ");return{type:t.shift(),parameter:t.join(" ")}},n.writeRtcpFb=function(e){var t="",r=e.payloadType;return void 0!==e.preferredPayloadType&&(r=e.preferredPayloadType),e.rtcpFeedback&&e.rtcpFeedback.length&&e.rtcpFeedback.forEach(function(e){t+="a=rtcp-fb:"+r+" "+e.type+(e.parameter&&e.parameter.length?" "+e.parameter:"")+"\r\n"}),t},n.parseSsrcMedia=function(e){var t=e.indexOf(" "),r={ssrc:parseInt(e.substr(7,t-7),10)},n=e.indexOf(":",t);return n>-1?(r.attribute=e.substr(t+1,n-t-1),r.value=e.substr(n+1)):r.attribute=e.substr(t+1),r},n.parseSsrcGroup=function(e){var t=e.substr(13).split(" ");return{semantics:t.shift(),ssrcs:t.map(function(e){return parseInt(e,10)})}},n.getMid=function(e){var t=n.matchPrefix(e,"a=mid:")[0];if(t)return t.substr(6)},n.parseFingerprint=function(e){var t=e.substr(14).split(" ");return{algorithm:t[0].toLowerCase(),value:t[1]}},n.getDtlsParameters=function(e,t){return{role:"auto",fingerprints:n.matchPrefix(e+t,"a=fingerprint:").map(n.parseFingerprint)}},n.writeDtlsParameters=function(e,t){var r="a=setup:"+t+"\r\n";return e.fingerprints.forEach(function(e){r+="a=fingerprint:"+e.algorithm+" "+e.value+"\r\n"}),r},n.getIceParameters=function(e,t){var r=n.splitLines(e);return{usernameFragment:(r=r.concat(n.splitLines(t))).filter(function(e){return 0===e.indexOf("a=ice-ufrag:")})[0].substr(12),password:r.filter(function(e){return 0===e.indexOf("a=ice-pwd:")})[0].substr(10)}},n.writeIceParameters=function(e){return"a=ice-ufrag:"+e.usernameFragment+"\r\na=ice-pwd:"+e.password+"\r\n"},n.parseRtpParameters=function(e){for(var t={codecs:[],headerExtensions:[],fecMechanisms:[],rtcp:[]},r=n.splitLines(e)[0].split(" "),i=3;i<r.length;i++){var o=r[i],a=n.matchPrefix(e,"a=rtpmap:"+o+" ")[0];if(a){var s=n.parseRtpMap(a),c=n.matchPrefix(e,"a=fmtp:"+o+" ");switch(s.parameters=c.length?n.parseFmtp(c[0]):{},s.rtcpFeedback=n.matchPrefix(e,"a=rtcp-fb:"+o+" ").map(n.parseRtcpFb),t.codecs.push(s),s.name.toUpperCase()){case"RED":case"ULPFEC":t.fecMechanisms.push(s.name.toUpperCase())}}}return n.matchPrefix(e,"a=extmap:").forEach(function(e){t.headerExtensions.push(n.parseExtmap(e))}),t},n.writeRtpDescription=function(e,t){var r="";r+="m="+e+" ",r+=t.codecs.length>0?"9":"0",r+=" UDP/TLS/RTP/SAVPF ",r+=t.codecs.map(function(e){return void 0!==e.preferredPayloadType?e.preferredPayloadType:e.payloadType}).join(" ")+"\r\n",r+="c=IN IP4 0.0.0.0\r\n",r+="a=rtcp:9 IN IP4 0.0.0.0\r\n",t.codecs.forEach(function(e){r+=n.writeRtpMap(e),r+=n.writeFmtp(e),r+=n.writeRtcpFb(e)});var i=0;return t.codecs.forEach(function(e){e.maxptime>i&&(i=e.maxptime)}),i>0&&(r+="a=maxptime:"+i+"\r\n"),r+="a=rtcp-mux\r\n",t.headerExtensions&&t.headerExtensions.forEach(function(e){r+=n.writeExtmap(e)}),r},n.parseRtpEncodingParameters=function(e){var t,r=[],i=n.parseRtpParameters(e),o=-1!==i.fecMechanisms.indexOf("RED"),a=-1!==i.fecMechanisms.indexOf("ULPFEC"),s=n.matchPrefix(e,"a=ssrc:").map(function(e){return n.parseSsrcMedia(e)}).filter(function(e){return"cname"===e.attribute}),c=s.length>0&&s[0].ssrc,u=n.matchPrefix(e,"a=ssrc-group:FID").map(function(e){return e.substr(17).split(" ").map(function(e){return parseInt(e,10)})});u.length>0&&u[0].length>1&&u[0][0]===c&&(t=u[0][1]),i.codecs.forEach(function(e){if("RTX"===e.name.toUpperCase()&&e.parameters.apt){var n={ssrc:c,codecPayloadType:parseInt(e.parameters.apt,10)};c&&t&&(n.rtx={ssrc:t}),r.push(n),o&&((n=JSON.parse(JSON.stringify(n))).fec={ssrc:c,mechanism:a?"red+ulpfec":"red"},r.push(n))}}),0===r.length&&c&&r.push({ssrc:c});var d=n.matchPrefix(e,"b=");return d.length&&(d=0===d[0].indexOf("b=TIAS:")?parseInt(d[0].substr(7),10):0===d[0].indexOf("b=AS:")?1e3*parseInt(d[0].substr(5),10)*.95-16e3:void 0,r.forEach(function(e){e.maxBitrate=d})),r},n.parseRtcpParameters=function(e){var t={},r=n.matchPrefix(e,"a=ssrc:").map(function(e){return n.parseSsrcMedia(e)}).filter(function(e){return"cname"===e.attribute})[0];r&&(t.cname=r.value,t.ssrc=r.ssrc);var i=n.matchPrefix(e,"a=rtcp-rsize");t.reducedSize=i.length>0,t.compound=0===i.length;var o=n.matchPrefix(e,"a=rtcp-mux");return t.mux=o.length>0,t},n.parseMsid=function(e){var t,r=n.matchPrefix(e,"a=msid:");if(1===r.length)return{stream:(t=r[0].substr(7).split(" "))[0],track:t[1]};var i=n.matchPrefix(e,"a=ssrc:").map(function(e){return n.parseSsrcMedia(e)}).filter(function(e){return"msid"===e.attribute});return i.length>0?{stream:(t=i[0].value.split(" "))[0],track:t[1]}:void 0},n.generateSessionId=function(){return Math.random().toString().substr(2,21)},n.writeSessionBoilerplate=function(e,t,r){var i,o=void 0!==t?t:2;return i=e||n.generateSessionId(),"v=0\r\no="+(r||"thisisadapterortc")+" "+i+" "+o+" IN IP4 127.0.0.1\r\ns=-\r\nt=0 0\r\n"},n.writeMediaSection=function(e,t,r,i){var o=n.writeRtpDescription(e.kind,t);if(o+=n.writeIceParameters(e.iceGatherer.getLocalParameters()),o+=n.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===r?"actpass":"active"),o+="a=mid:"+e.mid+"\r\n",e.direction?o+="a="+e.direction+"\r\n":e.rtpSender&&e.rtpReceiver?o+="a=sendrecv\r\n":e.rtpSender?o+="a=sendonly\r\n":e.rtpReceiver?o+="a=recvonly\r\n":o+="a=inactive\r\n",e.rtpSender){var a="msid:"+i.id+" "+e.rtpSender.track.id+"\r\n";o+="a="+a,o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+a,e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+a,o+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return o+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+n.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(o+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+n.localCName+"\r\n"),o},n.getDirection=function(e,t){for(var r=n.splitLines(e),i=0;i<r.length;i++)switch(r[i]){case"a=sendrecv":case"a=sendonly":case"a=recvonly":case"a=inactive":return r[i].substr(2)}return t?n.getDirection(t):"sendrecv"},n.getKind=function(e){return n.splitLines(e)[0].split(" ")[0].substr(2)},n.isRejected=function(e){return"0"===e.split(" ",2)[1]},n.parseMLine=function(e){var t=n.splitLines(e)[0].substr(2).split(" ");return{kind:t[0],port:parseInt(t[1],10),protocol:t[2],fmt:t.slice(3).join(" ")}},n.parseOLine=function(e){var t=n.matchPrefix(e,"o=")[0].substr(2).split(" ");return{username:t[0],sessionId:t[1],sessionVersion:parseInt(t[2],10),netType:t[3],addressType:t[4],address:t[5]}},n.isValidSDP=function(e){if("string"!=typeof e||0===e.length)return!1;for(var t=n.splitLines(e),r=0;r<t.length;r++)if(t[r].length<2||"="!==t[r].charAt(1))return!1;return!0},e.exports=n},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t){var r=e.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w\/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-\.]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(e){return null!=e.address?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%d trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(e){return null!=e.subtype?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:(\d+)(?:\/(\w+))? (\S*)(?: (\S*))?/,names:["value","direction","uri","config"],format:function(e){return"extmap:%d"+(e.direction?"/%s":"%v")+" %s"+(e.config?" %s":"")}},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(e){return null!=e.sessionConfig?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?(?: network-id (\d*))?(?: network-cost (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation","network-id","network-cost"],format:function(e){var t="candidate:%s %d %s %d %s %d typ %s";return t+=null!=e.raddr?" raddr %s rport %d":"%v%v",t+=null!=e.tcptype?" tcptype %s":"%v",null!=e.generation&&(t+=" generation %d"),t+=null!=e["network-id"]?" network-id %d":"%v",t+(null!=e["network-cost"]?" network-cost %d":"%v")}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_-]*)(?::(.*))?/,names:["id","attribute","value"],format:function(e){var t="ssrc:%d";return null!=e.attribute&&(t+=" %s",null!=e.value&&(t+=":%s")),t}},{push:"ssrcGroups",reg:/^ssrc-group:([\x21\x23\x24\x25\x26\x27\x2A\x2B\x2D\x2E\w]*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{name:"sctpmap",reg:/^sctpmap:([\w_\/]*) (\S*)(?: (\S*))?/,names:["sctpmapNumber","app","maxMessageSize"],format:function(e){return null!=e.maxMessageSize?"sctpmap:%s %s %s":"sctpmap:%s %s"}},{name:"xGoogleFlag",reg:/^x-google-flag:([^\s]*)/,format:"x-google-flag:%s"},{push:"rids",reg:/^rid:([\d\w]+) (\w+)(?: ([\S| ]*))?/,names:["id","direction","params"],format:function(e){return e.params?"rid:%s %s %s":"rid:%s %s"}},{push:"imageattrs",reg:new RegExp("^imageattr:(\\d+|\\*)[\\s\\t]+(send|recv)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*)(?:[\\s\\t]+(recv|send)[\\s\\t]+(\\*|\\[\\S+\\](?:[\\s\\t]+\\[\\S+\\])*))?"),names:["pt","dir1","attrs1","dir2","attrs2"],format:function(e){return"imageattr:%s %s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast",reg:new RegExp("^simulcast:(send|recv) ([a-zA-Z0-9\\-_~;,]+)(?:\\s?(send|recv) ([a-zA-Z0-9\\-_~;,]+))?$"),names:["dir1","list1","dir2","list2"],format:function(e){return"simulcast:%s %s"+(e.dir2?" %s %s":"")}},{name:"simulcast_03",reg:/^simulcast:[\s\t]+([\S+\s\t]+)$/,names:["value"],format:"simulcast: %s"},{name:"framerate",reg:/^framerate:(\d+(?:$|\.\d+))/,format:"framerate:%s"},{name:"sourceFilter",reg:/^source-filter: *(excl|incl) (\S*) (IP4|IP6|\*) (\S*) (.*)/,names:["filterMode","netType","addressTypes","destAddress","srcList"],format:"source-filter: %s %s %s %s %s"},{name:"bundleOnly",reg:/^(bundle-only)/},{name:"label",reg:/^label:(.+)/,format:"label:%s"},{name:"sctpPort",reg:/^sctp-port:(\d+)$/,format:"sctp-port:%s"},{name:"maxMessageSize",reg:/^max-message-size:(\d+)$/,format:"max-message-size:%s"},{push:"invalid",names:["value"]}]};Object.keys(r).forEach(function(e){r[e].forEach(function(e){e.reg||(e.reg=/(.*)/),e.format||(e.format="%s")})})},function(e,t){function n(e){var t=a([["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/],["Search Bot",/(nuhk)|(Googlebot)|(Yammybot)|(Openbot)|(Slurp)|(MSNBot)|(Ask Jeeves\/Teoma)|(ia_archiver)/]]).filter(function(t){return t.rule&&t.rule.test(e)})[0];return t?t.name:null}function i(){return"undefined"!=typeof r&&r.version&&{name:"node",version:r.version.slice(1),os:r.platform}}function o(e){var t=a([["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["vivaldi",/Vivaldi\/([0-9\.]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)$/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/]]);if(!e)return null;var r=t.map(function(t){var r=t.rule.exec(e),n=r&&r[1].split(/[._]/).slice(0,3);return n&&n.length<3&&(n=n.concat(1==n.length?[0,0]:[0])),r&&{name:t.name,version:n.join(".")}}).filter(Boolean)[0]||null;return r&&(r.os=n(e)),/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/i.test(e)&&((r=r||{}).bot=!0),r}function a(e){return e.map(function(e){return{name:e[0],rule:e[1]}})}e.exports={detect:function(){return"undefined"!=typeof navigator?o(navigator.userAgent):i()},detectOS:n,getNodeVersion:i,parseUserAgent:o}},function(e,r,n){"use strict";var i=n(11);e.exports=i({window:t.window})},function(e,t,r){"use strict";var n=r(3);e.exports=function(e,t){var i=e&&e.window,o={shimChrome:!0,shimFirefox:!0,shimEdge:!0,shimSafari:!0};for(var a in t)hasOwnProperty.call(t,a)&&(o[a]=t[a]);var s=n.log,c=n.detectBrowser(i),u=r(12)||null,d=r(14)||null,p=r(18)||null,f=r(20)||null,l=r(21)||null,h={browserDetails:c,commonShim:l,extractVersion:n.extractVersion,disableLog:n.disableLog,disableWarnings:n.disableWarnings};switch(c.browser){case"chrome":if(!u||!u.shimPeerConnection||!o.shimChrome)return s("Chrome shim is not included in this adapter release."),h;s("adapter.js shimming chrome."),h.browserShim=u,l.shimCreateObjectURL(i),u.shimGetUserMedia(i),u.shimMediaStream(i),u.shimSourceObject(i),u.shimPeerConnection(i),u.shimOnTrack(i),u.shimAddTrackRemoveTrack(i),u.shimGetSendersWithDtmf(i),u.shimSenderReceiverGetStats(i),u.fixNegotiationNeeded(i),l.shimRTCIceCandidate(i),l.shimMaxMessageSize(i),l.shimSendThrowTypeError(i);break;case"firefox":if(!p||!p.shimPeerConnection||!o.shimFirefox)return s("Firefox shim is not included in this adapter release."),h;s("adapter.js shimming firefox."),h.browserShim=p,l.shimCreateObjectURL(i),p.shimGetUserMedia(i),p.shimSourceObject(i),p.shimPeerConnection(i),p.shimOnTrack(i),p.shimRemoveStream(i),p.shimSenderGetStats(i),p.shimReceiverGetStats(i),p.shimRTCDataChannel(i),l.shimRTCIceCandidate(i),l.shimMaxMessageSize(i),l.shimSendThrowTypeError(i);break;case"edge":if(!d||!d.shimPeerConnection||!o.shimEdge)return s("MS edge shim is not included in this adapter release."),h;s("adapter.js shimming edge."),h.browserShim=d,l.shimCreateObjectURL(i),d.shimGetUserMedia(i),d.shimPeerConnection(i),d.shimReplaceTrack(i),d.shimGetDisplayMedia(i),l.shimMaxMessageSize(i),l.shimSendThrowTypeError(i);break;case"safari":if(!f||!o.shimSafari)return s("Safari shim is not included in this adapter release."),h;s("adapter.js shimming safari."),h.browserShim=f,l.shimCreateObjectURL(i),f.shimRTCIceServerUrls(i),f.shimCreateOfferLegacy(i),f.shimCallbacksAPI(i),f.shimLocalStreamsAPI(i),f.shimRemoteStreamsAPI(i),f.shimTrackEventTransceiver(i),f.shimGetUserMedia(i),l.shimRTCIceCandidate(i),l.shimMaxMessageSize(i),l.shimSendThrowTypeError(i);break;default:s("Unsupported browser!")}return h}},function(e,t,r){"use strict";var n=r(3),i=n.log;function o(e,t,r){var n=r?"outbound-rtp":"inbound-rtp",i=new Map;if(null===t)return i;var o=[];return e.forEach(function(e){"track"===e.type&&e.trackIdentifier===t.id&&o.push(e)}),o.forEach(function(t){e.forEach(function(r){r.type===n&&r.trackId===t.id&&function e(t,r,n){r&&!n.has(r.id)&&(n.set(r.id,r),Object.keys(r).forEach(function(i){i.endsWith("Id")?e(t,t.get(r[i]),n):i.endsWith("Ids")&&r[i].forEach(function(r){e(t,t.get(r),n)})}))}(e,r,i)})}),i}e.exports={shimGetUserMedia:r(13),shimMediaStream:function(e){e.MediaStream=e.MediaStream||e.webkitMediaStream},shimOnTrack:function(e){if("object"!=typeof e||!e.RTCPeerConnection||"ontrack"in e.RTCPeerConnection.prototype)n.wrapPeerConnectionEvent(e,"track",function(e){return e.transceiver||Object.defineProperty(e,"transceiver",{value:{receiver:e.receiver}}),e});else{Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){this._ontrack&&this.removeEventListener("track",this._ontrack),this.addEventListener("track",this._ontrack=e)},enumerable:!0,configurable:!0});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var r=this;return r._ontrackpoly||(r._ontrackpoly=function(t){t.stream.addEventListener("addtrack",function(n){var i;i=e.RTCPeerConnection.prototype.getReceivers?r.getReceivers().find(function(e){return e.track&&e.track.id===n.track.id}):{track:n.track};var o=new Event("track");o.track=n.track,o.receiver=i,o.transceiver={receiver:i},o.streams=[t.stream],r.dispatchEvent(o)}),t.stream.getTracks().forEach(function(n){var i;i=e.RTCPeerConnection.prototype.getReceivers?r.getReceivers().find(function(e){return e.track&&e.track.id===n.id}):{track:n};var o=new Event("track");o.track=n,o.receiver=i,o.transceiver={receiver:i},o.streams=[t.stream],r.dispatchEvent(o)})},r.addEventListener("addstream",r._ontrackpoly)),t.apply(r,arguments)}}},shimGetSendersWithDtmf:function(e){if("object"==typeof e&&e.RTCPeerConnection&&!("getSenders"in e.RTCPeerConnection.prototype)&&"createDTMFSender"in e.RTCPeerConnection.prototype){var t=function(e,t){return{track:t,get dtmf(){return void 0===this._dtmf&&("audio"===t.kind?this._dtmf=e.createDTMFSender(t):this._dtmf=null),this._dtmf},_pc:e}};if(!e.RTCPeerConnection.prototype.getSenders){e.RTCPeerConnection.prototype.getSenders=function(){return this._senders=this._senders||[],this._senders.slice()};var r=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,n){var i=r.apply(this,arguments);return i||(i=t(this,e),this._senders.push(i)),i};var n=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){n.apply(this,arguments);var t=this._senders.indexOf(e);-1!==t&&this._senders.splice(t,1)}}var i=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var r=this;r._senders=r._senders||[],i.apply(r,[e]),e.getTracks().forEach(function(e){r._senders.push(t(r,e))})};var o=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;t._senders=t._senders||[],o.apply(t,[e]),e.getTracks().forEach(function(e){var r=t._senders.find(function(t){return t.track===e});r&&t._senders.splice(t._senders.indexOf(r),1)})}}else if("object"==typeof e&&e.RTCPeerConnection&&"getSenders"in e.RTCPeerConnection.prototype&&"createDTMFSender"in e.RTCPeerConnection.prototype&&e.RTCRtpSender&&!("dtmf"in e.RTCRtpSender.prototype)){var a=e.RTCPeerConnection.prototype.getSenders;e.RTCPeerConnection.prototype.getSenders=function(){var e=this,t=a.apply(e,[]);return t.forEach(function(t){t._pc=e}),t},Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=this._pc.createDTMFSender(this.track):this._dtmf=null),this._dtmf}})}},shimSenderReceiverGetStats:function(e){if("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&e.RTCRtpReceiver){if(!("getStats"in e.RTCRtpSender.prototype)){var t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,r=t.apply(e,[]);return r.forEach(function(t){t._pc=e}),r});var r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=r.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){var e=this;return this._pc.getStats().then(function(t){return o(t,e.track,!0)})}}if(!("getStats"in e.RTCRtpReceiver.prototype)){var i=e.RTCPeerConnection.prototype.getReceivers;i&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,t=i.apply(e,[]);return t.forEach(function(t){t._pc=e}),t}),n.wrapPeerConnectionEvent(e,"track",function(e){return e.receiver._pc=e.srcElement,e}),e.RTCRtpReceiver.prototype.getStats=function(){var e=this;return this._pc.getStats().then(function(t){return o(t,e.track,!1)})}}if("getStats"in e.RTCRtpSender.prototype&&"getStats"in e.RTCRtpReceiver.prototype){var a=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(){if(arguments.length>0&&arguments[0]instanceof e.MediaStreamTrack){var t,r,n,i=arguments[0];return this.getSenders().forEach(function(e){e.track===i&&(t?n=!0:t=e)}),this.getReceivers().forEach(function(e){return e.track===i&&(r?n=!0:r=e),e.track===i}),n||t&&r?Promise.reject(new DOMException("There are more than one sender or receiver for the track.","InvalidAccessError")):t?t.getStats():r?r.getStats():Promise.reject(new DOMException("There is no sender or receiver for the track.","InvalidAccessError"))}return a.apply(this,arguments)}}}},shimSourceObject:function(e){var t=e&&e.URL;"object"==typeof e&&(!e.HTMLMediaElement||"srcObject"in e.HTMLMediaElement.prototype||Object.defineProperty(e.HTMLMediaElement.prototype,"srcObject",{get:function(){return this._srcObject},set:function(e){var r=this;this._srcObject=e,this.src&&t.revokeObjectURL(this.src),e?(this.src=t.createObjectURL(e),e.addEventListener("addtrack",function(){r.src&&t.revokeObjectURL(r.src),r.src=t.createObjectURL(e)}),e.addEventListener("removetrack",function(){r.src&&t.revokeObjectURL(r.src),r.src=t.createObjectURL(e)})):this.src=""}}))},shimAddTrackRemoveTrackWithNative:function(e){e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},Object.keys(this._shimmedLocalStreams).map(function(t){return e._shimmedLocalStreams[t][0]})};var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addTrack=function(e,r){if(!r)return t.apply(this,arguments);this._shimmedLocalStreams=this._shimmedLocalStreams||{};var n=t.apply(this,arguments);return this._shimmedLocalStreams[r.id]?-1===this._shimmedLocalStreams[r.id].indexOf(n)&&this._shimmedLocalStreams[r.id].push(n):this._shimmedLocalStreams[r.id]=[r,n],n};var r=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(e){var t=this;this._shimmedLocalStreams=this._shimmedLocalStreams||{},e.getTracks().forEach(function(e){if(t.getSenders().find(function(t){return t.track===e}))throw new DOMException("Track already exists.","InvalidAccessError")});var n=t.getSenders();r.apply(this,arguments);var i=t.getSenders().filter(function(e){return-1===n.indexOf(e)});this._shimmedLocalStreams[e.id]=[e].concat(i)};var n=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){return this._shimmedLocalStreams=this._shimmedLocalStreams||{},delete this._shimmedLocalStreams[e.id],n.apply(this,arguments)};var i=e.RTCPeerConnection.prototype.removeTrack;e.RTCPeerConnection.prototype.removeTrack=function(e){var t=this;return this._shimmedLocalStreams=this._shimmedLocalStreams||{},e&&Object.keys(this._shimmedLocalStreams).forEach(function(r){var n=t._shimmedLocalStreams[r].indexOf(e);-1!==n&&t._shimmedLocalStreams[r].splice(n,1),1===t._shimmedLocalStreams[r].length&&delete t._shimmedLocalStreams[r]}),i.apply(this,arguments)}},shimAddTrackRemoveTrack:function(e){if(e.RTCPeerConnection){var t=n.detectBrowser(e);if(e.RTCPeerConnection.prototype.addTrack&&t.version>=65)return this.shimAddTrackRemoveTrackWithNative(e);var r=e.RTCPeerConnection.prototype.getLocalStreams;e.RTCPeerConnection.prototype.getLocalStreams=function(){var e=this,t=r.apply(this);return e._reverseStreams=e._reverseStreams||{},t.map(function(t){return e._reverseStreams[t.id]})};var i=e.RTCPeerConnection.prototype.addStream;e.RTCPeerConnection.prototype.addStream=function(t){var r=this;if(r._streams=r._streams||{},r._reverseStreams=r._reverseStreams||{},t.getTracks().forEach(function(e){if(r.getSenders().find(function(t){return t.track===e}))throw new DOMException("Track already exists.","InvalidAccessError")}),!r._reverseStreams[t.id]){var n=new e.MediaStream(t.getTracks());r._streams[t.id]=n,r._reverseStreams[n.id]=t,t=n}i.apply(r,[t])};var o=e.RTCPeerConnection.prototype.removeStream;e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;t._streams=t._streams||{},t._reverseStreams=t._reverseStreams||{},o.apply(t,[t._streams[e.id]||e]),delete t._reverseStreams[t._streams[e.id]?t._streams[e.id].id:e.id],delete t._streams[e.id]},e.RTCPeerConnection.prototype.addTrack=function(t,r){var n=this;if("closed"===n.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");var i=[].slice.call(arguments,1);if(1!==i.length||!i[0].getTracks().find(function(e){return e===t}))throw new DOMException("The adapter.js addTrack polyfill only supports a single  stream which is associated with the specified track.","NotSupportedError");if(n.getSenders().find(function(e){return e.track===t}))throw new DOMException("Track already exists.","InvalidAccessError");n._streams=n._streams||{},n._reverseStreams=n._reverseStreams||{};var o=n._streams[r.id];if(o)o.addTrack(t),Promise.resolve().then(function(){n.dispatchEvent(new Event("negotiationneeded"))});else{var a=new e.MediaStream([t]);n._streams[r.id]=a,n._reverseStreams[a.id]=r,n.addStream(a)}return n.getSenders().find(function(e){return e.track===t})},["createOffer","createAnswer"].forEach(function(t){var r=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){var e=this,t=arguments;return arguments.length&&"function"==typeof arguments[0]?r.apply(e,[function(r){var n=c(e,r);t[0].apply(null,[n])},function(e){t[1]&&t[1].apply(null,e)},arguments[2]]):r.apply(e,arguments).then(function(t){return c(e,t)})}});var a=e.RTCPeerConnection.prototype.setLocalDescription;e.RTCPeerConnection.prototype.setLocalDescription=function(){return arguments.length&&arguments[0].type?(arguments[0]=function(e,t){var r=t.sdp;return Object.keys(e._reverseStreams||[]).forEach(function(t){var n=e._reverseStreams[t],i=e._streams[n.id];r=r.replace(new RegExp(n.id,"g"),i.id)}),new RTCSessionDescription({type:t.type,sdp:r})}(this,arguments[0]),a.apply(this,arguments)):a.apply(this,arguments)};var s=Object.getOwnPropertyDescriptor(e.RTCPeerConnection.prototype,"localDescription");Object.defineProperty(e.RTCPeerConnection.prototype,"localDescription",{get:function(){var e=s.get.apply(this);return""===e.type?e:c(this,e)}}),e.RTCPeerConnection.prototype.removeTrack=function(e){var t,r=this;if("closed"===r.signalingState)throw new DOMException("The RTCPeerConnection's signalingState is 'closed'.","InvalidStateError");if(!e._pc)throw new DOMException("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.","TypeError");if(e._pc!==r)throw new DOMException("Sender was not created by this connection.","InvalidAccessError");r._streams=r._streams||{},Object.keys(r._streams).forEach(function(n){r._streams[n].getTracks().find(function(t){return e.track===t})&&(t=r._streams[n])}),t&&(1===t.getTracks().length?r.removeStream(r._reverseStreams[t.id]):t.removeTrack(e.track),r.dispatchEvent(new Event("negotiationneeded")))}}function c(e,t){var r=t.sdp;return Object.keys(e._reverseStreams||[]).forEach(function(t){var n=e._reverseStreams[t],i=e._streams[n.id];r=r.replace(new RegExp(i.id,"g"),n.id)}),new RTCSessionDescription({type:t.type,sdp:r})}},shimPeerConnection:function(e){var t=n.detectBrowser(e);if(!e.RTCPeerConnection&&e.webkitRTCPeerConnection&&(e.RTCPeerConnection=function(t,r){return i("PeerConnection"),t&&t.iceTransportPolicy&&(t.iceTransports=t.iceTransportPolicy),new e.webkitRTCPeerConnection(t,r)},e.RTCPeerConnection.prototype=e.webkitRTCPeerConnection.prototype,e.webkitRTCPeerConnection.generateCertificate&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return e.webkitRTCPeerConnection.generateCertificate}})),e.RTCPeerConnection){var r=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(e,t,n){var i=this,o=arguments;if(arguments.length>0&&"function"==typeof e)return r.apply(this,arguments);if(0===r.length&&(0===arguments.length||"function"!=typeof arguments[0]))return r.apply(this,[]);var a=function(e){var t={};return e.result().forEach(function(e){var r={id:e.id,timestamp:e.timestamp,type:{localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type};e.names().forEach(function(t){r[t]=e.stat(t)}),t[r.id]=r}),t},s=function(e){return new Map(Object.keys(e).map(function(t){return[t,e[t]]}))};return arguments.length>=2?r.apply(this,[function(e){o[1](s(a(e)))},arguments[0]]):new Promise(function(e,t){r.apply(i,[function(t){e(s(a(t)))},t])}).then(t,n)},t.version<51&&["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){var r=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){var e=arguments,t=this,n=new Promise(function(n,i){r.apply(t,[e[0],n,i])});return e.length<2?n:n.then(function(){e[1].apply(null,[])},function(t){e.length>=3&&e[2].apply(null,[t])})}}),t.version<52&&["createOffer","createAnswer"].forEach(function(t){var r=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){var e=this;if(arguments.length<1||1===arguments.length&&"object"==typeof arguments[0]){var t=1===arguments.length?arguments[0]:void 0;return new Promise(function(n,i){r.apply(e,[n,i,t])})}return r.apply(this,arguments)}}),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){var r=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}});var o=e.RTCPeerConnection.prototype.addIceCandidate;e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?o.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())}}},fixNegotiationNeeded:function(e){n.wrapPeerConnectionEvent(e,"negotiationneeded",function(e){if("stable"===e.target.signalingState)return e})},shimGetDisplayMedia:function(e,t){!e.navigator||!e.navigator.mediaDevices||"getDisplayMedia"in e.navigator.mediaDevices||("function"==typeof t?(e.navigator.mediaDevices.getDisplayMedia=function(r){return t(r).then(function(t){var n=r.video&&r.video.width,i=r.video&&r.video.height,o=r.video&&r.video.frameRate;return r.video={mandatory:{chromeMediaSource:"desktop",chromeMediaSourceId:t,maxFrameRate:o||3}},n&&(r.video.mandatory.maxWidth=n),i&&(r.video.mandatory.maxHeight=i),e.navigator.mediaDevices.getUserMedia(r)})},e.navigator.getDisplayMedia=function(t){return n.deprecated("navigator.getDisplayMedia","navigator.mediaDevices.getDisplayMedia"),e.navigator.mediaDevices.getDisplayMedia(t)}):console.error("shimGetDisplayMedia: getSourceId argument is not a function"))}}},function(e,t,r){"use strict";var n=r(3),i=n.log;e.exports=function(e){var t=n.detectBrowser(e),r=e&&e.navigator,o=function(e){if("object"!=typeof e||e.mandatory||e.optional)return e;var t={};return Object.keys(e).forEach(function(r){if("require"!==r&&"advanced"!==r&&"mediaSource"!==r){var n="object"==typeof e[r]?e[r]:{ideal:e[r]};void 0!==n.exact&&"number"==typeof n.exact&&(n.min=n.max=n.exact);var i=function(e,t){return e?e+t.charAt(0).toUpperCase()+t.slice(1):"deviceId"===t?"sourceId":t};if(void 0!==n.ideal){t.optional=t.optional||[];var o={};"number"==typeof n.ideal?(o[i("min",r)]=n.ideal,t.optional.push(o),(o={})[i("max",r)]=n.ideal,t.optional.push(o)):(o[i("",r)]=n.ideal,t.optional.push(o))}void 0!==n.exact&&"number"!=typeof n.exact?(t.mandatory=t.mandatory||{},t.mandatory[i("",r)]=n.exact):["min","max"].forEach(function(e){void 0!==n[e]&&(t.mandatory=t.mandatory||{},t.mandatory[i(e,r)]=n[e])})}}),e.advanced&&(t.optional=(t.optional||[]).concat(e.advanced)),t},a=function(e,n){if(t.version>=61)return n(e);if((e=JSON.parse(JSON.stringify(e)))&&"object"==typeof e.audio){var a=function(e,t,r){t in e&&!(r in e)&&(e[r]=e[t],delete e[t])};a((e=JSON.parse(JSON.stringify(e))).audio,"autoGainControl","googAutoGainControl"),a(e.audio,"noiseSuppression","googNoiseSuppression"),e.audio=o(e.audio)}if(e&&"object"==typeof e.video){var s=e.video.facingMode;s=s&&("object"==typeof s?s:{ideal:s});var c,u=t.version<66;if(s&&("user"===s.exact||"environment"===s.exact||"user"===s.ideal||"environment"===s.ideal)&&(!r.mediaDevices.getSupportedConstraints||!r.mediaDevices.getSupportedConstraints().facingMode||u)&&(delete e.video.facingMode,"environment"===s.exact||"environment"===s.ideal?c=["back","rear"]:"user"!==s.exact&&"user"!==s.ideal||(c=["front"]),c))return r.mediaDevices.enumerateDevices().then(function(t){var r=(t=t.filter(function(e){return"videoinput"===e.kind})).find(function(e){return c.some(function(t){return-1!==e.label.toLowerCase().indexOf(t)})});return!r&&t.length&&-1!==c.indexOf("back")&&(r=t[t.length-1]),r&&(e.video.deviceId=s.exact?{exact:r.deviceId}:{ideal:r.deviceId}),e.video=o(e.video),i("chrome: "+JSON.stringify(e)),n(e)});e.video=o(e.video)}return i("chrome: "+JSON.stringify(e)),n(e)},s=function(e){return t.version>=64?e:{name:{PermissionDeniedError:"NotAllowedError",PermissionDismissedError:"NotAllowedError",InvalidStateError:"NotAllowedError",DevicesNotFoundError:"NotFoundError",ConstraintNotSatisfiedError:"OverconstrainedError",TrackStartError:"NotReadableError",MediaDeviceFailedDueToShutdown:"NotAllowedError",MediaDeviceKillSwitchOn:"NotAllowedError",TabCaptureError:"AbortError",ScreenCaptureError:"AbortError",DeviceCaptureError:"AbortError"}[e.name]||e.name,message:e.message,constraint:e.constraint||e.constraintName,toString:function(){return this.name+(this.message&&": ")+this.message}}};r.getUserMedia=function(e,t,n){a(e,function(e){r.webkitGetUserMedia(e,t,function(e){n&&n(s(e))})})};var c=function(e){return new Promise(function(t,n){r.getUserMedia(e,t,n)})};if(r.mediaDevices||(r.mediaDevices={getUserMedia:c,enumerateDevices:function(){return new Promise(function(t){var r={audio:"audioinput",video:"videoinput"};return e.MediaStreamTrack.getSources(function(e){t(e.map(function(e){return{label:e.label,kind:r[e.kind],deviceId:e.id,groupId:""}}))})})},getSupportedConstraints:function(){return{deviceId:!0,echoCancellation:!0,facingMode:!0,frameRate:!0,height:!0,width:!0}}}),r.mediaDevices.getUserMedia){var u=r.mediaDevices.getUserMedia.bind(r.mediaDevices);r.mediaDevices.getUserMedia=function(e){return a(e,function(e){return u(e).then(function(t){if(e.audio&&!t.getAudioTracks().length||e.video&&!t.getVideoTracks().length)throw t.getTracks().forEach(function(e){e.stop()}),new DOMException("","NotFoundError");return t},function(e){return Promise.reject(s(e))})})}}else r.mediaDevices.getUserMedia=function(e){return c(e)};void 0===r.mediaDevices.addEventListener&&(r.mediaDevices.addEventListener=function(){i("Dummy mediaDevices.addEventListener called.")}),void 0===r.mediaDevices.removeEventListener&&(r.mediaDevices.removeEventListener=function(){i("Dummy mediaDevices.removeEventListener called.")})}},function(e,t,r){"use strict";var n=r(3),i=r(15),o=r(16);e.exports={shimGetUserMedia:r(17),shimPeerConnection:function(e){var t=n.detectBrowser(e);if(e.RTCIceGatherer&&(e.RTCIceCandidate||(e.RTCIceCandidate=function(e){return e}),e.RTCSessionDescription||(e.RTCSessionDescription=function(e){return e}),t.version<15025)){var r=Object.getOwnPropertyDescriptor(e.MediaStreamTrack.prototype,"enabled");Object.defineProperty(e.MediaStreamTrack.prototype,"enabled",{set:function(e){r.set.call(this,e);var t=new Event("enabled");t.enabled=e,this.dispatchEvent(t)}})}!e.RTCRtpSender||"dtmf"in e.RTCRtpSender.prototype||Object.defineProperty(e.RTCRtpSender.prototype,"dtmf",{get:function(){return void 0===this._dtmf&&("audio"===this.track.kind?this._dtmf=new e.RTCDtmfSender(this):"video"===this.track.kind&&(this._dtmf=null)),this._dtmf}}),e.RTCDtmfSender&&!e.RTCDTMFSender&&(e.RTCDTMFSender=e.RTCDtmfSender);var a=o(e,t.version);e.RTCPeerConnection=function(e){return e&&e.iceServers&&(e.iceServers=i(e.iceServers)),new a(e)},e.RTCPeerConnection.prototype=a.prototype},shimReplaceTrack:function(e){!e.RTCRtpSender||"replaceTrack"in e.RTCRtpSender.prototype||(e.RTCRtpSender.prototype.replaceTrack=e.RTCRtpSender.prototype.setTrack)},shimGetDisplayMedia:function(e,t){if("getDisplayMedia"in e.navigator&&e.navigator.mediaDevices&&!("getDisplayMedia"in e.navigator.mediaDevices)){var r=e.navigator.getDisplayMedia;e.navigator.mediaDevices.getDisplayMedia=function(t){return r.call(e.navigator,t)},e.navigator.getDisplayMedia=function(t){return n.deprecated("navigator.getDisplayMedia","navigator.mediaDevices.getDisplayMedia"),r.call(e.navigator,t)}}}}},function(e,t,r){"use strict";var n=r(3);e.exports=function(e,t){var r=!1;return(e=JSON.parse(JSON.stringify(e))).filter(function(e){if(e&&(e.urls||e.url)){var i=e.urls||e.url;e.url&&!e.urls&&n.deprecated("RTCIceServer.url","RTCIceServer.urls");var o="string"==typeof i;return o&&(i=[i]),i=i.filter(function(e){return 0!==e.indexOf("turn:")||-1===e.indexOf("transport=udp")||-1!==e.indexOf("turn:[")||r?0===e.indexOf("stun:")&&t>=14393&&-1===e.indexOf("?transport=udp"):(r=!0,!0)}),delete e.url,e.urls=o?i[0]:i,!!i.length}})}},function(e,t,r){"use strict";var n=r(6);function i(e,t,r,i,o){var a=n.writeRtpDescription(e.kind,t);if(a+=n.writeIceParameters(e.iceGatherer.getLocalParameters()),a+=n.writeDtlsParameters(e.dtlsTransport.getLocalParameters(),"offer"===r?"actpass":o||"active"),a+="a=mid:"+e.mid+"\r\n",e.rtpSender&&e.rtpReceiver?a+="a=sendrecv\r\n":e.rtpSender?a+="a=sendonly\r\n":e.rtpReceiver?a+="a=recvonly\r\n":a+="a=inactive\r\n",e.rtpSender){var s=e.rtpSender._initialTrackId||e.rtpSender.track.id;e.rtpSender._initialTrackId=s;var c="msid:"+(i?i.id:"-")+" "+s+"\r\n";a+="a="+c,a+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" "+c,e.sendEncodingParameters[0].rtx&&(a+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" "+c,a+="a=ssrc-group:FID "+e.sendEncodingParameters[0].ssrc+" "+e.sendEncodingParameters[0].rtx.ssrc+"\r\n")}return a+="a=ssrc:"+e.sendEncodingParameters[0].ssrc+" cname:"+n.localCName+"\r\n",e.rtpSender&&e.sendEncodingParameters[0].rtx&&(a+="a=ssrc:"+e.sendEncodingParameters[0].rtx.ssrc+" cname:"+n.localCName+"\r\n"),a}function o(e,t){var r={codecs:[],headerExtensions:[],fecMechanisms:[]},n=function(e,t){e=parseInt(e,10);for(var r=0;r<t.length;r++)if(t[r].payloadType===e||t[r].preferredPayloadType===e)return t[r]},i=function(e,t,r,i){var o=n(e.parameters.apt,r),a=n(t.parameters.apt,i);return o&&a&&o.name.toLowerCase()===a.name.toLowerCase()};return e.codecs.forEach(function(n){for(var o=0;o<t.codecs.length;o++){var a=t.codecs[o];if(n.name.toLowerCase()===a.name.toLowerCase()&&n.clockRate===a.clockRate){if("rtx"===n.name.toLowerCase()&&n.parameters&&a.parameters.apt&&!i(n,a,e.codecs,t.codecs))continue;(a=JSON.parse(JSON.stringify(a))).numChannels=Math.min(n.numChannels,a.numChannels),r.codecs.push(a),a.rtcpFeedback=a.rtcpFeedback.filter(function(e){for(var t=0;t<n.rtcpFeedback.length;t++)if(n.rtcpFeedback[t].type===e.type&&n.rtcpFeedback[t].parameter===e.parameter)return!0;return!1});break}}}),e.headerExtensions.forEach(function(e){for(var n=0;n<t.headerExtensions.length;n++){var i=t.headerExtensions[n];if(e.uri===i.uri){r.headerExtensions.push(i);break}}}),r}function a(e,t,r){return-1!=={offer:{setLocalDescription:["stable","have-local-offer"],setRemoteDescription:["stable","have-remote-offer"]},answer:{setLocalDescription:["have-remote-offer","have-local-pranswer"],setRemoteDescription:["have-local-offer","have-remote-pranswer"]}}[t][e].indexOf(r)}function s(e,t){var r=e.getRemoteCandidates().find(function(e){return t.foundation===e.foundation&&t.ip===e.ip&&t.port===e.port&&t.priority===e.priority&&t.protocol===e.protocol&&t.type===e.type});return r||e.addRemoteCandidate(t),!r}function c(e,t){var r=new Error(t);return r.name=e,r.code={NotSupportedError:9,InvalidStateError:11,InvalidAccessError:15,TypeError:void 0,OperationError:void 0}[e],r}e.exports=function(e,t){function r(t,r){r.addTrack(t),r.dispatchEvent(new e.MediaStreamTrackEvent("addtrack",{track:t}))}function u(t,r,n,i){var o=new Event("track");o.track=r,o.receiver=n,o.transceiver={receiver:n},o.streams=i,e.setTimeout(function(){t._dispatchEvent("track",o)})}var d=function(r){var i=this,o=document.createDocumentFragment();if(["addEventListener","removeEventListener","dispatchEvent"].forEach(function(e){i[e]=o[e].bind(o)}),this.canTrickleIceCandidates=null,this.needNegotiation=!1,this.localStreams=[],this.remoteStreams=[],this._localDescription=null,this._remoteDescription=null,this.signalingState="stable",this.iceConnectionState="new",this.connectionState="new",this.iceGatheringState="new",r=JSON.parse(JSON.stringify(r||{})),this.usingBundle="max-bundle"===r.bundlePolicy,"negotiate"===r.rtcpMuxPolicy)throw c("NotSupportedError","rtcpMuxPolicy 'negotiate' is not supported");switch(r.rtcpMuxPolicy||(r.rtcpMuxPolicy="require"),r.iceTransportPolicy){case"all":case"relay":break;default:r.iceTransportPolicy="all"}switch(r.bundlePolicy){case"balanced":case"max-compat":case"max-bundle":break;default:r.bundlePolicy="balanced"}if(r.iceServers=function(e,t){var r=!1;return(e=JSON.parse(JSON.stringify(e))).filter(function(e){if(e&&(e.urls||e.url)){var n=e.urls||e.url;e.url&&!e.urls&&console.warn("RTCIceServer.url is deprecated! Use urls instead.");var i="string"==typeof n;return i&&(n=[n]),n=n.filter(function(e){return 0!==e.indexOf("turn:")||-1===e.indexOf("transport=udp")||-1!==e.indexOf("turn:[")||r?0===e.indexOf("stun:")&&t>=14393&&-1===e.indexOf("?transport=udp"):(r=!0,!0)}),delete e.url,e.urls=i?n[0]:n,!!n.length}})}(r.iceServers||[],t),this._iceGatherers=[],r.iceCandidatePoolSize)for(var a=r.iceCandidatePoolSize;a>0;a--)this._iceGatherers.push(new e.RTCIceGatherer({iceServers:r.iceServers,gatherPolicy:r.iceTransportPolicy}));else r.iceCandidatePoolSize=0;this._config=r,this.transceivers=[],this._sdpSessionId=n.generateSessionId(),this._sdpSessionVersion=0,this._dtlsRole=void 0,this._isClosed=!1};Object.defineProperty(d.prototype,"localDescription",{configurable:!0,get:function(){return this._localDescription}}),Object.defineProperty(d.prototype,"remoteDescription",{configurable:!0,get:function(){return this._remoteDescription}}),d.prototype.onicecandidate=null,d.prototype.onaddstream=null,d.prototype.ontrack=null,d.prototype.onremovestream=null,d.prototype.onsignalingstatechange=null,d.prototype.oniceconnectionstatechange=null,d.prototype.onconnectionstatechange=null,d.prototype.onicegatheringstatechange=null,d.prototype.onnegotiationneeded=null,d.prototype.ondatachannel=null,d.prototype._dispatchEvent=function(e,t){this._isClosed||(this.dispatchEvent(t),"function"==typeof this["on"+e]&&this["on"+e](t))},d.prototype._emitGatheringStateChange=function(){var e=new Event("icegatheringstatechange");this._dispatchEvent("icegatheringstatechange",e)},d.prototype.getConfiguration=function(){return this._config},d.prototype.getLocalStreams=function(){return this.localStreams},d.prototype.getRemoteStreams=function(){return this.remoteStreams},d.prototype._createTransceiver=function(e,t){var r=this.transceivers.length>0,n={track:null,iceGatherer:null,iceTransport:null,dtlsTransport:null,localCapabilities:null,remoteCapabilities:null,rtpSender:null,rtpReceiver:null,kind:e,mid:null,sendEncodingParameters:null,recvEncodingParameters:null,stream:null,associatedRemoteMediaStreams:[],wantReceive:!0};if(this.usingBundle&&r)n.iceTransport=this.transceivers[0].iceTransport,n.dtlsTransport=this.transceivers[0].dtlsTransport;else{var i=this._createIceAndDtlsTransports();n.iceTransport=i.iceTransport,n.dtlsTransport=i.dtlsTransport}return t||this.transceivers.push(n),n},d.prototype.addTrack=function(t,r){if(this._isClosed)throw c("InvalidStateError","Attempted to call addTrack on a closed peerconnection.");var n;if(this.transceivers.find(function(e){return e.track===t}))throw c("InvalidAccessError","Track already exists.");for(var i=0;i<this.transceivers.length;i++)this.transceivers[i].track||this.transceivers[i].kind!==t.kind||(n=this.transceivers[i]);return n||(n=this._createTransceiver(t.kind)),this._maybeFireNegotiationNeeded(),-1===this.localStreams.indexOf(r)&&this.localStreams.push(r),n.track=t,n.stream=r,n.rtpSender=new e.RTCRtpSender(t,n.dtlsTransport),n.rtpSender},d.prototype.addStream=function(e){var r=this;if(t>=15025)e.getTracks().forEach(function(t){r.addTrack(t,e)});else{var n=e.clone();e.getTracks().forEach(function(e,t){var r=n.getTracks()[t];e.addEventListener("enabled",function(e){r.enabled=e.enabled})}),n.getTracks().forEach(function(e){r.addTrack(e,n)})}},d.prototype.removeTrack=function(t){if(this._isClosed)throw c("InvalidStateError","Attempted to call removeTrack on a closed peerconnection.");if(!(t instanceof e.RTCRtpSender))throw new TypeError("Argument 1 of RTCPeerConnection.removeTrack does not implement interface RTCRtpSender.");var r=this.transceivers.find(function(e){return e.rtpSender===t});if(!r)throw c("InvalidAccessError","Sender was not created by this connection.");var n=r.stream;r.rtpSender.stop(),r.rtpSender=null,r.track=null,r.stream=null,-1===this.transceivers.map(function(e){return e.stream}).indexOf(n)&&this.localStreams.indexOf(n)>-1&&this.localStreams.splice(this.localStreams.indexOf(n),1),this._maybeFireNegotiationNeeded()},d.prototype.removeStream=function(e){var t=this;e.getTracks().forEach(function(e){var r=t.getSenders().find(function(t){return t.track===e});r&&t.removeTrack(r)})},d.prototype.getSenders=function(){return this.transceivers.filter(function(e){return!!e.rtpSender}).map(function(e){return e.rtpSender})},d.prototype.getReceivers=function(){return this.transceivers.filter(function(e){return!!e.rtpReceiver}).map(function(e){return e.rtpReceiver})},d.prototype._createIceGatherer=function(t,r){var n=this;if(r&&t>0)return this.transceivers[0].iceGatherer;if(this._iceGatherers.length)return this._iceGatherers.shift();var i=new e.RTCIceGatherer({iceServers:this._config.iceServers,gatherPolicy:this._config.iceTransportPolicy});return Object.defineProperty(i,"state",{value:"new",writable:!0}),this.transceivers[t].bufferedCandidateEvents=[],this.transceivers[t].bufferCandidates=function(e){var r=!e.candidate||0===Object.keys(e.candidate).length;i.state=r?"completed":"gathering",null!==n.transceivers[t].bufferedCandidateEvents&&n.transceivers[t].bufferedCandidateEvents.push(e)},i.addEventListener("localcandidate",this.transceivers[t].bufferCandidates),i},d.prototype._gather=function(t,r){var i=this,o=this.transceivers[r].iceGatherer;if(!o.onlocalcandidate){var a=this.transceivers[r].bufferedCandidateEvents;this.transceivers[r].bufferedCandidateEvents=null,o.removeEventListener("localcandidate",this.transceivers[r].bufferCandidates),o.onlocalcandidate=function(e){if(!(i.usingBundle&&r>0)){var a=new Event("icecandidate");a.candidate={sdpMid:t,sdpMLineIndex:r};var s=e.candidate,c=!s||0===Object.keys(s).length;if(c)"new"!==o.state&&"gathering"!==o.state||(o.state="completed");else{"new"===o.state&&(o.state="gathering"),s.component=1,s.ufrag=o.getLocalParameters().usernameFragment;var u=n.writeCandidate(s);a.candidate=Object.assign(a.candidate,n.parseCandidate(u)),a.candidate.candidate=u,a.candidate.toJSON=function(){return{candidate:a.candidate.candidate,sdpMid:a.candidate.sdpMid,sdpMLineIndex:a.candidate.sdpMLineIndex,usernameFragment:a.candidate.usernameFragment}}}var d=n.getMediaSections(i._localDescription.sdp);d[a.candidate.sdpMLineIndex]+=c?"a=end-of-candidates\r\n":"a="+a.candidate.candidate+"\r\n",i._localDescription.sdp=n.getDescription(i._localDescription.sdp)+d.join("");var p=i.transceivers.every(function(e){return e.iceGatherer&&"completed"===e.iceGatherer.state});"gathering"!==i.iceGatheringState&&(i.iceGatheringState="gathering",i._emitGatheringStateChange()),c||i._dispatchEvent("icecandidate",a),p&&(i._dispatchEvent("icecandidate",new Event("icecandidate")),i.iceGatheringState="complete",i._emitGatheringStateChange())}},e.setTimeout(function(){a.forEach(function(e){o.onlocalcandidate(e)})},0)}},d.prototype._createIceAndDtlsTransports=function(){var t=this,r=new e.RTCIceTransport(null);r.onicestatechange=function(){t._updateIceConnectionState(),t._updateConnectionState()};var n=new e.RTCDtlsTransport(r);return n.ondtlsstatechange=function(){t._updateConnectionState()},n.onerror=function(){Object.defineProperty(n,"state",{value:"failed",writable:!0}),t._updateConnectionState()},{iceTransport:r,dtlsTransport:n}},d.prototype._disposeIceAndDtlsTransports=function(e){var t=this.transceivers[e].iceGatherer;t&&(delete t.onlocalcandidate,delete this.transceivers[e].iceGatherer);var r=this.transceivers[e].iceTransport;r&&(delete r.onicestatechange,delete this.transceivers[e].iceTransport);var n=this.transceivers[e].dtlsTransport;n&&(delete n.ondtlsstatechange,delete n.onerror,delete this.transceivers[e].dtlsTransport)},d.prototype._transceive=function(e,r,i){var a=o(e.localCapabilities,e.remoteCapabilities);r&&e.rtpSender&&(a.encodings=e.sendEncodingParameters,a.rtcp={cname:n.localCName,compound:e.rtcpParameters.compound},e.recvEncodingParameters.length&&(a.rtcp.ssrc=e.recvEncodingParameters[0].ssrc),e.rtpSender.send(a)),i&&e.rtpReceiver&&a.codecs.length>0&&("video"===e.kind&&e.recvEncodingParameters&&t<15019&&e.recvEncodingParameters.forEach(function(e){delete e.rtx}),e.recvEncodingParameters.length?a.encodings=e.recvEncodingParameters:a.encodings=[{}],a.rtcp={compound:e.rtcpParameters.compound},e.rtcpParameters.cname&&(a.rtcp.cname=e.rtcpParameters.cname),e.sendEncodingParameters.length&&(a.rtcp.ssrc=e.sendEncodingParameters[0].ssrc),e.rtpReceiver.receive(a))},d.prototype.setLocalDescription=function(e){var t,r,i=this;if(-1===["offer","answer"].indexOf(e.type))return Promise.reject(c("TypeError",'Unsupported type "'+e.type+'"'));if(!a("setLocalDescription",e.type,i.signalingState)||i._isClosed)return Promise.reject(c("InvalidStateError","Can not set local "+e.type+" in state "+i.signalingState));if("offer"===e.type)t=n.splitSections(e.sdp),r=t.shift(),t.forEach(function(e,t){var r=n.parseRtpParameters(e);i.transceivers[t].localCapabilities=r}),i.transceivers.forEach(function(e,t){i._gather(e.mid,t)});else if("answer"===e.type){t=n.splitSections(i._remoteDescription.sdp),r=t.shift();var s=n.matchPrefix(r,"a=ice-lite").length>0;t.forEach(function(e,t){var a=i.transceivers[t],c=a.iceGatherer,u=a.iceTransport,d=a.dtlsTransport,p=a.localCapabilities,f=a.remoteCapabilities;if((!n.isRejected(e)||0!==n.matchPrefix(e,"a=bundle-only").length)&&!a.rejected){var l=n.getIceParameters(e,r),h=n.getDtlsParameters(e,r);s&&(h.role="server"),i.usingBundle&&0!==t||(i._gather(a.mid,t),"new"===u.state&&u.start(c,l,s?"controlling":"controlled"),"new"===d.state&&d.start(h));var m=o(p,f);i._transceive(a,m.codecs.length>0,!1)}})}return i._localDescription={type:e.type,sdp:e.sdp},"offer"===e.type?i._updateSignalingState("have-local-offer"):i._updateSignalingState("stable"),Promise.resolve()},d.prototype.setRemoteDescription=function(i){var d=this;if(-1===["offer","answer"].indexOf(i.type))return Promise.reject(c("TypeError",'Unsupported type "'+i.type+'"'));if(!a("setRemoteDescription",i.type,d.signalingState)||d._isClosed)return Promise.reject(c("InvalidStateError","Can not set remote "+i.type+" in state "+d.signalingState));var p={};d.remoteStreams.forEach(function(e){p[e.id]=e});var f=[],l=n.splitSections(i.sdp),h=l.shift(),m=n.matchPrefix(h,"a=ice-lite").length>0,v=n.matchPrefix(h,"a=group:BUNDLE ").length>0;d.usingBundle=v;var g=n.matchPrefix(h,"a=ice-options:")[0];return d.canTrickleIceCandidates=!!g&&g.substr(14).split(" ").indexOf("trickle")>=0,l.forEach(function(a,c){var u=n.splitLines(a),l=n.getKind(a),g=n.isRejected(a)&&0===n.matchPrefix(a,"a=bundle-only").length,y=u[0].substr(2).split(" ")[2],b=n.getDirection(a,h),w=n.parseMsid(a),_=n.getMid(a)||n.generateIdentifier();if(g||"application"===l&&("DTLS/SCTP"===y||"UDP/DTLS/SCTP"===y))d.transceivers[c]={mid:_,kind:l,protocol:y,rejected:!0};else{var k,T,C,S,R,E,x,P,I;!g&&d.transceivers[c]&&d.transceivers[c].rejected&&(d.transceivers[c]=d._createTransceiver(l,!0));var O,A,j=n.parseRtpParameters(a);g||(O=n.getIceParameters(a,h),(A=n.getDtlsParameters(a,h)).role="client"),x=n.parseRtpEncodingParameters(a);var M=n.parseRtcpParameters(a),L=n.matchPrefix(a,"a=end-of-candidates",h).length>0,D=n.matchPrefix(a,"a=candidate:").map(function(e){return n.parseCandidate(e)}).filter(function(e){return 1===e.component});if(("offer"===i.type||"answer"===i.type)&&!g&&v&&c>0&&d.transceivers[c]&&(d._disposeIceAndDtlsTransports(c),d.transceivers[c].iceGatherer=d.transceivers[0].iceGatherer,d.transceivers[c].iceTransport=d.transceivers[0].iceTransport,d.transceivers[c].dtlsTransport=d.transceivers[0].dtlsTransport,d.transceivers[c].rtpSender&&d.transceivers[c].rtpSender.setTransport(d.transceivers[0].dtlsTransport),d.transceivers[c].rtpReceiver&&d.transceivers[c].rtpReceiver.setTransport(d.transceivers[0].dtlsTransport)),"offer"!==i.type||g)"answer"!==i.type||g||(T=(k=d.transceivers[c]).iceGatherer,C=k.iceTransport,S=k.dtlsTransport,R=k.rtpReceiver,E=k.sendEncodingParameters,P=k.localCapabilities,d.transceivers[c].recvEncodingParameters=x,d.transceivers[c].remoteCapabilities=j,d.transceivers[c].rtcpParameters=M,D.length&&"new"===C.state&&(!m&&!L||v&&0!==c?D.forEach(function(e){s(k.iceTransport,e)}):C.setRemoteCandidates(D)),v&&0!==c||("new"===C.state&&C.start(T,O,"controlling"),"new"===S.state&&S.start(A)),!o(k.localCapabilities,k.remoteCapabilities).codecs.filter(function(e){return"rtx"===e.name.toLowerCase()}).length&&k.sendEncodingParameters[0].rtx&&delete k.sendEncodingParameters[0].rtx,d._transceive(k,"sendrecv"===b||"recvonly"===b,"sendrecv"===b||"sendonly"===b),!R||"sendrecv"!==b&&"sendonly"!==b?delete k.rtpReceiver:(I=R.track,w?(p[w.stream]||(p[w.stream]=new e.MediaStream),r(I,p[w.stream]),f.push([I,R,p[w.stream]])):(p.default||(p.default=new e.MediaStream),r(I,p.default),f.push([I,R,p.default]))));else{(k=d.transceivers[c]||d._createTransceiver(l)).mid=_,k.iceGatherer||(k.iceGatherer=d._createIceGatherer(c,v)),D.length&&"new"===k.iceTransport.state&&(!L||v&&0!==c?D.forEach(function(e){s(k.iceTransport,e)}):k.iceTransport.setRemoteCandidates(D)),P=e.RTCRtpReceiver.getCapabilities(l),t<15019&&(P.codecs=P.codecs.filter(function(e){return"rtx"!==e.name})),E=k.sendEncodingParameters||[{ssrc:1001*(2*c+2)}];var $,N=!1;"sendrecv"===b||"sendonly"===b?(N=!k.rtpReceiver,R=k.rtpReceiver||new e.RTCRtpReceiver(k.dtlsTransport,l),N&&(I=R.track,w&&"-"===w.stream||(w?(p[w.stream]||(p[w.stream]=new e.MediaStream,Object.defineProperty(p[w.stream],"id",{get:function(){return w.stream}})),Object.defineProperty(I,"id",{get:function(){return w.track}}),$=p[w.stream]):(p.default||(p.default=new e.MediaStream),$=p.default)),$&&(r(I,$),k.associatedRemoteMediaStreams.push($)),f.push([I,R,$]))):k.rtpReceiver&&k.rtpReceiver.track&&(k.associatedRemoteMediaStreams.forEach(function(t){var r=t.getTracks().find(function(e){return e.id===k.rtpReceiver.track.id});r&&function(t,r){r.removeTrack(t),r.dispatchEvent(new e.MediaStreamTrackEvent("removetrack",{track:t}))}(r,t)}),k.associatedRemoteMediaStreams=[]),k.localCapabilities=P,k.remoteCapabilities=j,k.rtpReceiver=R,k.rtcpParameters=M,k.sendEncodingParameters=E,k.recvEncodingParameters=x,d._transceive(d.transceivers[c],!1,N)}}}),void 0===d._dtlsRole&&(d._dtlsRole="offer"===i.type?"active":"passive"),d._remoteDescription={type:i.type,sdp:i.sdp},"offer"===i.type?d._updateSignalingState("have-remote-offer"):d._updateSignalingState("stable"),Object.keys(p).forEach(function(t){var r=p[t];if(r.getTracks().length){if(-1===d.remoteStreams.indexOf(r)){d.remoteStreams.push(r);var n=new Event("addstream");n.stream=r,e.setTimeout(function(){d._dispatchEvent("addstream",n)})}f.forEach(function(e){var t=e[0],n=e[1];r.id===e[2].id&&u(d,t,n,[r])})}}),f.forEach(function(e){e[2]||u(d,e[0],e[1],[])}),e.setTimeout(function(){d&&d.transceivers&&d.transceivers.forEach(function(e){e.iceTransport&&"new"===e.iceTransport.state&&e.iceTransport.getRemoteCandidates().length>0&&(console.warn("Timeout for addRemoteCandidate. Consider sending an end-of-candidates notification"),e.iceTransport.addRemoteCandidate({}))})},4e3),Promise.resolve()},d.prototype.close=function(){this.transceivers.forEach(function(e){e.iceTransport&&e.iceTransport.stop(),e.dtlsTransport&&e.dtlsTransport.stop(),e.rtpSender&&e.rtpSender.stop(),e.rtpReceiver&&e.rtpReceiver.stop()}),this._isClosed=!0,this._updateSignalingState("closed")},d.prototype._updateSignalingState=function(e){this.signalingState=e;var t=new Event("signalingstatechange");this._dispatchEvent("signalingstatechange",t)},d.prototype._maybeFireNegotiationNeeded=function(){var t=this;"stable"===this.signalingState&&!0!==this.needNegotiation&&(this.needNegotiation=!0,e.setTimeout(function(){if(t.needNegotiation){t.needNegotiation=!1;var e=new Event("negotiationneeded");t._dispatchEvent("negotiationneeded",e)}},0))},d.prototype._updateIceConnectionState=function(){var e,t={new:0,closed:0,checking:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(e){t[e.iceTransport.state]++}),e="new",t.failed>0?e="failed":t.checking>0?e="checking":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0?e="connected":t.completed>0&&(e="completed"),e!==this.iceConnectionState){this.iceConnectionState=e;var r=new Event("iceconnectionstatechange");this._dispatchEvent("iceconnectionstatechange",r)}},d.prototype._updateConnectionState=function(){var e,t={new:0,closed:0,connecting:0,connected:0,completed:0,disconnected:0,failed:0};if(this.transceivers.forEach(function(e){t[e.iceTransport.state]++,t[e.dtlsTransport.state]++}),t.connected+=t.completed,e="new",t.failed>0?e="failed":t.connecting>0?e="connecting":t.disconnected>0?e="disconnected":t.new>0?e="new":t.connected>0&&(e="connected"),e!==this.connectionState){this.connectionState=e;var r=new Event("connectionstatechange");this._dispatchEvent("connectionstatechange",r)}},d.prototype.createOffer=function(){var r=this;if(r._isClosed)return Promise.reject(c("InvalidStateError","Can not call createOffer after close"));var o=r.transceivers.filter(function(e){return"audio"===e.kind}).length,a=r.transceivers.filter(function(e){return"video"===e.kind}).length,s=arguments[0];if(s){if(s.mandatory||s.optional)throw new TypeError("Legacy mandatory/optional constraints not supported.");void 0!==s.offerToReceiveAudio&&(o=!0===s.offerToReceiveAudio?1:!1===s.offerToReceiveAudio?0:s.offerToReceiveAudio),void 0!==s.offerToReceiveVideo&&(a=!0===s.offerToReceiveVideo?1:!1===s.offerToReceiveVideo?0:s.offerToReceiveVideo)}for(r.transceivers.forEach(function(e){"audio"===e.kind?--o<0&&(e.wantReceive=!1):"video"===e.kind&&--a<0&&(e.wantReceive=!1)});o>0||a>0;)o>0&&(r._createTransceiver("audio"),o--),a>0&&(r._createTransceiver("video"),a--);var u=n.writeSessionBoilerplate(r._sdpSessionId,r._sdpSessionVersion++);r.transceivers.forEach(function(i,o){var a=i.track,s=i.kind,c=i.mid||n.generateIdentifier();i.mid=c,i.iceGatherer||(i.iceGatherer=r._createIceGatherer(o,r.usingBundle));var u=e.RTCRtpSender.getCapabilities(s);t<15019&&(u.codecs=u.codecs.filter(function(e){return"rtx"!==e.name})),u.codecs.forEach(function(e){"H264"===e.name&&void 0===e.parameters["level-asymmetry-allowed"]&&(e.parameters["level-asymmetry-allowed"]="1"),i.remoteCapabilities&&i.remoteCapabilities.codecs&&i.remoteCapabilities.codecs.forEach(function(t){e.name.toLowerCase()===t.name.toLowerCase()&&e.clockRate===t.clockRate&&(e.preferredPayloadType=t.payloadType)})}),u.headerExtensions.forEach(function(e){(i.remoteCapabilities&&i.remoteCapabilities.headerExtensions||[]).forEach(function(t){e.uri===t.uri&&(e.id=t.id)})});var d=i.sendEncodingParameters||[{ssrc:1001*(2*o+1)}];a&&t>=15019&&"video"===s&&!d[0].rtx&&(d[0].rtx={ssrc:d[0].ssrc+1}),i.wantReceive&&(i.rtpReceiver=new e.RTCRtpReceiver(i.dtlsTransport,s)),i.localCapabilities=u,i.sendEncodingParameters=d}),"max-compat"!==r._config.bundlePolicy&&(u+="a=group:BUNDLE "+r.transceivers.map(function(e){return e.mid}).join(" ")+"\r\n"),u+="a=ice-options:trickle\r\n",r.transceivers.forEach(function(e,t){u+=i(e,e.localCapabilities,"offer",e.stream,r._dtlsRole),u+="a=rtcp-rsize\r\n",!e.iceGatherer||"new"===r.iceGatheringState||0!==t&&r.usingBundle||(e.iceGatherer.getLocalCandidates().forEach(function(e){e.component=1,u+="a="+n.writeCandidate(e)+"\r\n"}),"completed"===e.iceGatherer.state&&(u+="a=end-of-candidates\r\n"))});var d=new e.RTCSessionDescription({type:"offer",sdp:u});return Promise.resolve(d)},d.prototype.createAnswer=function(){var r=this;if(r._isClosed)return Promise.reject(c("InvalidStateError","Can not call createAnswer after close"));if("have-remote-offer"!==r.signalingState&&"have-local-pranswer"!==r.signalingState)return Promise.reject(c("InvalidStateError","Can not call createAnswer in signalingState "+r.signalingState));var a=n.writeSessionBoilerplate(r._sdpSessionId,r._sdpSessionVersion++);r.usingBundle&&(a+="a=group:BUNDLE "+r.transceivers.map(function(e){return e.mid}).join(" ")+"\r\n"),a+="a=ice-options:trickle\r\n";var s=n.getMediaSections(r._remoteDescription.sdp).length;r.transceivers.forEach(function(e,n){if(!(n+1>s)){if(e.rejected)return"application"===e.kind?"DTLS/SCTP"===e.protocol?a+="m=application 0 DTLS/SCTP 5000\r\n":a+="m=application 0 "+e.protocol+" webrtc-datachannel\r\n":"audio"===e.kind?a+="m=audio 0 UDP/TLS/RTP/SAVPF 0\r\na=rtpmap:0 PCMU/8000\r\n":"video"===e.kind&&(a+="m=video 0 UDP/TLS/RTP/SAVPF 120\r\na=rtpmap:120 VP8/90000\r\n"),void(a+="c=IN IP4 0.0.0.0\r\na=inactive\r\na=mid:"+e.mid+"\r\n");var c;e.stream&&("audio"===e.kind?c=e.stream.getAudioTracks()[0]:"video"===e.kind&&(c=e.stream.getVideoTracks()[0]),c&&t>=15019&&"video"===e.kind&&!e.sendEncodingParameters[0].rtx&&(e.sendEncodingParameters[0].rtx={ssrc:e.sendEncodingParameters[0].ssrc+1}));var u=o(e.localCapabilities,e.remoteCapabilities);!u.codecs.filter(function(e){return"rtx"===e.name.toLowerCase()}).length&&e.sendEncodingParameters[0].rtx&&delete e.sendEncodingParameters[0].rtx,a+=i(e,u,"answer",e.stream,r._dtlsRole),e.rtcpParameters&&e.rtcpParameters.reducedSize&&(a+="a=rtcp-rsize\r\n")}});var u=new e.RTCSessionDescription({type:"answer",sdp:a});return Promise.resolve(u)},d.prototype.addIceCandidate=function(e){var t,r=this;return e&&void 0===e.sdpMLineIndex&&!e.sdpMid?Promise.reject(new TypeError("sdpMLineIndex or sdpMid required")):new Promise(function(i,o){if(!r._remoteDescription)return o(c("InvalidStateError","Can not add ICE candidate without a remote description"));if(e&&""!==e.candidate){var a=e.sdpMLineIndex;if(e.sdpMid)for(var u=0;u<r.transceivers.length;u++)if(r.transceivers[u].mid===e.sdpMid){a=u;break}var d=r.transceivers[a];if(!d)return o(c("OperationError","Can not add ICE candidate"));if(d.rejected)return i();var p=Object.keys(e.candidate).length>0?n.parseCandidate(e.candidate):{};if("tcp"===p.protocol&&(0===p.port||9===p.port))return i();if(p.component&&1!==p.component)return i();if((0===a||a>0&&d.iceTransport!==r.transceivers[0].iceTransport)&&!s(d.iceTransport,p))return o(c("OperationError","Can not add ICE candidate"));var f=e.candidate.trim();0===f.indexOf("a=")&&(f=f.substr(2)),(t=n.getMediaSections(r._remoteDescription.sdp))[a]+="a="+(p.type?f:"end-of-candidates")+"\r\n",r._remoteDescription.sdp=n.getDescription(r._remoteDescription.sdp)+t.join("")}else for(var l=0;l<r.transceivers.length&&(r.transceivers[l].rejected||(r.transceivers[l].iceTransport.addRemoteCandidate({}),(t=n.getMediaSections(r._remoteDescription.sdp))[l]+="a=end-of-candidates\r\n",r._remoteDescription.sdp=n.getDescription(r._remoteDescription.sdp)+t.join(""),!r.usingBundle));l++);i()})},d.prototype.getStats=function(t){if(t&&t instanceof e.MediaStreamTrack){var r=null;if(this.transceivers.forEach(function(e){e.rtpSender&&e.rtpSender.track===t?r=e.rtpSender:e.rtpReceiver&&e.rtpReceiver.track===t&&(r=e.rtpReceiver)}),!r)throw c("InvalidAccessError","Invalid selector.");return r.getStats()}var n=[];return this.transceivers.forEach(function(e){["rtpSender","rtpReceiver","iceGatherer","iceTransport","dtlsTransport"].forEach(function(t){e[t]&&n.push(e[t].getStats())})}),Promise.all(n).then(function(e){var t=new Map;return e.forEach(function(e){e.forEach(function(e){t.set(e.id,e)})}),t})},["RTCRtpSender","RTCRtpReceiver","RTCIceGatherer","RTCIceTransport","RTCDtlsTransport"].forEach(function(t){var r=e[t];if(r&&r.prototype&&r.prototype.getStats){var n=r.prototype.getStats;r.prototype.getStats=function(){return n.apply(this).then(function(e){var t=new Map;return Object.keys(e).forEach(function(r){e[r].type=function(e){return{inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"}[e.type]||e.type}(e[r]),t.set(r,e[r])}),t})}}});var p=["createOffer","createAnswer"];return p.forEach(function(e){var t=d.prototype[e];d.prototype[e]=function(){var e=arguments;return"function"==typeof e[0]||"function"==typeof e[1]?t.apply(this,[arguments[2]]).then(function(t){"function"==typeof e[0]&&e[0].apply(null,[t])},function(t){"function"==typeof e[1]&&e[1].apply(null,[t])}):t.apply(this,arguments)}}),(p=["setLocalDescription","setRemoteDescription","addIceCandidate"]).forEach(function(e){var t=d.prototype[e];d.prototype[e]=function(){var e=arguments;return"function"==typeof e[1]||"function"==typeof e[2]?t.apply(this,arguments).then(function(){"function"==typeof e[1]&&e[1].apply(null)},function(t){"function"==typeof e[2]&&e[2].apply(null,[t])}):t.apply(this,arguments)}}),["getStats"].forEach(function(e){var t=d.prototype[e];d.prototype[e]=function(){var e=arguments;return"function"==typeof e[1]?t.apply(this,arguments).then(function(){"function"==typeof e[1]&&e[1].apply(null)}):t.apply(this,arguments)}}),d}},function(e,t,r){"use strict";e.exports=function(e){var t=e&&e.navigator,r=t.mediaDevices.getUserMedia.bind(t.mediaDevices);t.mediaDevices.getUserMedia=function(e){return r(e).catch(function(e){return Promise.reject(function(e){return{name:{PermissionDeniedError:"NotAllowedError"}[e.name]||e.name,message:e.message,constraint:e.constraint,toString:function(){return this.name}}}(e))})}}},function(e,t,r){"use strict";var n=r(3);e.exports={shimGetUserMedia:r(19),shimOnTrack:function(e){"object"!=typeof e||!e.RTCPeerConnection||"ontrack"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"ontrack",{get:function(){return this._ontrack},set:function(e){this._ontrack&&(this.removeEventListener("track",this._ontrack),this.removeEventListener("addstream",this._ontrackpoly)),this.addEventListener("track",this._ontrack=e),this.addEventListener("addstream",this._ontrackpoly=function(e){e.stream.getTracks().forEach(function(t){var r=new Event("track");r.track=t,r.receiver={track:t},r.transceiver={receiver:r.receiver},r.streams=[e.stream],this.dispatchEvent(r)}.bind(this))}.bind(this))},enumerable:!0,configurable:!0}),"object"==typeof e&&e.RTCTrackEvent&&"receiver"in e.RTCTrackEvent.prototype&&!("transceiver"in e.RTCTrackEvent.prototype)&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})},shimSourceObject:function(e){"object"==typeof e&&(!e.HTMLMediaElement||"srcObject"in e.HTMLMediaElement.prototype||Object.defineProperty(e.HTMLMediaElement.prototype,"srcObject",{get:function(){return this.mozSrcObject},set:function(e){this.mozSrcObject=e}}))},shimPeerConnection:function(e){var t=n.detectBrowser(e);if("object"==typeof e&&(e.RTCPeerConnection||e.mozRTCPeerConnection)){e.RTCPeerConnection||(e.RTCPeerConnection=function(r,n){if(t.version<38&&r&&r.iceServers){for(var i=[],o=0;o<r.iceServers.length;o++){var a=r.iceServers[o];if(a.hasOwnProperty("urls"))for(var s=0;s<a.urls.length;s++){var c={url:a.urls[s]};0===a.urls[s].indexOf("turn")&&(c.username=a.username,c.credential=a.credential),i.push(c)}else i.push(r.iceServers[o])}r.iceServers=i}return new e.mozRTCPeerConnection(r,n)},e.RTCPeerConnection.prototype=e.mozRTCPeerConnection.prototype,e.mozRTCPeerConnection.generateCertificate&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return e.mozRTCPeerConnection.generateCertificate}}),e.RTCSessionDescription=e.mozRTCSessionDescription,e.RTCIceCandidate=e.mozRTCIceCandidate),["setLocalDescription","setRemoteDescription","addIceCandidate"].forEach(function(t){var r=e.RTCPeerConnection.prototype[t];e.RTCPeerConnection.prototype[t]=function(){return arguments[0]=new("addIceCandidate"===t?e.RTCIceCandidate:e.RTCSessionDescription)(arguments[0]),r.apply(this,arguments)}});var r=e.RTCPeerConnection.prototype.addIceCandidate;e.RTCPeerConnection.prototype.addIceCandidate=function(){return arguments[0]?r.apply(this,arguments):(arguments[1]&&arguments[1].apply(null),Promise.resolve())};var i={inboundrtp:"inbound-rtp",outboundrtp:"outbound-rtp",candidatepair:"candidate-pair",localcandidate:"local-candidate",remotecandidate:"remote-candidate"},o=e.RTCPeerConnection.prototype.getStats;e.RTCPeerConnection.prototype.getStats=function(e,r,n){return o.apply(this,[e||null]).then(function(e){if(t.version<48&&(e=function(e){var t=new Map;return Object.keys(e).forEach(function(r){t.set(r,e[r]),t[r]=e[r]}),t}(e)),t.version<53&&!r)try{e.forEach(function(e){e.type=i[e.type]||e.type})}catch(t){if("TypeError"!==t.name)throw t;e.forEach(function(t,r){e.set(r,Object.assign({},t,{type:i[t.type]||t.type}))})}return e}).then(r,n)}}},shimSenderGetStats:function(e){if("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&!(e.RTCRtpSender&&"getStats"in e.RTCRtpSender.prototype)){var t=e.RTCPeerConnection.prototype.getSenders;t&&(e.RTCPeerConnection.prototype.getSenders=function(){var e=this,r=t.apply(e,[]);return r.forEach(function(t){t._pc=e}),r});var r=e.RTCPeerConnection.prototype.addTrack;r&&(e.RTCPeerConnection.prototype.addTrack=function(){var e=r.apply(this,arguments);return e._pc=this,e}),e.RTCRtpSender.prototype.getStats=function(){return this.track?this._pc.getStats(this.track):Promise.resolve(new Map)}}},shimReceiverGetStats:function(e){if("object"==typeof e&&e.RTCPeerConnection&&e.RTCRtpSender&&!(e.RTCRtpSender&&"getStats"in e.RTCRtpReceiver.prototype)){var t=e.RTCPeerConnection.prototype.getReceivers;t&&(e.RTCPeerConnection.prototype.getReceivers=function(){var e=this,r=t.apply(e,[]);return r.forEach(function(t){t._pc=e}),r}),n.wrapPeerConnectionEvent(e,"track",function(e){return e.receiver._pc=e.srcElement,e}),e.RTCRtpReceiver.prototype.getStats=function(){return this._pc.getStats(this.track)}}},shimRemoveStream:function(e){!e.RTCPeerConnection||"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){var t=this;n.deprecated("removeStream","removeTrack"),this.getSenders().forEach(function(r){r.track&&-1!==e.getTracks().indexOf(r.track)&&t.removeTrack(r)})})},shimRTCDataChannel:function(e){e.DataChannel&&!e.RTCDataChannel&&(e.RTCDataChannel=e.DataChannel)},shimGetDisplayMedia:function(e,t){!e.navigator||!e.navigator.mediaDevices||"getDisplayMedia"in e.navigator.mediaDevices||(e.navigator.mediaDevices.getDisplayMedia=function(r){if(!r||!r.video){var n=new DOMException("getDisplayMedia without video constraints is undefined");return n.name="NotFoundError",n.code=8,Promise.reject(n)}return!0===r.video?r.video={mediaSource:t}:r.video.mediaSource=t,e.navigator.mediaDevices.getUserMedia(r)},e.navigator.getDisplayMedia=function(t){return n.deprecated("navigator.getDisplayMedia","navigator.mediaDevices.getDisplayMedia"),e.navigator.mediaDevices.getDisplayMedia(t)})}}},function(e,t,r){"use strict";var n=r(3),i=n.log;e.exports=function(e){var t=n.detectBrowser(e),r=e&&e.navigator,o=e&&e.MediaStreamTrack,a=function(e){return{name:{InternalError:"NotReadableError",NotSupportedError:"TypeError",PermissionDeniedError:"NotAllowedError",SecurityError:"NotAllowedError"}[e.name]||e.name,message:{"The operation is insecure.":"The request is not allowed by the user agent or the platform in the current context."}[e.message]||e.message,constraint:e.constraint,toString:function(){return this.name+(this.message&&": ")+this.message}}},s=function(e,n,o){var s=function(e){if("object"!=typeof e||e.require)return e;var t=[];return Object.keys(e).forEach(function(r){if("require"!==r&&"advanced"!==r&&"mediaSource"!==r){var n=e[r]="object"==typeof e[r]?e[r]:{ideal:e[r]};if(void 0===n.min&&void 0===n.max&&void 0===n.exact||t.push(r),void 0!==n.exact&&("number"==typeof n.exact?n.min=n.max=n.exact:e[r]=n.exact,delete n.exact),void 0!==n.ideal){e.advanced=e.advanced||[];var i={};"number"==typeof n.ideal?i[r]={min:n.ideal,max:n.ideal}:i[r]=n.ideal,e.advanced.push(i),delete n.ideal,Object.keys(n).length||delete e[r]}}}),t.length&&(e.require=t),e};return e=JSON.parse(JSON.stringify(e)),t.version<38&&(i("spec: "+JSON.stringify(e)),e.audio&&(e.audio=s(e.audio)),e.video&&(e.video=s(e.video)),i("ff37: "+JSON.stringify(e))),r.mozGetUserMedia(e,n,function(e){o(a(e))})};if(r.mediaDevices||(r.mediaDevices={getUserMedia:function(e){return new Promise(function(t,r){s(e,t,r)})},addEventListener:function(){},removeEventListener:function(){}}),r.mediaDevices.enumerateDevices=r.mediaDevices.enumerateDevices||function(){return new Promise(function(e){e([{kind:"audioinput",deviceId:"default",label:"",groupId:""},{kind:"videoinput",deviceId:"default",label:"",groupId:""}])})},t.version<41){var c=r.mediaDevices.enumerateDevices.bind(r.mediaDevices);r.mediaDevices.enumerateDevices=function(){return c().then(void 0,function(e){if("NotFoundError"===e.name)return[];throw e})}}if(t.version<49){var u=r.mediaDevices.getUserMedia.bind(r.mediaDevices);r.mediaDevices.getUserMedia=function(e){return u(e).then(function(t){if(e.audio&&!t.getAudioTracks().length||e.video&&!t.getVideoTracks().length)throw t.getTracks().forEach(function(e){e.stop()}),new DOMException("The object can not be found here.","NotFoundError");return t},function(e){return Promise.reject(a(e))})}}if(!(t.version>55&&"autoGainControl"in r.mediaDevices.getSupportedConstraints())){var d=function(e,t,r){t in e&&!(r in e)&&(e[r]=e[t],delete e[t])},p=r.mediaDevices.getUserMedia.bind(r.mediaDevices);if(r.mediaDevices.getUserMedia=function(e){return"object"==typeof e&&"object"==typeof e.audio&&(e=JSON.parse(JSON.stringify(e)),d(e.audio,"autoGainControl","mozAutoGainControl"),d(e.audio,"noiseSuppression","mozNoiseSuppression")),p(e)},o&&o.prototype.getSettings){var f=o.prototype.getSettings;o.prototype.getSettings=function(){var e=f.apply(this,arguments);return d(e,"mozAutoGainControl","autoGainControl"),d(e,"mozNoiseSuppression","noiseSuppression"),e}}if(o&&o.prototype.applyConstraints){var l=o.prototype.applyConstraints;o.prototype.applyConstraints=function(e){return"audio"===this.kind&&"object"==typeof e&&(e=JSON.parse(JSON.stringify(e)),d(e,"autoGainControl","mozAutoGainControl"),d(e,"noiseSuppression","mozNoiseSuppression")),l.apply(this,[e])}}}r.getUserMedia=function(e,i,o){if(t.version<44)return s(e,i,o);n.deprecated("navigator.getUserMedia","navigator.mediaDevices.getUserMedia"),r.mediaDevices.getUserMedia(e).then(i,o)}}},function(e,t,r){"use strict";var n=r(3);e.exports={shimLocalStreamsAPI:function(e){if("object"==typeof e&&e.RTCPeerConnection){if("getLocalStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getLocalStreams=function(){return this._localStreams||(this._localStreams=[]),this._localStreams}),"getStreamById"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getStreamById=function(e){var t=null;return this._localStreams&&this._localStreams.forEach(function(r){r.id===e&&(t=r)}),this._remoteStreams&&this._remoteStreams.forEach(function(r){r.id===e&&(t=r)}),t}),!("addStream"in e.RTCPeerConnection.prototype)){var t=e.RTCPeerConnection.prototype.addTrack;e.RTCPeerConnection.prototype.addStream=function(e){this._localStreams||(this._localStreams=[]),-1===this._localStreams.indexOf(e)&&this._localStreams.push(e);var r=this;e.getTracks().forEach(function(n){t.call(r,n,e)})},e.RTCPeerConnection.prototype.addTrack=function(e,r){return r&&(this._localStreams?-1===this._localStreams.indexOf(r)&&this._localStreams.push(r):this._localStreams=[r]),t.call(this,e,r)}}"removeStream"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.removeStream=function(e){this._localStreams||(this._localStreams=[]);var t=this._localStreams.indexOf(e);if(-1!==t){this._localStreams.splice(t,1);var r=this,n=e.getTracks();this.getSenders().forEach(function(e){-1!==n.indexOf(e.track)&&r.removeTrack(e)})}})}},shimRemoteStreamsAPI:function(e){if("object"==typeof e&&e.RTCPeerConnection&&("getRemoteStreams"in e.RTCPeerConnection.prototype||(e.RTCPeerConnection.prototype.getRemoteStreams=function(){return this._remoteStreams?this._remoteStreams:[]}),!("onaddstream"in e.RTCPeerConnection.prototype))){Object.defineProperty(e.RTCPeerConnection.prototype,"onaddstream",{get:function(){return this._onaddstream},set:function(e){this._onaddstream&&this.removeEventListener("addstream",this._onaddstream),this.addEventListener("addstream",this._onaddstream=e)}});var t=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){var e=this;return this._onaddstreampoly||this.addEventListener("track",this._onaddstreampoly=function(t){t.streams.forEach(function(t){if(e._remoteStreams||(e._remoteStreams=[]),!(e._remoteStreams.indexOf(t)>=0)){e._remoteStreams.push(t);var r=new Event("addstream");r.stream=t,e.dispatchEvent(r)}})}),t.apply(e,arguments)}}},shimCallbacksAPI:function(e){if("object"==typeof e&&e.RTCPeerConnection){var t=e.RTCPeerConnection.prototype,r=t.createOffer,n=t.createAnswer,i=t.setLocalDescription,o=t.setRemoteDescription,a=t.addIceCandidate;t.createOffer=function(e,t){var n=arguments.length>=2?arguments[2]:arguments[0],i=r.apply(this,[n]);return t?(i.then(e,t),Promise.resolve()):i},t.createAnswer=function(e,t){var r=arguments.length>=2?arguments[2]:arguments[0],i=n.apply(this,[r]);return t?(i.then(e,t),Promise.resolve()):i};var s=function(e,t,r){var n=i.apply(this,[e]);return r?(n.then(t,r),Promise.resolve()):n};t.setLocalDescription=s,s=function(e,t,r){var n=o.apply(this,[e]);return r?(n.then(t,r),Promise.resolve()):n},t.setRemoteDescription=s,s=function(e,t,r){var n=a.apply(this,[e]);return r?(n.then(t,r),Promise.resolve()):n},t.addIceCandidate=s}},shimGetUserMedia:function(e){var t=e&&e.navigator;t.getUserMedia||(t.webkitGetUserMedia?t.getUserMedia=t.webkitGetUserMedia.bind(t):t.mediaDevices&&t.mediaDevices.getUserMedia&&(t.getUserMedia=function(e,r,n){t.mediaDevices.getUserMedia(e).then(r,n)}.bind(t)))},shimRTCIceServerUrls:function(e){var t=e.RTCPeerConnection;e.RTCPeerConnection=function(e,r){if(e&&e.iceServers){for(var i=[],o=0;o<e.iceServers.length;o++){var a=e.iceServers[o];!a.hasOwnProperty("urls")&&a.hasOwnProperty("url")?(n.deprecated("RTCIceServer.url","RTCIceServer.urls"),(a=JSON.parse(JSON.stringify(a))).urls=a.url,delete a.url,i.push(a)):i.push(e.iceServers[o])}e.iceServers=i}return new t(e,r)},e.RTCPeerConnection.prototype=t.prototype,"generateCertificate"in e.RTCPeerConnection&&Object.defineProperty(e.RTCPeerConnection,"generateCertificate",{get:function(){return t.generateCertificate}})},shimTrackEventTransceiver:function(e){"object"==typeof e&&e.RTCPeerConnection&&"receiver"in e.RTCTrackEvent.prototype&&!e.RTCTransceiver&&Object.defineProperty(e.RTCTrackEvent.prototype,"transceiver",{get:function(){return{receiver:this.receiver}}})},shimCreateOfferLegacy:function(e){var t=e.RTCPeerConnection.prototype.createOffer;e.RTCPeerConnection.prototype.createOffer=function(e){var r=this;if(e){void 0!==e.offerToReceiveAudio&&(e.offerToReceiveAudio=!!e.offerToReceiveAudio);var n=r.getTransceivers().find(function(e){return e.sender.track&&"audio"===e.sender.track.kind});!1===e.offerToReceiveAudio&&n?"sendrecv"===n.direction?n.setDirection?n.setDirection("sendonly"):n.direction="sendonly":"recvonly"===n.direction&&(n.setDirection?n.setDirection("inactive"):n.direction="inactive"):!0!==e.offerToReceiveAudio||n||r.addTransceiver("audio"),void 0!==e.offerToReceiveVideo&&(e.offerToReceiveVideo=!!e.offerToReceiveVideo);var i=r.getTransceivers().find(function(e){return e.sender.track&&"video"===e.sender.track.kind});!1===e.offerToReceiveVideo&&i?"sendrecv"===i.direction?i.setDirection("sendonly"):"recvonly"===i.direction&&i.setDirection("inactive"):!0!==e.offerToReceiveVideo||i||r.addTransceiver("video")}return t.apply(r,arguments)}}}},function(e,t,r){"use strict";var n=r(6),i=r(3);e.exports={shimRTCIceCandidate:function(e){if(e.RTCIceCandidate&&!(e.RTCIceCandidate&&"foundation"in e.RTCIceCandidate.prototype)){var t=e.RTCIceCandidate;e.RTCIceCandidate=function(e){if("object"==typeof e&&e.candidate&&0===e.candidate.indexOf("a=")&&((e=JSON.parse(JSON.stringify(e))).candidate=e.candidate.substr(2)),e.candidate&&e.candidate.length){var r=new t(e),i=n.parseCandidate(e.candidate),o=Object.assign(r,i);return o.toJSON=function(){return{candidate:o.candidate,sdpMid:o.sdpMid,sdpMLineIndex:o.sdpMLineIndex,usernameFragment:o.usernameFragment}},o}return new t(e)},e.RTCIceCandidate.prototype=t.prototype,i.wrapPeerConnectionEvent(e,"icecandidate",function(t){return t.candidate&&Object.defineProperty(t,"candidate",{value:new e.RTCIceCandidate(t.candidate),writable:"false"}),t})}},shimCreateObjectURL:function(e){var t=e&&e.URL;if("object"==typeof e&&e.HTMLMediaElement&&"srcObject"in e.HTMLMediaElement.prototype&&t.createObjectURL&&t.revokeObjectURL){var r=t.createObjectURL.bind(t),n=t.revokeObjectURL.bind(t),o=new Map,a=0;t.createObjectURL=function(e){if("getTracks"in e){var t="polyblob:"+ ++a;return o.set(t,e),i.deprecated("URL.createObjectURL(stream)","elem.srcObject = stream"),t}return r(e)},t.revokeObjectURL=function(e){n(e),o.delete(e)};var s=Object.getOwnPropertyDescriptor(e.HTMLMediaElement.prototype,"src");Object.defineProperty(e.HTMLMediaElement.prototype,"src",{get:function(){return s.get.apply(this)},set:function(e){return this.srcObject=o.get(e)||null,s.set.apply(this,[e])}});var c=e.HTMLMediaElement.prototype.setAttribute;e.HTMLMediaElement.prototype.setAttribute=function(){return 2===arguments.length&&"src"===(""+arguments[0]).toLowerCase()&&(this.srcObject=o.get(arguments[1])||null),c.apply(this,arguments)}}},shimMaxMessageSize:function(e){if(!e.RTCSctpTransport&&e.RTCPeerConnection){var t=i.detectBrowser(e);"sctp"in e.RTCPeerConnection.prototype||Object.defineProperty(e.RTCPeerConnection.prototype,"sctp",{get:function(){return void 0===this._sctp?null:this._sctp}});var r=e.RTCPeerConnection.prototype.setRemoteDescription;e.RTCPeerConnection.prototype.setRemoteDescription=function(){if(this._sctp=null,function(e){var t=n.splitSections(e.sdp);return t.shift(),t.some(function(e){var t=n.parseMLine(e);return t&&"application"===t.kind&&-1!==t.protocol.indexOf("SCTP")})}(arguments[0])){var e,i=function(e){var t=e.sdp.match(/mozilla...THIS_IS_SDPARTA-(\d+)/);if(null===t||t.length<2)return-1;var r=parseInt(t[1],10);return r!=r?-1:r}(arguments[0]),o=function(e){var r=65536;return"firefox"===t.browser&&(r=t.version<57?-1===e?16384:2147483637:t.version<60?57===t.version?65535:65536:2147483637),r}(i),a=function(e,r){var i=65536;"firefox"===t.browser&&57===t.version&&(i=65535);var o=n.matchPrefix(e.sdp,"a=max-message-size:");return o.length>0?i=parseInt(o[0].substr(19),10):"firefox"===t.browser&&-1!==r&&(i=2147483637),i}(arguments[0],i);e=0===o&&0===a?Number.POSITIVE_INFINITY:0===o||0===a?Math.max(o,a):Math.min(o,a);var s={};Object.defineProperty(s,"maxMessageSize",{get:function(){return e}}),this._sctp=s}return r.apply(this,arguments)}}},shimSendThrowTypeError:function(e){if(e.RTCPeerConnection&&"createDataChannel"in e.RTCPeerConnection.prototype){var t=e.RTCPeerConnection.prototype.createDataChannel;e.RTCPeerConnection.prototype.createDataChannel=function(){var e=t.apply(this,arguments);return r(e,this),e},i.wrapPeerConnectionEvent(e,"datachannel",function(e){return r(e.channel,e.target),e})}function r(e,t){var r=e.send;e.send=function(){var n=arguments[0],i=n.length||n.size||n.byteLength;if("open"===e.readyState&&t.sctp&&i>t.sctp.maxMessageSize)throw new TypeError("Message too large (can send a maximum of "+t.sctp.maxMessageSize+" bytes)");return r.apply(e,arguments)}}}}},function(e,t,r){var n=function(e){return String(Number(e))===e?Number(e):e},i=function(e,t,r){var i=e.name&&e.names;e.push&&!t[e.push]?t[e.push]=[]:i&&!t[e.name]&&(t[e.name]={});var o=e.push?{}:i?t[e.name]:t;!function(e,t,r,i){if(i&&!r)t[i]=n(e[1]);else for(var o=0;o<r.length;o+=1)null!=e[o+1]&&(t[r[o]]=n(e[o+1]))}(r.match(e.reg),o,e.names,e.name),e.push&&t[e.push].push(o)},o=r(8),a=RegExp.prototype.test.bind(/^([a-z])=(.*)/);t.parse=function(e){var t={},r=[],n=t;return e.split(/(\r\n|\r|\n)/).filter(a).forEach(function(e){var t=e[0],a=e.slice(2);"m"===t&&(r.push({rtp:[],fmtp:[]}),n=r[r.length-1]);for(var s=0;s<(o[t]||[]).length;s+=1){var c=o[t][s];if(c.reg.test(a))return i(c,n,a)}}),t.media=r,t};var s=function(e,t){var r=t.split(/=(.+)/,2);return 2===r.length?e[r[0]]=n(r[1]):1===r.length&&t.length>1&&(e[r[0]]=void 0),e};t.parseParams=function(e){return e.split(/\;\s?/).reduce(s,{})},t.parseFmtpConfig=t.parseParams,t.parsePayloads=function(e){return e.split(" ").map(Number)},t.parseRemoteCandidates=function(e){for(var t=[],r=e.split(" ").map(n),i=0;i<r.length;i+=3)t.push({component:r[i],ip:r[i+1],port:r[i+2]});return t},t.parseImageAttributes=function(e){return e.split(" ").map(function(e){return e.substring(1,e.length-1).split(",").reduce(s,{})})},t.parseSimulcastStreamList=function(e){return e.split(";").map(function(e){return e.split(",").map(function(e){var t,r=!1;return"~"!==e[0]?t=n(e):(t=n(e.substring(1,e.length)),r=!0),{scid:t,paused:r}})})}},function(e,t,r){var n=r(8),i=/%[sdv%]/g,o=function(e,t,r){var n=[e+"="+(t.format instanceof Function?t.format(t.push?r:r[t.name]):t.format)];if(t.names)for(var o=0;o<t.names.length;o+=1){var a=t.names[o];t.name?n.push(r[t.name][a]):n.push(r[t.names[o]])}else n.push(r[t.name]);return function(e){var t=1,r=arguments,n=r.length;return e.replace(i,function(e){if(t>=n)return e;var i=r[t];switch(t+=1,e){case"%%":return"%";case"%s":return String(i);case"%d":return Number(i);case"%v":return""}})}.apply(null,n)},a=["v","o","s","i","u","e","p","c","b","t","r","z","a"],s=["i","c","b","a"];e.exports=function(e,t){t=t||{},null==e.version&&(e.version=0),null==e.name&&(e.name=" "),e.media.forEach(function(e){null==e.payloads&&(e.payloads="")});var r=t.outerOrder||a,i=t.innerOrder||s,c=[];return r.forEach(function(t){n[t].forEach(function(r){r.name in e&&null!=e[r.name]?c.push(o(t,r,e)):r.push in e&&null!=e[r.push]&&e[r.push].forEach(function(e){c.push(o(t,r,e))})})}),e.media.forEach(function(e){c.push(o("m",n.m[0],e)),i.forEach(function(t){n[t].forEach(function(r){r.name in e&&null!=e[r.name]?c.push(o(t,r,e)):r.push in e&&null!=e[r.push]&&e[r.push].forEach(function(e){c.push(o(t,r,e))})})})}),c.join("\r\n")+"\r\n"}},function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"QNRTCError",function(){return d}),r.d(n,"UNEXPECTED_ERROR",function(){return p}),r.d(n,"AUTH_ENTER_ROOM_ERROR",function(){return f}),r.d(n,"PUBLISH_ERROR",function(){return l}),r.d(n,"CREATE_MERGE_JOB_ERROR",function(){return h}),r.d(n,"PUBLISH_ICE_ERROR",function(){return m}),r.d(n,"SUB_ICE_ERROR",function(){return v}),r.d(n,"SUB_ERROR_NO_STREAM",function(){return g}),r.d(n,"SUB_P2P_ERROR",function(){return y}),r.d(n,"PUB_P2P_ERROR",function(){return b}),r.d(n,"UNSUPPORT_FMT",function(){return w}),r.d(n,"JOIN_ROOM_ERROR",function(){return _}),r.d(n,"SUB_ERROR",function(){return k}),r.d(n,"UNPUBLISH_ERROR",function(){return T}),r.d(n,"UNSUB_ERROR",function(){return C}),r.d(n,"CONTROL_ERROR",function(){return S}),r.d(n,"NOT_SUPPORT_ERROR",function(){return R}),r.d(n,"SERVER_UNAVAILABLE",function(){return E}),r.d(n,"PLUGIN_NOT_AVALIABLE",function(){return x}),r.d(n,"DEVICE_NOT_ALLOWED",function(){return P}),r.d(n,"SUB_ERROR_NO_USER",function(){return I}),r.d(n,"NO_MERGE_JOB",function(){return O}),r.d(n,"SCREEN_PERMISSION_DENIED",function(){return A}),r.d(n,"SUB_PUB_ABORT",function(){return j}),r.d(n,"AUTO_SWITCH_ERROR",function(){return M}),r.d(n,"WS_ABORT",function(){return L}),r.d(n,"InvalidStateError",function(){return D}),r(10);var i=r(2),o=r.n(i),a=r(5),s=r.n(a),c=r(0),u=r.n(c);class d extends Error{constructor(e,t){super(t),this.code=e,this.error=t}}const p=e=>new d(11e3,`piliRTC: unexpected error ${e}`),f=e=>new d(11001,`enterRoom error, can not get accessToken. Error: ${e}\n please check enterRoom arguments`),l=(e,t)=>new d(e,`publish error, signaling code: ${e}, msg: ${t}`),h=(e,t)=>new d(e,`create merge job error, signaling code: ${e}, msg: ${t}`),m=()=>new d(11002,"publish faild, ice not ready"),v=()=>new d(11003,"subscribe faild, ice not ready"),g=e=>new d(11004,`subscribe faild, can not find this player in streams, userId: ${e}`),y=e=>new d(11005,`subscribe faild, can not create p2p connection, ${e}`),b=e=>new d(11006,`publish faild, can not create p2p connection, ${e}`),w=e=>new d(11007,`media format not support, ${e}`),_=(e,t)=>new d(e,`joinRoom error, code: ${e}, ${t}`),k=(e,t)=>new d(e,`subscribe error, signaling code: ${e}, msg: ${t}`),T=(e,t)=>new d(e,"unpublish error, code: ${code}, msg: ${msg}"),C=(e,t)=>new d(e,"unsubscribe error, code: ${code}, msg: ${msg}"),S=(e,t)=>new d(e,`send control error, code: ${e}, msg: ${t}`),R=e=>new d(11008,`not support! ${e}`),E=()=>new d(10052,"server unavailable"),x=e=>new d(11009,`plugin not avaliable! ${e}`),P=e=>new d(11010,`NotAllowedError: no permission to access media device. ${e}`),I=e=>new d(11011,`subscribe faild, can not find this user in room, userId: ${e}`),O=e=>new d(11012,`can not set merge layout stream, no merge job id ${e}`),A=()=>new d(11013,"can not sharing screen/window on chrome"),j=()=>new d(11014,"subscribe/publish operation is aborted"),M=e=>new d(20001,`deviceManager auto switch error. ${e}`),L=()=>new d(30001,"websocket abort");class D extends Error{constructor(e){super(e),this.name="InvalidStateError",Error.hasOwnProperty("captureStackTrace")?Error.captureStackTrace(this,D):this.stack=new Error(e).stack}}async function $(e){const t=await fetch(e);if(t.status>=400&&t.status<500)throw{retry:!1,message:t.status.toString()};if(200!==t.status)throw{retry:!0,message:t.status.toString()};return await t.json()}var N=r(9),U=r(1);const F=navigator.userAgent.toLowerCase().indexOf("firefox")>-1,B=!!window.chrome,V=navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPhone/i),G=Object(N.detect)()||{};function H(){try{return!!RTCPeerConnection&&!!WebSocket&&!!navigator.mediaDevices.getUserMedia}catch(e){return!1}}const W=function(){if(!G)return{support:H(),supportRestartICE:!0};switch(G.name){case"chrome":return{support:U.gte(G.version,"55.0.0"),mediaStreamDest:U.gte(G.version,"55.0.0"),replaceTrack:U.gte(G.version,"65.0.0"),screenSharing:U.gte(G.version,"55.0.0"),connectionState:!1,stats:U.gte(G.version,"67.0.0"),ondevicechange:U.gte(G.version,"57.0.0"),minMaxWithIdeal:U.gte(G.version,"56.0.0"),unifiedPlan:!1,supportRestartICE:!0};case"safari":return{support:U.gte(G.version,"11.0.0"),replaceTrack:U.gte(G.version,"11.0.0"),stats:!1,ondevicechange:!1,connectionState:!0,mediaStreamDest:!1,screenSharing:!1,minMaxWithIdeal:!1,supportRestartICE:!0};case"firefox":return{support:H()&&U.gte(G.version,"59.0.0"),replaceTrack:!0,stats:!0,ondevicechange:U.gte(G.version,"52.0.0"),connectionState:!0,mediaStreamDest:!0,screenSharing:!0,minMaxWithIdeal:!0,unifiedPlan:U.gte(G.version,"59.0.0"),supportRestartICE:!1};default:return{support:H(),supportRestartICE:!0}}}(),z=new class{constructor(e){this.level=e}setLevel(e){this.level=e}log(...e){"log"===this.level&&console.info("%cLOG-QNRTC","color: #66ccff; font-weight: bold;",...e)}debug(...e){"log"!==this.level&&"debug"!==this.level||console.info("%cDEBUG-QNRTC","color: #A28148; font-weight: bold;",...e)}warning(...e){"disable"!==this.level&&console.warn("%cWARNING-QNRTC","color: #E44F44; font-weight: bold;",...e)}}("log"),J=(Date.now(),{packetLossRate:0,bitrate:0,bytes:0,packets:0,packetLoss:0,timestamp:Date.now()});function q(){const e={bundlePolicy:"max-bundle",rtcpMuxPolicy:"require"};return W.unifiedPlan?e.sdpSemantics="unified-plan":e.sdpSemantics="plan-b",new RTCPeerConnection(e)}async function Q(e,t){const r=t.getTransceivers().find(t=>"inactive"===t.direction&&t.receiver.track.kind===e.kind);return r?(r.direction="sendonly",await r.sender.replaceTrack(e),r):await t.addTransceiver(e,{direction:"sendonly"})}async function K(e,t,r,n){return W.stats?function(e,t){if(!t)return e;const r={...e},n=e.packets-t.packets,i=e.packetLoss-t.packetLoss;i>0&&(r.packetLossRate=i/n,r.packetLossRate>1&&(r.packetLossRate=1));const o=(e.timestamp-t.timestamp)/1e3;return o<=0?e:(r.bitrate=8*(e.bytes-t.bytes)/o,r.bitrate<0?t:r)}(await async function(e,t,r){const n=J;let i;n.timestamp=Date.now();try{i=await e.getStats(t)}catch(e){return z.debug("get stats error, fallback to default",e),J}if(!i)return z.debug("get null stats, fallback to default"),J;for(const o of i.values())if("send"===r&&"outbound-rtp"===o.type&&!o.isRemote||"recv"===r&&"inbound-rtp"===o.type&&!o.isRemote){const e=i.get(o.remoteId),t="send"===r?o.packetsSent:o.packetsReceived,a="send"===r?o.bytesSent:o.bytesReceived;let s=0;if(e){const n="send"===r?e.packetsReceived:e.packetsSent;s="send"===r?e.packetsLost:n-t}n.bytes=a,n.packets=t,n.packetLoss=s}return n}(e,t,r),n):(z.warning("your browser does not support getStats"),J)}const X=e=>!!e&&!!e.audio&&e.audio.enabled,Z=e=>!!e&&!!e.video&&e.video.enabled,Y=e=>!!e&&!!e.screen&&e.screen.enabled;var ee;!function(e){e[e.Idle=0]="Idle",e[e.Connecting=1]="Connecting",e[e.Connect=2]="Connect"}(ee||(ee={}));const te={publishUrl:"",height:720,width:1080,fps:25,kbps:1e3,audioOnly:!1,stretchMode:"aspectFill"};window.addEventListener("message",e=>{e.origin===window.location.origin&&function(e){if("PermissionDeniedError"===e){if(ie="PermissionDeniedError",ne)return ne("PermissionDeniedError");throw A()}"qnrtc:rtcmulticonnection-extension-loaded"===e&&(ie="desktop"),"rtcmulticonnection-extension-loaded"===e&&(z.warning("your chrome screen sharing plugin is not the latest version, or you have other screen sharing plugins."),oe=!1),e.sourceId&&ne&&ne(re=e.sourceId,!0===e.canRequestAudioTrack)}(e.data)});let re,ne,ie="screen",oe=!0;async function ae(){return await new Promise((e,t)=>{"desktop"!==ie?(window.postMessage("qnrtc:are-you-there","*"),setTimeout(()=>{e("screen"!==ie)},2e3)):e(!0)})}async function se(e,t){const r=t.source;return await new Promise((n,i)=>{const o={mozMediaSource:r||"window",mediaSource:r||"window",height:t.height,width:t.width};if(F)return void n(o);const a={mandatory:{chromeMediaSource:ie,maxWidth:ve(t.width),maxHeight:ve(t.height)},optional:[]};"desktop"!==ie?n(a):e?function(e){if(re)return e(re);ne=e,window.postMessage("qnrtc:audio-plus-tab","*")}(function(e,t){a.mandatory.chromeMediaSourceId=e,t&&(a.canRequestAudioTrack=!0),"PermissionDeniedError"!==e?n(a):i(A())}):function(e,t=!1,r=!1){ne=e,t?window.postMessage("qnrtc:get-sourceId-screen","*"):r?window.postMessage("qnrtc:get-sourceId-window","*"):window.postMessage("qnrtc:get-sourceId","*")}(function(e){a.mandatory.chromeMediaSourceId=e,"PermissionDeniedError"!==e?n(a):i(A())},"screen"===r,"window"===r)})}class ce{constructor(e){this.tracks=[],this.publishedTrackInfo=[],this.userId=e}get published(){return this.publishedTrackInfo.length>0}addTracks(e){this.tracks=this.tracks.concat(e),this.tracks=s()(this.tracks,"mediaTrack");for(const t of this.tracks)t.once("release",()=>{u()(this.tracks,e=>e===t)})}removeTracksByTrackId(e){u()(this.tracks,t=>!!t.info.trackId&&-1!==e.indexOf(t.info.trackId))}addPublishedTrackInfo(e){this.publishedTrackInfo=this.publishedTrackInfo.concat(e),this.publishedTrackInfo=s()(this.publishedTrackInfo,"trackId")}removePublishedTrackInfo(e){u()(this.publishedTrackInfo,t=>-1!==e.indexOf(t.trackId))}}function ue(e){return{timestamp:e.msgts,data:e.text,userId:e.playerid,type:e.type}}function de(e){return{trackId:e.trackid,tag:e.tag,kind:e.kind,userId:e.playerid,muted:e.muted,versionid:e.versionid}}function pe(e,t){return{trackid:e.trackId,kind:e.kind,master:t,muted:!!e.muted,playerid:e.userId,tag:e.tag||"",versionid:e.versionid}}function fe(e){return{localid:e.mediaTrack.id,master:e.master,kind:e.info.kind,kbps:e.info.kbps,tag:e.info.tag}}function le(e){return new ce(e.playerid)}function he(e){return W.minMaxWithIdeal?e:(["video","screen"].forEach(t=>{"object"==typeof e[t]&&"object"==typeof e[t].width&&e[t].width.ideal&&delete e[t].width.ideal,"object"==typeof e[t]&&"object"==typeof e[t].height&&e[t].height.ideal&&delete e[t].height.ideal}),e)}function me(e){return 0===Object.keys(e.audio).length&&"boolean"!=typeof e.audio&&(e.audio=!0),0===Object.keys(e.video).length&&"boolean"!=typeof e.video&&(e.video=!0),e}function ve(e){if(e)return"number"==typeof e?e:e.exact?e.exact:e.max?e.max:e.ideal?e.ideal:e.min?e.min:void 0}var ge=r(4),ye=r.n(ge);const be="qiniu-rtc-client";class we{constructor(e,t){this.lastSubMids=[],this.sessionVersion=0,this.direction=e,this.extendedRtpCapabilities=t}createRemoteAnswer(e){if(!this.transportRemoteParameters)throw p("no transportRemoteParameters!");return W.unifiedPlan?function(e,t,r){const n=ye.a.parse(r),i=(n.media||[]).filter(e=>e.hasOwnProperty("mid")).map(e=>String(e.mid)),o={version:0};o.origin={address:"0.0.0.0",ipVer:4,netType:"IN",sessionId:"5975129998295344376",sessionVersion:2,username:be},o.name="-",o.timing={start:0,stop:0},o.icelite=t.iceParameters.iceLite?"ice-lite":void 0,o.msidSemantic={semantic:"WMS",token:"*"},i.length>0&&(o.groups=[{type:"BUNDLE",mids:i.join(" ")}]),o.media=[],o.fingerprint={type:t.dtlsParameters.fingerprints[0].algorithm,hash:t.dtlsParameters.fingerprints[0].value};for(const a of n.media){a.direction;const r=a.type,n="audio"===r?e.codecs[0]:e.codecs[1],i=e.headerExtensions.filter(e=>e.kind===r),s={type:a.type,port:7,protocol:"RTP/SAVPF",connection:{ip:"127.0.0.1",version:4},mid:a.mid,iceUfrag:t.iceParameters.usernameFragment,icePwd:t.iceParameters.password,candidates:[{component:1,foundation:t.iceCandidate.foundation,ip:t.iceCandidate.ip,port:t.iceCandidate.port,priority:t.iceCandidate.priority,transport:t.iceCandidate.protocol,type:t.iceCandidate.type}],endOfCandidates:"end-of-candidates",iceOptions:"renomination",setup:"server"===t.dtlsParameters.role?"actpass":"active",direction:"sendonly"===a.direction||"sendrecv"===a.direction?"recvonly":"inactive",rtp:[{payload:n.sendPayloadType,codec:n.name,rate:n.clockRate,encoding:n.channels>1?n.channels:void 0}],rtcpFb:[],fmtp:[{payload:n.sendPayloadType,config:Object.keys(n.parameters).map(e=>`${e}=${n.parameters[e]};`).join("")}],payloads:n.sendPayloadType,rtcpMux:"rtcp-mux",rtcpRsize:"rtcp-rsize",ext:i.map(e=>({uri:e.uri,value:e.sendId}))};n.rtcpFeedback&&n.rtcpFeedback.length>0&&n.rtcpFeedback.forEach(e=>{s.rtcpFb.push({payload:n.sendPayloadType,type:e.type,subtype:e.parameter})}),n.sendRtxPayloadType&&(s.rtp.push({payload:n.sendRtxPayloadType,codec:"rtx",rate:n.clockRate,encoding:n.channels>1?n.channels:void 0}),s.fmtp.push({payload:n.sendRtxPayloadType,config:`apt=${n.sendPayloadType};`}),s.payloads=`${n.sendPayloadType} ${n.sendRtxPayloadType}`),o.media.push(s)}return ye.a.write(o)}(this.extendedRtpCapabilities,this.transportRemoteParameters,e):function(e,t,r){const n=ye.a.parse(r);n.version=0,n.origin={address:"0.0.0.0",ipVer:4,netType:"IN",sessionId:"5975129998295344376",sessionVersion:2,username:be},n.name="-",n.timing={start:0,stop:0},n.icelite=t.iceParameters.iceLite?"ice-lite":void 0,n.msidSemantic={semantic:"WMS",token:"*"},n.fingerprint={type:t.dtlsParameters.fingerprints[0].algorithm,hash:t.dtlsParameters.fingerprints[0].value};const i=[];for(const o of n.media){const r=o.type,n=e.codecs.find(e=>e.kind===r),a=(e.headerExtensions||[]).filter(e=>e.kind===r);if(!n)throw p("can not find codec"+r);const s={type:r,mid:r,port:7,protocol:"RTP/SAVPF",connection:{ip:"127.0.0.1",version:4},iceUfrag:t.iceParameters.usernameFragment,icePwd:t.iceParameters.password,candidates:[{component:1,foundation:t.iceCandidate.foundation,ip:t.iceCandidate.ip,port:t.iceCandidate.port,priority:t.iceCandidate.priority,transport:t.iceCandidate.protocol,type:t.iceCandidate.type}],endOfCandidates:"end-of-candidates",iceOptions:"renomination",setup:"server"===t.dtlsParameters.role?"actpass":"active",direction:"recvonly",rtp:[{payload:n.sendPayloadType,codec:n.name,rate:n.clockRate,encoding:n.channels>1?n.channels:void 0}],rtcpFb:[],fmtp:[{payload:n.sendPayloadType,config:Object.keys(n.parameters).map(e=>`${e}=${n.parameters[e]};`).join("")}],payloads:n.sendPayloadType,rtcpMux:"rtcp-mux",rtcpRsize:"rtcp-rsize",ext:a.map(e=>({uri:e.uri,value:e.sendId}))};n.rtcpFeedback&&n.rtcpFeedback.length>0&&n.rtcpFeedback.forEach(e=>{s.rtcpFb.push({payload:n.sendPayloadType,type:e.type,subtype:e.parameter})}),n.sendRtxPayloadType&&(s.rtp.push({payload:n.sendRtxPayloadType,codec:"rtx",rate:n.clockRate,encoding:n.channels>1?n.channels:void 0}),s.fmtp.push({payload:n.sendRtxPayloadType,config:`apt=${n.sendPayloadType};`}),s.payloads=`${n.sendPayloadType} ${n.sendRtxPayloadType}`),i.push(s)}return n.media=i,ye.a.write(n)}(this.extendedRtpCapabilities,this.transportRemoteParameters,e)}createRemoteOffer(e){if(!this.transportRemoteParameters)throw p("no transportRemoteParameters!");if(W.unifiedPlan){const t=function(e,t){let r=[];for(const n of t){const t=u()(e,e=>e.mid===n)[0];t&&r.push(t)}return r=r.concat(e),t=r.map(e=>e.mid),r}(e,this.lastSubMids);return this.lastSubMids=t.map(e=>e.mid),this.sessionVersion+=1,function(e,t,r,n){z.debug("consumerInfos",e);const i={},o=e.map(e=>e.mid);i.version=0,i.origin={address:"0.0.0.0",ipVer:4,netType:"IN",sessionId:"5975129998295344377",sessionVersion:n,username:be},i.name="-",i.timing={start:0,stop:0},i.icelite=r.iceParameters.iceLite?"ice-lite":void 0,i.msidSemantic={semantic:"WMS",token:"*"},o.length>0&&(i.groups=[{type:"BUNDLE",mids:o.join(" ")}]),i.media=[],i.fingerprint={type:r.dtlsParameters.fingerprints[0].algorithm,hash:r.dtlsParameters.fingerprints[0].value};for(const a of e){const e="audio"===a.kind?t.codecs[0]:t.codecs[1],n=t.headerExtensions.filter(e=>e.kind===a.kind),o={type:a.kind,port:7,protocol:"RTP/SAVPF",connection:{ip:"127.0.0.1",version:4},mid:a.mid,msid:`${a.streamId} ${a.trackId}`,iceUfrag:r.iceParameters.usernameFragment,icePwd:r.iceParameters.password,candidates:[{component:1,foundation:r.iceCandidate.foundation,ip:r.iceCandidate.ip,port:r.iceCandidate.port,priority:r.iceCandidate.priority,transport:r.iceCandidate.protocol,type:r.iceCandidate.type}],endOfCandidates:"end-of-candidates",iceOptions:"renomination",setup:"server"===r.dtlsParameters.role?"actpass":"active",direction:a.closed?"inactive":"sendonly",rtp:[{payload:e.recvPayloadType,codec:e.name,rate:e.clockRate,encoding:e.channels>1?e.channels:void 0}],rtcpFb:[],fmtp:[{payload:e.recvPayloadType,config:Object.keys(e.parameters).map(t=>`${t}=${e.parameters[t]};`).join("")}],payloads:e.recvPayloadType,rtcpMux:"rtcp-mux",rtcpRsize:"rtcp-rsize",ext:a.closed?[]:n.map(e=>({uri:e.uri,value:e.recvId})),ssrcs:!a.closed&&a.ssrc?[{id:a.ssrc,attribute:"cname",value:a.cname}]:[],ssrcGroups:[]};e.rtcpFeedback&&e.rtcpFeedback.length>0&&e.rtcpFeedback.forEach(t=>{o.rtcpFb.push({payload:e.recvPayloadType,type:t.type,subtype:t.parameter})}),e.recvRtxPayloadType&&(o.rtp.push({payload:e.recvRtxPayloadType,codec:"rtx",rate:e.clockRate,encoding:e.channels>1?e.channels:void 0}),o.fmtp.push({payload:e.recvRtxPayloadType,config:`apt=${e.recvPayloadType};`}),o.payloads=`${e.recvPayloadType} ${e.recvRtxPayloadType}`),a.rtxSsrc&&!a.closed&&(o.ssrcs.push({id:a.rtxSsrc,attribute:"cname",value:a.cname}),o.ssrcGroups.push({semantics:"FID",ssrcs:`${a.ssrc} ${a.rtxSsrc}`})),i.media.push(o)}return ye.a.write(i)}(t,this.extendedRtpCapabilities,this.transportRemoteParameters,this.sessionVersion)}{const t=new Set;return e.forEach(e=>t.add(e.kind)),0===e.length&&(t.add("audio"),t.add("video")),function(e,t,r,n){e=["audio","video"];const i={version:0};i.origin={address:"0.0.0.0",ipVer:4,netType:"IN",sessionId:"5975129998295344377",sessionVersion:2,username:be},i.name="-",i.timing={start:0,stop:0},i.icelite=n.iceParameters.iceLite?"ice-lite":void 0,i.msidSemantic={semantic:"WMS",token:"*"},i.groups=[{type:"BUNDLE",mids:e.join(" ")}],i.media=[],i.fingerprint={type:n.dtlsParameters.fingerprints[0].algorithm,hash:n.dtlsParameters.fingerprints[0].value};for(const o of e){const e=t.filter(e=>e.kind===o),a=r.codecs.find(e=>e.kind===o),s=(r.headerExtensions||[]).filter(e=>e.kind===o);if(!a)throw p("no codec"+o);const c={type:o,port:7,protocol:"RTP/SAVPF",connection:{ip:"127.0.0.1",version:4},mid:o,iceUfrag:n.iceParameters.usernameFragment,icePwd:n.iceParameters.password,candidates:[{component:1,foundation:n.iceCandidate.foundation,ip:n.iceCandidate.ip,port:n.iceCandidate.port,priority:n.iceCandidate.priority,transport:n.iceCandidate.protocol,type:n.iceCandidate.type}],endOfCandidates:"end-of-candidates",iceOptions:"renomination",setup:"server"===n.dtlsParameters.role?"actpass":"active",direction:"sendonly",rtp:[{payload:a.recvPayloadType,codec:a.name,rate:a.clockRate,encoding:a.channels>1?a.channels:void 0}],rtcpFb:[],fmtp:[{payload:a.recvPayloadType,config:Object.keys(a.parameters).map(e=>`${e}=${a.parameters[e]};`).join("")}],payloads:a.recvPayloadType,rtcpMux:"rtcp-mux",rtcpRsize:"rtcp-rsize",ssrcs:[],ssrcGroups:[],ext:s.map(e=>({uri:e.uri,value:e.recvId}))};a.rtcpFeedback&&a.rtcpFeedback.length>0&&a.rtcpFeedback.forEach(e=>{c.rtcpFb.push({payload:a.recvPayloadType,type:e.type,subtype:e.parameter})}),a.recvRtxPayloadType&&(c.rtp.push({payload:a.recvRtxPayloadType,codec:"rtx",rate:a.clockRate,encoding:a.channels>1?a.channels:void 0}),c.fmtp.push({payload:a.recvRtxPayloadType,config:`apt=${a.recvPayloadType};`}),c.payloads=`${a.recvPayloadType} ${a.recvRtxPayloadType}`);for(const t of e)c.ssrcs.push({id:t.ssrc,attribute:"msid",value:`${t.streamId} ${t.trackId}`}),c.ssrcs.push({id:t.ssrc,attribute:"mslabel",value:`${t.streamId}`}),c.ssrcs.push({id:t.ssrc,attribute:"label",value:`${t.trackId}`}),c.ssrcs.push({id:t.ssrc,attribute:"cname",value:`${t.cname}`}),t.rtxSsrc&&(c.ssrcGroups.push({semantics:"FID",ssrcs:`${t.ssrc} ${t.rtxSsrc}`}),c.ssrcs.push({id:t.rtxSsrc,attribute:"msid",value:`${t.streamId} ${t.trackId}`}),c.ssrcs.push({id:t.rtxSsrc,attribute:"mslabel",value:`${t.streamId}`}),c.ssrcs.push({id:t.rtxSsrc,attribute:"label",value:`${t.trackId}`}),c.ssrcs.push({id:t.rtxSsrc,attribute:"cname",value:`${t.cname}`}));i.media.push(c)}return ye.a.write(i)}(Array.from(t),e,this.extendedRtpCapabilities,this.transportRemoteParameters)}}updateICE(e,t){this.transportRemoteParameters&&(this.transportRemoteParameters.iceCandidate=t,this.transportRemoteParameters.iceParameters=e)}}function _e(e,t,r){if(!r)return null;for(let n=0;n<e.length;n+=1){const i=e[n];if(i[t]===r)return i}return null}function ke(e,t=0){if(t>=4)return e;for(const r in e)void 0===e[r]&&delete e[r],"object"==typeof e[r]&&(e[r]=ke(e[r],t+1));return e}function Te(e){Promise.resolve().then(e)}function Ce(e){return("0"+e.toString(16)).substr(-2)}function Se(e=5){const t=new Uint8Array((e||40)/2);return window.crypto.getRandomValues(t),Array.from(t,Ce).join("")}function Re(e){return new Promise(t=>{setTimeout(()=>{t()},e)})}const Ee="2.0.0-patch.4",xe="https://rtc.qiniuapi.com",{JOIN_ROOM_ERROR:Pe}=n;var Ie;!function(e){e[e.CONNECTING=0]="CONNECTING",e[e.OPEN=1]="OPEN",e[e.CLOSING=2]="CLOSING",e[e.CLOSED=3]="CLOSED"}(Ie||(Ie={}));class Oe extends o.a{constructor(e,t,r){super(),this.mergeJobIndex=0,this.mergeJobResIndex=0,this.initWs=((e=!1)=>new Promise((t,r)=>{this.ws&&this.ws.readyState===WebSocket.OPEN&&(this.ws.close(),this.ws.onclose=null);try{this.ws=new WebSocket(this.url),this._state=Ie.CONNECTING}catch(e){throw p(`init signaling websocket faild!\nError: ${e}`)}this.ws.onerror=this.onWsError,this.ws.onclose=this.onWsClose.bind(this,t,r),this.ws.onopen=(()=>{this.emit("ws:onopen"),z.log("signaling: websocket open",this.url),this.ws.onmessage=this.onWsMsg;const n={token:this.accessToken,reconntoken:this.reconnectToken,agent:`${G.name}${G.version}`,sdkversion:Ee,capsdp:this.capsdp,msgsn:this.customMsgNumber};this.request("auth",n).then(n=>{switch(n.code){case 0:this.ws.onclose=this.onWsClose.bind(this,null,null),this.reconnectToken=n.reconntoken,z.log("signaling: websocket authed"),this.emit("@signalingauth",n),this._state=Ie.OPEN,t(n);break;case 10001:case 10002:case 10011:case 10022:this.emit("@error",n),r(Pe(n.code,n.error));break;case 10004:case 10012:this.emit("@error",n),r(Pe(10004,n.error));break;case 10052:if(z.debug("10052 auth, retry",e),this.reconnectToken=void 0,e){r(Pe(n.code,n.error));break}return void this.emit("@error",n);case 10053:r(n);break;case 10054:r(w(n.error));break;default:r(p(n.error))}0!==n.code&&(this.reconnectToken=void 0,this._state=Ie.CLOSED,this.release())})})})),this.onWsMsg=(e=>{const t=e.data;this.emit("ws:onmessage",t);const r=t.indexOf("=");if(!(r>0))throw p(`signaling model can not parse message: ${t}`);{const e=t.substring(0,r),n=JSON.parse(t.substring(r+1));this.receiveWsMsg(e,n)}}),this.onWsError=(e=>{z.warning("signaling: websocket error",e),this.emit("@ws:error",e)}),this.sendWsMsg=((e,t)=>{const r=JSON.stringify(t);try{this.ws.send(`${e}=${r}`),this.emit("send",e,t)}catch(e){throw z.warning("signaling: websocket send error",e),this.reconnect().catch(e=>{z.warning("signaling: reconnect error",e)}),L()}}),this.handlePing=(()=>{this.sendWsMsg("pong",{}),this.reconnectTimeoutID&&clearTimeout(this.reconnectTimeoutID),this.reconnectTimeoutID=setTimeout(()=>{z.debug("signaling: websocket heartbeat timeout"),this.reconnect().catch(e=>{z.debug(e)})},9e3)}),this.receiveWsMsg=((e,t)=>{switch(this.emit("receive",e,t),e){case"ping":this.handlePing();break;case"auth-res":this.emit("@auth-res",t);case"pubpc-res":case"subpc-res":case"pub-tracks":case"webrtc-candidate":case"on-player-in":case"on-player-out":case"disconnect":case"mute-tracks":case"on-add-tracks":case"on-remove-tracks":this.emit(e,t);break;case"create-merge-job-res":this.mergeJobResIndex+=1,this.emit(`${e}-${this.mergeJobResIndex}`,t);case"webrtc-answer":this.emit(e,t),this.emit(`${e}-streamid-${t.streamid}-connid-${t.connid}`,t);case"webrtc-icestate":this.emit(e,t),t.connid?this.emit(`${e}-connid-${t.connid}`,t):this.emit(`${e}-stream-${t.streamid}`,t);break;case"sub-res":case"unsub-res":this.emit(e,t),this.emit(`${e}-${t.streamid}`,t);break;case"control-res":this.emit(e,t),this.emit(`${e}-${t.command}-${t.playerid}`,t);break;case"on-pubpc-connected":case"on-pubpc-disconnected":this.emit("on-pubpc-state",{pcid:t.pcid,connected:"on-pubpc-connected"===e}),this.emit(`${e}-${t.pcid}`,t);break;case"on-subpc-disconnected":case"on-subpc-connected":this.emit("on-subpc-state",{pcid:t.pcid,connected:"on-subpc-connected"===e}),this.emit(e,t);break;case"pub-tracks-res":this.emit(e,t);break;case"on-messages":t.messages=t.messages.sort((e,t)=>e.msgsn-t.msgsn),this.customMsgNumber=t.messages[t.messages.length-1].msgsn,this.emit(e,t);break;case"unpub-tracks-res":case"sub-tracks-res":case"unsub-tracks-res":case"on-pubpc-restart-notify":case"on-subpc-restart-notify":case"pubpc-restart-res":case"subpc-restart-res":this.emit(e,t)}}),this.url=e,this.accessToken=t,this.capsdp=r}set _state(e){this.emit("@ws-state-change",this.__state,e),this.__state=e}get state(){return this.__state}onWsClose(e,t,r){this._state=Ie.CLOSED,z.warning("signaling: websocket onclose",r);let n=this.reconnectPromise;switch(r.code){case 1e3:this.emit("@closed");break;case 1001:case 1005:case 1006:n=this.reconnect();break;case 1007:case 1008:case 1009:case 1010:break;case 1011:n=this.reconnect();break;case 1012:n=this.reconnect(5e3);break;case 1013:n=this.reconnect();break;case 1014:n=this.reconnect(5e3)}e&&t&&(n?e(n):t(r))}reconnect(e=1e3){return this.reconnectTimeoutID&&clearTimeout(this.reconnectTimeoutID),this.reconnectPromise&&this._state===Ie.CONNECTING?this.reconnectPromise:(this._state=Ie.CONNECTING,z.debug("signaling: websocket reconnecting"),this.reconnectPromise=Re(e).then(()=>this.initWs()).then(e=>(this.reconnectPromise=void 0,e)).catch(e=>(this._state=Ie.CLOSED,this.emit("error",e),Promise.reject(e))),this.reconnectPromise)}request(e,t){const r=Se(8);return t.rpcid=r,z.log("ws request",r,e,t),this.sendWsMsg(e,t),new Promise(t=>{const n=i=>{i.rpcid===r&&(z.log("ws response",r,e,i),this.off(`${e}-res`,n),t(i))};this.on(`${e}-res`,n)})}release(){this.reconnectTimeoutID&&clearTimeout(this.reconnectTimeoutID),this.removeEvent(),this.ws.onclose=null,this.ws.onerror=null,this.ws.close()}}class Ae{}class je{constructor(e,t,r,n){this.videoTrackInfo=[],this.audioTrackInfo=[],this.layoutLevel=0,this.width=e,this.height=t,this.jobId=n,this.controller=r,this.controller.getCurrentTracks().forEach(e=>{"audio"===e.kind?this.audioTrackInfo.push(e):this.videoTrackInfo.push(e)}),this.controller.addMergeTrack(this.audioTrackInfo.map(e=>({trackId:e.trackId})),this.jobId),this.initLayout(),this.controller.onAddTracks=(e=>{const t=e.filter(e=>"audio"===e.kind),r=e.filter(e=>"video"===e.kind);this.controller.addMergeTrack(t.map(e=>({trackId:e.trackId})),this.jobId),r.forEach(this.handleAddVideoTrack.bind(this))}),this.controller.onRemoveTracks=(e=>{e.filter(e=>"video"===e.kind).forEach(this.handleRemoveVideoTrack.bind(this))}),z.log("init default merger, init layout: ",this.layout)}initLayout(){const e=this.videoTrackInfo.length;this.layoutLevel=0,this.layout={"level-0":{items:{"item-0":{x:0,y:0,isExpand:!1,isExpanded:!1,index:0}},itemWidth:this.width,itemHeight:this.height,maxItems:1,currentItems:0,splitWidthFlag:this.width<this.height}};let t=this.width>=this.height;if(0!==e){for(;Math.pow(2,this.layoutLevel)<e;)this.updateLayoutLevel(t),t=!t;this.setLevelLayoutStream()}}updateLayoutLevel(e){const t=this.layout[`level-${this.layoutLevel}`],r=t.itemWidth,n=t.itemHeight;this.layoutLevel+=1;const i=Math.pow(2,this.layoutLevel),o=e?r/2:r,a=e?n:n/2;if(1===this.layoutLevel)this.layout[`level-${this.layoutLevel}`]={items:{"item-0":{x:0,y:0,isExpand:!1,isExpanded:!1,index:0},"item-1":{x:this.width>=this.height?o:0,y:this.width<this.height?a:0,isExpand:!1,isExpanded:!1,index:1}},maxItems:i,currentItems:0,itemWidth:o,itemHeight:a,splitWidthFlag:e};else{this.layout[`level-${this.layoutLevel}`]={items:{},maxItems:i,currentItems:0,itemWidth:o,itemHeight:a,splitWidthFlag:e};const t=this.layout[`level-${this.layoutLevel}`].items;Object.keys(this.layout[`level-${this.layoutLevel-1}`].items).forEach(r=>{const n=this.layout[`level-${this.layoutLevel-1}`].items[r],i=2*n.index;t[`item-${i}`]={x:n.x,y:n.y,isExpand:!1,isExpanded:!1,index:i},t[`item-${i+1}`]=e?{x:n.x+o,y:n.y,isExpand:!1,isExpanded:!1,index:i+1}:{x:n.x,y:n.y+a,isExpand:!1,isExpanded:!1,index:i+1}})}z.log(`merger: increase layout level, current level: ${this.layoutLevel}`,this.layout)}setLevelLayoutStream(){const e=this.videoTrackInfo.length,t=this.layout[`level-${this.layoutLevel}`];let r=t.maxItems-e,n=0;for(let i=0;i<t.maxItems;i+=1)r>0?i%2==0?(t.items[`item-${i}`].isExpand=!0,t.items[`item-${i}`].trackId=this.videoTrackInfo[n].trackId,this.sendMergeOpt(this.layoutLevel,i),n+=1):(t.items[`item-${i}`].isExpanded=!0,r-=1):(t.items[`item-${i}`].trackId=this.videoTrackInfo[n].trackId,this.sendMergeOpt(this.layoutLevel,i),n+=1);t.currentItems=e}sendMergeOpt(e,t){const r=this.layout[`level-${e}`],n=r.items[`item-${t}`];if(!n.trackId||n.isExpanded)return;let i=r.itemWidth,o=r.itemHeight;n.isExpand&&(r.splitWidthFlag?i*=2:o*=2);const a={x:n.x,y:n.y,w:i,h:o,z:0,trackId:n.trackId};this.controller.addMergeTrack([a],this.jobId)}handleRemoveVideoTrack(e){u()(this.videoTrackInfo,t=>t.trackId===e.trackId);const t=this.layout[`level-${this.layoutLevel}`];if(this.layoutLevel>0&&this.videoTrackInfo.length<=this.layout[`level-${this.layoutLevel-1}`].maxItems)this.layoutLevel-=1,z.log(`merger: reduce layout level, current level: ${this.layoutLevel}`,this.layout),this.setLevelLayoutStream();else for(const r in t.items){const n=t.items[r];if(n.trackId===e.trackId){n.index%2==0?(t.items[`item-${n.index+1}`]?(n.isExpand=!0,n.trackId=t.items[`item-${n.index+1}`].trackId,t.items[`item-${n.index+1}`].isExpanded=!0,t.items[`item-${n.index+1}`].trackId=void 0):n.trackId=void 0,this.sendMergeOpt(this.layoutLevel,n.index)):(n.isExpanded=!0,n.trackId=void 0,t.items[`item-${n.index-1}`].isExpand=!0,this.sendMergeOpt(this.layoutLevel,n.index-1));break}}}handleAddVideoTrack(e){const t=this.videoTrackInfo.length;if(this.videoTrackInfo.push(e),this.videoTrackInfo=s()(this.videoTrackInfo,"trackId"),this.videoTrackInfo.length===t)return void z.log("handle add video track ignore",e);const r=this.layout[`level-${this.layoutLevel}`];if(this.videoTrackInfo.length<=r.maxItems){for(const t in r.items){const n=r.items[t];if(!n.trackId){n.trackId=e.trackId,n.isExpanded&&(n.isExpanded=!1,r.items[`item-${n.index-1}`].isExpand=!1,this.sendMergeOpt(this.layoutLevel,n.index-1)),this.sendMergeOpt(this.layoutLevel,n.index);break}}r.currentItems=this.videoTrackInfo.length}else this.updateLayoutLevel(!r.splitWidthFlag),this.setLevelLayoutStream()}release(){this.controller.release()}}function Me(e){const t=document.createElement("audio"),r=new MediaStream([e]);return t.style.visibility="hidden",t.className="qnrtc-audio-player qnrtc-stream-player",t.dataset.localid=e.id,t.autoplay=!0,t.srcObject=r,t}function Le(e){const t=document.createElement("video"),r=new MediaStream([e]);return t.style.width="100%",t.style.height="100%",t.style.objectFit="contain",t.muted=!0,t.className="qnrtc-video-player qnrtc-stream-player",t.dataset.localid=e.id,t.setAttribute("playsinline",!0),t.autoplay=!0,t.srcObject=r,V&&(t.setAttribute("controls",!0),Te(()=>{t&&t.srcObject&&t.removeAttribute("controls")})),t}class De extends o.a{constructor(){super()}safeEmit(e,...t){try{this.emit(e,...t)}catch(t){z.warning("safeEmit() | event listener threw an error [event:%s]:%o",e,t)}}safeEmitAsPromise(e,...t){return new Promise((r,n)=>{const i=r;this.safeEmit(e,...t,i,t=>{z.warning("safeEmitAsPromise() | errback called [event:%s]:%o",e,t),n(t)})})}}class $e extends De{constructor(e,t){super(),this.master=!1,this.stats=J,this.mediaTrack=e,this.userId=t,this.info={kind:e.kind,muted:!e.enabled,userId:this.userId,versionid:0}}play(e,t){this.removeMediaElement();const r="video"===this.info.kind?Le:Me;this.mediaElement=r(this.mediaTrack),"audio"===this.info.kind&&t&&(this.mediaElement.muted=!0),e.appendChild(this.mediaElement)}resume(e){if(this.mediaTrack=e,this.mediaElement){const t=new MediaStream([e]);this.mediaElement.dataset.localid=e.id,this.mediaElement.srcObject=t}this.removeEvent("@get-stats")}getStats(){return this.statsInterval||this.startGetStatsInterval(),this.stats}onAudioBuffer(e,t){}setVolume(e){}getCurrentTimeDomainData(){return new Uint8Array}getCurrentFrequencyData(){return new Uint8Array}setAudioBuffer(e){}playAudioBuffer(e){}stopAudioBuffer(){}setMaster(e){this.master=e}setMute(e){this.info.muted=e,this.mediaTrack.enabled=!e,this.emit("mute",e)}setKbps(e){this.info.kbps=e}setInfo(e){this.info={...this.info,...e}}removeMediaElement(){this.mediaElement&&(this.mediaElement.remove(),this.mediaElement=void 0)}release(){this.emit("release"),this.removeEvent(),this.statsInterval&&window.clearInterval(this.statsInterval),this.mediaTrack.stop(),this.removeMediaElement()}reset(){this.info.trackId=void 0,this.info.userId=void 0,this.info.versionid=0,this.userId=void 0}async startGetStatsInterval(){this.statsInterval=window.setInterval(async()=>{const e=this.getListeners("@get-stats");if(!e||0===e.length)return J;this.stats=await this.safeEmitAsPromise("@get-stats",this.lastStats),this.lastStats={...this.stats}},1e3)}}class Ne{constructor(e,t,r){this.id=e,this.kind=t,this.rtpParameters=r,this.track=null}}class Ue{constructor(e,t,r,n){this._connectStatus=ee.Idle,this.track=r,this.trackId=n,this.transport=e,this.direction=t}get connectStatus(){return this._connectStatus}set connectStatus(e){if(e!==this._connectStatus){const t=this._connectStatus;this._connectStatus=e,Te(()=>{this.onConnectStatusChange&&this.onConnectStatusChange(t,this._connectStatus)})}}startConnect(){return this.connectStatus=ee.Connecting,new Promise((e,t)=>{this.onConnectStatusChange=((r,n)=>{n===ee.Connect&&e(),n===ee.Idle&&t()})})}appendConsumner(e,t){this.consumer=new Ne(this.trackId,t,e),this.transport.appendConsumer(this.consumer)}setMute(e){this.track&&this.track.setMute(e)}addTrackId(e){this.track&&(this.trackId=e,this.track.setInfo({trackId:e}))}release(){this.consumer&&this.transport?(this.transport.recvHandler.isPcReady&&this.transport.removeConsumers([this.consumer]),this.track&&this.track.release()):this.track&&this.track.reset()}}const Fe=new(window.AudioContext||window.webkitAudioContext||window.Object)({latencyHint:"interactive"}),Be=2048,Ve=4096;async function Ge(e){return"suspended"===Fe.state&&await Fe.resume(),await new Promise((t,r)=>{Fe.decodeAudioData(e,e=>{t(e)},e=>{r(e)})})}Fe.sampleRate;class He{constructor(){}onAudioBuffer(e,t=Ve){this.audioBufferCallback=e,this.audioBufferSize=t}async initAudioContext(){if("suspended"===Fe.state)try{await function(e,t){const r=new Promise((e,r)=>{window.setTimeout(()=>r("timeout"),t)});return Promise.race([e,r])}(Fe.resume(),1e3)}catch(e){z.warning("resume audiocontext timeout")}this.analyserNode=Fe.createAnalyser(),this.analyserNode.fftSize=Be,this.gainNode=Fe.createGain(),W.mediaStreamDest&&(this.audioStream=Fe.createMediaStreamDestination()),this.initScriptNode(Ve)}setMediaStreamSource(e){this.audioSource=Fe.createMediaStreamSource(e),this.connect()}setAudioBufferSource(){this.audioSource=Fe.createBufferSource(),this.connect()}setAudioBuffer(e){this.audioSource instanceof AudioBufferSourceNode&&(this.audioSource.buffer&&this.audioSource.stop(),this.audioSource.buffer=e)}playAudioBuffer(e){this.audioSource instanceof AudioBufferSourceNode&&(this.audioSource.loop=!!e,this.audioSource.start(),this.audioSource.onended=(()=>{this.audioBufferSourceEnd&&this.audioBufferSourceEnd()}))}stopAudioBuffer(){this.audioSource instanceof AudioBufferSourceNode&&this.audioSource.stop()}release(){this.audioSource instanceof MediaStreamAudioSourceNode&&this.audioSource.mediaStream&&this.audioSource.mediaStream.getTracks().map(e=>e.stop()),this.audioSource.disconnect(),this.gainNode.disconnect()}connect(){this.audioSource.connect(this.analyserNode),this.audioSource.connect(this.scriptNode),this.audioSource.connect(this.gainNode),this.audioStream&&this.gainNode.connect(this.audioStream)}handleAudioBuffer(e){const t=e.inputBuffer;this.audioBufferCallback&&this.audioBufferCallback(t)}initScriptNode(e){this.scriptNode=Fe.createScriptProcessor(e),this.scriptNode.onaudioprocess=this.handleAudioBuffer.bind(this),this.scriptNode.connect(Fe.destination)}}class We extends $e{constructor(e,t){if("audio"!==e.kind)throw new Error("audio track only!");super(e,t),this.mediaStream=new MediaStream,this.mediaStream.addTrack(e)}resume(e){this.mediaTrack=e,this.removeEvent("@get-stats");const t=new MediaStream([e]);this.mediaStream=t,this.mediaElement&&(this.mediaElement.dataset.localid=e.id,this.mediaElement.srcObject=t),this.audioManager&&(this.audioManager.release(),this.initAudioManager())}async initAudioManager(e){this.sourceType="mic",this.audioManager=new He,await this.audioManager.initAudioContext(),this.audioManager.setMediaStreamSource(this.mediaStream),e&&W.mediaStreamDest&&(this.mediaStream=this.audioManager.audioStream.stream,this.mediaTrack=this.mediaStream.getTracks()[0])}onAudioBuffer(e,t=Ve){this.audioManager?this.audioManager.onAudioBuffer(e,t):z.warning("can not find audio manager")}setVolume(e){this.audioManager&&this.audioManager.gainNode.gain.setValueAtTime(e,Fe.currentTime)}getCurrentTimeDomainData(){if(!this.audioManager)return new Uint8Array(0);const e=new Uint8Array(Be);return this.audioManager.analyserNode.getByteTimeDomainData(e),e}getCurrentFrequencyData(){if(!this.audioManager)return new Uint8Array(0);const e=new Uint8Array(Be);return this.audioManager.analyserNode.getByteFrequencyData(e),e}setAudioBuffer(e){this.audioManager&&"buffer"===this.sourceType&&this.audioManager.setAudioBuffer(e)}playAudioBuffer(e){this.audioManager&&"buffer"===this.sourceType&&this.audioManager.playAudioBuffer(e)}stopAudioBuffer(){this.audioManager&&"buffer"===this.sourceType&&this.audioManager.stopAudioBuffer()}release(){this.emit("release"),this.removeEvent(),this.statsInterval&&window.clearInterval(this.statsInterval),this.mediaTrack.stop(),this.removeMediaElement(),this.audioManager&&this.audioManager.release()}}async function ze(){const e=new He;await e.initAudioContext(),e.setAudioBufferSource();const t=e.audioStream.stream.getTracks()[0],r=new We(t);return r.sourceType="buffer",r.audioManager=e,r}class Je extends De{constructor(e,t,r){super(),this._isRestartingICE=!1,this.isPcReady=!1,this._direction=e,this._pc=q(),this._extendedRtpCapabilities=t,this._remoteSdp=new we(e,t),this._pc.addEventListener("iceconnectionstatechange",()=>{switch(this._pc.iceConnectionState){case"checking":this.emit("@connectionstatechange","connecting");break;case"connected":case"completed":this.emit("@connectionstatechange","connected");break;case"failed":this.emit("@connectionstatechange","failed");break;case"disconnected":this.emit("@connectionstatechange","disconnected");break;case"closed":this.emit("@connectionstatechange","closed")}})}async getStats(e,t){return await K(this._pc,e,this._direction,t)}getCurrentIceConnectionState(){return this._pc.iceConnectionState}close(){z.log("handle",this._direction,"close"),this.removeEvent(),this._pc.close(),this.isPcReady=!1}}class qe extends Je{constructor(e,t,r){super("send",e,r),z.log("init send handler"),this._transportReady=!1,this._stream=new MediaStream,this._signaling=t,t.on("on-pubpc-state",e=>{this._remoteSdp.transportRemoteParameters&&e.pcid===this._remoteSdp.transportRemoteParameters.pcid&&(e.connected||this.emit("@connectionstatechange","disconnected"))})}getReady(e){return new Promise((t,r)=>{const n=i=>{i.pcid===e.pcid&&(this._signaling.off("on-pubpc-state",n),i.connected?(this.isPcReady=!0,t()):r())};this._signaling.on("on-pubpc-state",n)})}addProducerTracks(e){z.debug("add producer",e);const t=e.map(e=>e.mediaTrack).filter(e=>!this._stream.getTrackById(e.id));if(0===t.length)return Promise.reject(new Error("track already added"));let r;const n=[];let i,o=!0;return Promise.resolve().then(async()=>{if(t.forEach(this._stream.addTrack,this._stream),W.unifiedPlan)for(const e of t){const t=await Q(e,this._pc);z.debug("add transceiver",t,t.mid),n.push(t)}else r=t.map(e=>this._pc.addTrack(e,this._stream));return this._pc.createOffer()}).then(e=>{let r;return r=W.unifiedPlan?{type:"offer",sdp:function(e,t,r){const n=ye.a.parse(e);for(let i=0;i<t.length;i+=1){const e=t[i],o=r[i],a=n.media.find(e=>e.mid.toString()===o);if(!a)continue;const s=(a.ssrcGroups||[]).find(e=>"FID"===e.semantics),c=a.msid?a.msid.split(" ")[0]:void 0,u=(a.ssrcs||[]).find(e=>"msid"===e.attribute),d=(a.ssrcs||[]).find(e=>"cname"===e.attribute),p=(a.ssrcs||[]).find(e=>"label"===e.attribute);if(a.ssrcs=[],a.ssrcGroups=[],c&&(a.msid=`${c} ${e.id}`),u){const t=u.id,r=u.value.split(" ")[0];a.ssrcs.push({id:t,attribute:"msid",value:`${r} ${e.id}`})}if(d&&a.ssrcs.push({id:d.id,attribute:"cname",value:d.value}),p&&a.ssrcs.push({id:p.id,attribute:"label",value:e.id}),s){const t=s.ssrcs.split(/\s+/)[1],r=s.ssrcs.split(/\s+/)[0];if(a.ssrcGroups.push({semantics:"FID",ssrcs:`${r} ${t}`}),d&&a.ssrcs.push({id:t,attribute:"cname",value:d.value}),u){const r=u.value.split(" ")[0];a.ssrcs.push({id:t,attribute:"msid",value:`${r} ${e.id}`})}a.ssrcs.push({id:t,attribute:"label",value:e.id})}}return ye.a.write(n)}(e.sdp,t,n.map(e=>e.mid))}:e,i=r.sdp,z.log("publish: set local offer",r),this._pc.setLocalDescription(r)}).then(()=>{if(!this._transportReady)return o=!1,this._setupTransport(e)}).then(()=>this._remoteSdp.createRemoteAnswer(i)).then(e=>{const t={type:"answer",sdp:e};return z.debug("addProducer answer",t),this._pc.setRemoteDescription(t)}).then(()=>this._pcReady).then(()=>o?this.safeEmitAsPromise("@needpubtracks",e,i):Promise.resolve(this._remoteSdp.transportRemoteParameters)).catch(e=>{z.log("add producer error",e);try{for(const e of r)this._pc.removeTrack(e);for(const e of n)e.direction="inactive"}catch(e){}for(const r of t)this._stream.removeTrack(r);throw e instanceof d?e:p(e)})}removeProducerTracks(e){z.debug("removeProducerTracks",e);const t=e.filter(e=>!!e.track).map(e=>e.track.mediaTrack).filter(e=>this._stream.getTrackById(e.id));let r;return Promise.resolve().then(()=>{const e=this._pc.getSenders().filter(e=>e.track&&t.includes(e.track));if(0===e.length)return z.warning("removeProducerTracks [nothing to remove]"),Promise.reject();for(const t of e)this._pc.removeTrack(t);for(const r of t)this._stream.removeTrack(r);return this._pc.createOffer()}).then(e=>{const t=new RTCSessionDescription(e);return r=t.sdp,z.log("unpublish: set local offer",t),this._pc.setLocalDescription(t)}).then(()=>{const e={type:"answer",sdp:this._remoteSdp.createRemoteAnswer(r)};return z.log("unpublish: set remote answer",e),this._pc.setRemoteDescription(e)}).catch(e=>{if(0!==this._stream.getTracks().length)throw e instanceof d?e:p(e);z.debug("removeProducer() | ignoring expected error due no sending tracks: %s",e.toString())}).then(()=>this.safeEmitAsPromise("@needunpubtracks",e))}restartICE(e,t){return z.log("restart send ice"),this._remoteSdp.updateICE(e,t),this._isRestartingICE=!0,Promise.resolve().then(()=>this._pc.createOffer({iceRestart:!0})).then(e=>this._pc.setLocalDescription(e)).then(()=>{const e={type:"answer",sdp:this._remoteSdp.createRemoteAnswer(this._pc.localDescription.sdp)};return this._pc.setRemoteDescription(e)})}_setupTransport(e){return Promise.resolve().then(()=>this._pc.localDescription?this._pc.localDescription:this._pc.createOffer()).then(t=>this.safeEmitAsPromise("@needpubpc",t.sdp,e)).then(e=>{this._remoteSdp.transportRemoteParameters=e,this.pcid=e.pcid,this._transportReady=!0,this._pcReady=this.getReady(e)})}}class Qe extends Je{constructor(e,t,r){super("recv",e,r),this._transportCreated=!1,this._consumerInfos=new Map,this._signaling=t,t.on("on-subpc-state",e=>{this._remoteSdp.transportRemoteParameters&&e.pcid===this._remoteSdp.transportRemoteParameters.pcid&&(e.connected||this.emit("@connectionstatechange","disconnected"))}),z.log("init recvhandler",this)}getReady(e){return new Promise((t,r)=>{const n=i=>{i.pcid===e.pcid&&(this._signaling.off("on-subpc-state",n),i.connected?(this.isPcReady=!0,t()):r())};this._signaling.on("on-subpc-state",n)})}async addConsumerTracks(e){if(W.unifiedPlan){const t=[];for(const r of e){const e=await this.addConsumerTrack(r);t.push(e)}return t}z.log("add consumers",e);const t=[],r=Array.from(this._consumerInfos.values());for(const n of e){const e=r.find(e=>e.consumerId===n.id);if(e&&!e.closed)t.push(e);else{const e=this.genNewConsumerInfo(n);if(W.unifiedPlan){const t=r.length.toString();e.mid=t,this._consumerInfos.set(t,e)}else this._consumerInfos.set(n.id,e);t.push(e)}}return Promise.resolve().then(()=>{const e={type:"offer",sdp:this._remoteSdp.createRemoteOffer(Array.from(this._consumerInfos.values()))};return z.debug("subscribe: set remote offer",e),this._pc.setRemoteDescription(e)}).then(()=>(W.unifiedPlan,this._pc.createAnswer())).then(e=>(z.debug("subscribe, set local answer",e),this._pc.setLocalDescription(e))).then(()=>this._pcReady).then(()=>{for(let r=0;r<t.length;r+=1){const n=t[r],i=e[r];if(!i.track){if(W.unifiedPlan){const e=this._pc.getTransceivers().find(e=>!!e.receiver.track&&(e.receiver.track.id===n.trackId||e.mid===n.mid));e&&(i.track=e.receiver.track)}else{const e=this._pc.getReceivers().find(e=>{const{track:t}=e;return!!t&&n.trackId===t.id});e&&(i.track=e.track)}if(!i.track)throw p("remote track not found");z.log("subscribe: get new track",i.track)}}return e.map(e=>e.track)})}genNewConsumerInfo(e){const t=Array.from(this._consumerInfos.values()),r=e.rtpParameters.encodings[0],n=e.rtpParameters.rtcp.cname,i=t.length.toString();return{kind:e.kind,streamId:`mid${i}-stream-${e.id}`,trackId:`mid${i}-${e.kind}-${r.ssrc}`,ssrc:r.ssrc,rtxSsrc:r.rtx?r.rtx.ssrc:void 0,cname:n,consumerId:e.id,closed:!1}}async addConsumerTrack(e){z.log("add consumer",e);let t=null;const r=Array.from(this._consumerInfos.values()),n=r.find(t=>t.consumerId===e.id);if(n&&!n.closed)t=n;else{const n=this.genNewConsumerInfo(e);if(W.unifiedPlan){const e=r.length.toString();n.mid=e,this._consumerInfos.set(e,n)}else this._consumerInfos.set(e.id,n);t=n}return Promise.resolve().then(()=>{const e={type:"offer",sdp:this._remoteSdp.createRemoteOffer(Array.from(this._consumerInfos.values()))};return z.debug("subscribe: set remote offer",e),this._pc.setRemoteDescription(e)}).then(()=>(W.unifiedPlan,this._pc.createAnswer())).then(e=>(z.debug("subscribe, set local answer",e),this._pc.setLocalDescription(e))).then(()=>this._pcReady).then(()=>{let r=null;if(W.unifiedPlan&&e&&t){const n=this._pc.getTransceivers().find(r=>!!r.receiver.track&&(r.receiver.track.id===t.trackId||r.mid===t.mid)&&(e.track=r.receiver.track,!0));n&&(r=n.receiver.track)}else if(e&&t){const n=this._pc.getReceivers().find(r=>{const{track:n}=r;return!!n&&t.trackId===n.id&&(e.track=n,!0)});n&&(r=n.track)}if(!r&&e)throw p("remote track not found");return z.log("subscribe: get new track",r),r})}removeConsumerTracks(e){z.log("remove consumer",e);let t=!1;for(const r of e){const e=Array.from(this._consumerInfos.values()).find(e=>e.consumerId===r.id&&!e.closed);e?(t=!0,W.unifiedPlan?(r.track=null,e.closed=!0):this._consumerInfos.delete(r.id)):z.log("can not find unpublish track target, ignore")}return t?Promise.resolve().then(()=>{const e={type:"offer",sdp:this._remoteSdp.createRemoteOffer(Array.from(this._consumerInfos.values()))};return z.log("unsubscribe set remote offer",e),this._pc.setRemoteDescription(e)}).then(()=>this._pc.createAnswer()).then(e=>(z.log("unsubscribe set local answer",e),this._pc.setLocalDescription(e))):Promise.resolve()}restartICE(e,t){return z.log("recv restart ice"),this._remoteSdp.updateICE(e,t),this._isRestartingICE=!0,Promise.resolve().then(()=>{const e={type:"offer",sdp:this._remoteSdp.createRemoteOffer(Array.from(this._consumerInfos.values()))};return this._pc.setRemoteDescription(e)}).then(()=>this._pc.createAnswer()).then(e=>{this._pc.setLocalDescription(e)})}async setupTransport(e){if(this._transportCreated)return await this._pcReady;const t=await this.safeEmitAsPromise("@needsubpc",e);return this._remoteSdp.transportRemoteParameters=t,this.pcid=t.pcid,this._transportCreated=!0,this._pcReady=this.getReady(t),z.log("init subscribe, get transport remote",t),t}}function Ke(e,t,r,n){switch(e){case"send":return new qe(t,r,n);case"recv":return new Qe(t,r,n)}}class Xe extends o.a{constructor(e){super(),this._closed=!1,this._busy=!1,this._queue=[],this.name=e||"TaskQueue"}close(){this._closed=!0}push(e,t){return z.debug(`${this.name} push()`,e,t),new Promise((r,n)=>{this._queue.push({method:e,data:t,resolve:r,reject:n}),this._handlePendingCommands()})}_handlePendingCommands(){if(this._busy)return;const e=this._queue,t=e[0];t&&(this._busy=!0,this._handleCommand(t).then(()=>{this._busy=!1,e.shift(),this._handlePendingCommands()}))}_handleCommand(e){if(z.debug(`${this.name} _handleCommand() `,e.method,e.data),this._closed)return e.reject(new D("closed")),Promise.resolve();const t={promise:null};return this.emit("exec",e,t),Promise.resolve().then(()=>t.promise).then(t=>{z.debug(`${this.name} _handleCommand() | command succeeded`,e.method),this._closed?e.reject(new D("closed")):e.resolve(t)}).catch(t=>{z.warning(`${this.name} _handleCommand() | command failed [method:%s]: %o`,e.method,t),e.reject(t)})}}var Ze,Ye;!function(e){e.SEND_TRACKS="@transport:send-tracks",e.RESTART_SEND_ICE="@transport:send-restart-ice",e.REMOVE_TRACKS="@transport:remove-tracks",e.INIT_RECV="@transport:init-recv",e.RESTART_RECV_ICE="@transport:recv-restart-ice",e.ADD_CONUMERS="@transport:add-consumers",e.REMOVE_CONSUMERS="@transport:remove-consumers"}(Ze||(Ze={}));class et extends De{constructor(e,t){super(),this.sendCommandQueue=new Xe("SendQueue"),this.recvCommandQueue=new Xe("RecvQueue"),this.recvInitCommandQueue=new Xe("RecvInitQueue"),this.sendTrackQueue=[],this.consumerQueue=[],this._publishTracks=new Map,this.extendedRtpCapabilities=e,this.signaling=t,this.sendHandler=Ke("send",e,t,{}),this.recvHandler=Ke("recv",e,t,{}),this.handleSendHandler(),this.handleRecvHandler(),this.sendCommandQueue.on("exec",this.handleSendCommandTask.bind(this)),this.recvCommandQueue.on("exec",this.handleRecvCommandTask.bind(this)),this.recvInitCommandQueue.on("exec",this.handleRecvInitCommandTask.bind(this)),this.initSubPcPromise=new Promise(e=>{this.initSubPcPromiseResolve=e})}get publishTracks(){return Array.from(this._publishTracks.values())}resolveInitSubPcPromise(){this.initSubPcPromiseResolve&&(this.initSubPcPromiseResolve(),this.initSubPcPromiseResolve=void 0)}handleSendHandler(){this.sendHandler.on("@needpubpc",(e,t,r,n)=>{this.safeEmitAsPromise("@needpubpc",e,t).then(r).catch(n)}).on("@connectionstatechange",e=>{switch(z.log("pubpc connectionstatechange",e),e){case"closed":case"failed":this.signaling.state===Ie.OPEN?this.reconnectProducer():this.sendHandler.close();break;case"disconnected":if(this.sendHandler._isRestartingICE||!this.sendHandler.pcid)return;this.signaling.state===Ie.OPEN?this.restartSendICE(this.sendHandler.pcid):this.signaling.once("@signalingauth",e=>{"disconnected"===this.sendHandler.getCurrentIceConnectionState()&&(this.extendedRtpCapabilities=e.rtpcaps,this.restartSendICE(this.sendHandler.pcid))})}}).on("@needpubtracks",(e,t,r,n)=>{const i=e.map(fe);this.signaling.request("pub-tracks",{tracks:i,sdp:t}).then(e=>{switch(e.code){case 0:break;case 10052:return n(E());case 10061:return this.reconnectProducer(),n(l(10061,e.error));default:return n(l(e.code,e.error))}for(const t of e.tracks)if(!t.status)return void n(l(e.code,e.error));r(e)},n)}).on("@needunpubtracks",(e,t,r)=>{this.signaling.request("unpub-tracks",{tracks:e.map(e=>({trackid:e.trackId}))}).then(e=>{t(e)})})}async sendTracks(e){return 0===e.length?Promise.resolve():this.sendCommandQueue.push(Ze.SEND_TRACKS,e)}removeTracks(e){return 0===e.length?Promise.resolve():this.sendCommandQueue.push(Ze.REMOVE_TRACKS,e)}async restartSendICE(e){return W.supportRestartICE?this.sendCommandQueue.push(Ze.RESTART_SEND_ICE,e):Promise.resolve(this.reconnectProducer())}handleSendCommandTask(e,t){switch(e.method){case Ze.SEND_TRACKS:return void(t.promise=this._execAddProducerTracks(e.data));case Ze.REMOVE_TRACKS:return void(t.promise=this._execRemoveTracks(e.data));case Ze.RESTART_SEND_ICE:return void(t.promise=this._execRestartSendICE(e.data))}}addTrackToPublishTracks(e){const t=e.map(e=>new Ue(this,"send",e));for(const r of t)this._publishTracks.set(r.track.mediaTrack.id,r);return t}removeTrackFromPublishTracks(e){for(const t of e)this._publishTracks.delete(t.mediaTrack.id)}async _execAddProducerTracks(e){const t=await this.sendHandler.addProducerTracks(e.map(e=>e.track));for(const r of e){const e=_e(t.tracks,"localid",r.track.mediaTrack.id);e&&(r.addTrackId(e.trackid),r.track.setInfo({versionid:e.versionid}))}return e.map(e=>e.connectStatus=ee.Connect),t}_execRemoveTracks(e){return this.removeTrackFromPublishTracks(e.map(e=>e.track)),e.map(e=>e.release()),this.sendHandler.removeProducerTracks(e)}async _execRestartSendICE(e){this.sendHandler._isRestartingICE=!0;const t=await this.signaling.request("pubpc-restart",{pcid:e});if(0!==t.code)return this.sendHandler._isRestartingICE=!1,z.debug("restart ice faild",t.code,t.error),void this.reconnectProducer();try{await this.sendHandler.restartICE(t.iceParameters,t.iceCandidate),this.sendHandler._isRestartingICE=!1}catch(e){z.debug("restart ice faild",t.code,t.error),this.sendHandler._isRestartingICE=!1,this.reconnectProducer()}}reconnectProducer(){this.resetSendCommandQueue(),this.sendHandler.close();const e=this.publishTracks;this.sendHandler=Ke("send",this.extendedRtpCapabilities,this.signaling,{}),this.handleSendHandler(),e.forEach(e=>{e.connectStatus=ee.Connecting}),this.emit("@needrepub",e)}handleRecvHandler(){this.recvHandler.on("@needsubpc",(e,t,r)=>{this.safeEmitAsPromise("@needsubpc",e).then(t,r)}).on("@connectionstatechange",e=>{switch(z.log("sub pc connection state change",e),e){case"closed":case"failed":this.signaling.state===Ie.OPEN?this.resetRecvHandler():this.recvHandler.close();break;case"disconnected":if(this.recvHandler._isRestartingICE||!this.recvHandler.pcid)return;this.signaling.state===Ie.OPEN?this.restartRecvICE(this.recvHandler.pcid):this.signaling.once("@signalingauth",e=>{"disconnected"===this.recvHandler.getCurrentIceConnectionState()&&(this.extendedRtpCapabilities=e.rtpcaps,this.restartRecvICE(this.recvHandler.pcid))})}})}appendConsumer(e){this.consumerQueue.push(e)}async addConsumers(){const e=this.consumerQueue;return this.consumerQueue=[],this.recvCommandQueue.push(Ze.ADD_CONUMERS,e)}initRecvHandler(e){return this.recvInitCommandQueue.push(Ze.INIT_RECV,e)}async removeConsumers(e){await this.recvCommandQueue.push(Ze.REMOVE_CONSUMERS,e)}async restartRecvICE(e){return W.supportRestartICE?this.recvCommandQueue.push(Ze.RESTART_RECV_ICE,e):this.resetRecvHandler()}async _removeConsumers(e){await this.recvHandler.removeConsumerTracks(e)}async _initRecvHandler(e){return this.recvHandler.isPcReady?(await this.initSubPcPromise,null):await this.recvHandler.setupTransport(e)}async _addConsumers(e){if(0===e.length)return Promise.resolve([]);const t=await this.recvHandler.addConsumerTracks(e);for(let r=0;r<t.length;r+=1){const n=t[r],i=e[r];n.onended=(()=>{z.warning("track end",n,i)})}return t}async _execRestartRecvICE(e){this.recvHandler._isRestartingICE=!0;const t=await this.signaling.request("subpc-restart",{pcid:e});if(0!==t.code)return this.recvHandler._isRestartingICE=!1,z.debug("restart ice faild",t.code,t.error),void this.resetRecvHandler();try{await this.recvHandler.restartICE(t.iceParameters,t.iceCandidate),this.recvHandler._isRestartingICE=!1}catch(e){this.recvHandler._isRestartingICE=!1,z.debug("restart ice faild",t.code,t.error),this.resetRecvHandler()}}handleRecvCommandTask(e,t){switch(e.method){case Ze.ADD_CONUMERS:return void(t.promise=this._addConsumers(e.data));case Ze.REMOVE_CONSUMERS:return void(t.promise=this._removeConsumers(e.data));case Ze.RESTART_RECV_ICE:return void(t.promise=this._execRestartRecvICE(e.data))}}handleRecvInitCommandTask(e,t){switch(e.method){case Ze.INIT_RECV:return void(t.promise=this._initRecvHandler(e.data))}}resetSendCommandQueue(){z.log("reset send queue"),this.sendCommandQueue=new Xe("SendQueue"),this.sendCommandQueue.on("exec",this.handleSendCommandTask.bind(this))}resetRecvCommandQueue(){z.log("reset recv queue"),this.recvCommandQueue=new Xe("RecvQueue"),this.recvInitCommandQueue=new Xe("RecvInitQueue"),this.recvCommandQueue.on("exec",this.handleRecvCommandTask.bind(this)),this.recvInitCommandQueue.on("exec",this.handleRecvInitCommandTask.bind(this))}resetRecvHandler(){this.resetRecvCommandQueue(),this.recvHandler.close(),this.recvHandler=Ke("recv",this.extendedRtpCapabilities,this.signaling,{}),this.initSubPcPromise=new Promise(e=>{this.initSubPcPromiseResolve=e}),this.handleRecvHandler(),this.emit("@needresub")}release(){this.recvHandler.close(),this.sendHandler.close(),this.publishTracks.forEach(e=>e.release())}}!function(e){e[e.Idle=0]="Idle",e[e.Connecting=1]="Connecting",e[e.Connected=2]="Connected",e[e.Reconnecting=3]="Reconnecting"}(Ye||(Ye={}));class tt extends o.a{constructor(){super(),this._trackInfo=[],this.subscribeTracks=[],this._users=new Map,this._roomState=Ye.Idle,this.mergeJobMerger={},this.defaultMergeJobTracks=[],this.mergeJobTracks={},this._publish=((e,t)=>new Promise(async(r,n)=>{if(this.roomState!==Ye.Connected)return void n(p("not connected to the room, please run joinRoom first"));0===e.length&&r(),e.forEach(e=>e.userId=this.userId);const i=this.connectionTransport,o=this.signaling;let a;if(t){const t=e.map(e=>e.mediaTrack.id);a=i.publishTracks.filter(e=>-1!==t.indexOf(e.track.mediaTrack.id))}else{const t=i.publishTracks.map(e=>e.track.mediaTrack.id);if(e.filter(e=>-1===t.indexOf(e.mediaTrack.id)).length!==e.length)return void n(p("there are already published tracks in the provided tracks"));a=i.addTrackToPublishTracks(e)}if(z.debug("start publish",a,t),!t){const e=a.map(e=>e.startConnect());Promise.all(e).then(()=>r()).catch(()=>{n(j())})}try{await i.sendTracks(a),o.sendWsMsg("mute-tracks",{tracks:a.map(e=>({trackid:e.trackId,muted:!!e.track.info.muted}))});const r=_e(this.users,"userId",this.userId);r&&(r.addTracks(a.map(e=>e.track)),r.addPublishedTrackInfo(a.map(e=>({trackId:e.trackId,muted:!!e.track.info.muted,kind:e.track.info.kind,tag:e.track.info.tag,userId:this.userId,versionid:e.track.info.versionid})))),e.forEach(e=>{e.on("@get-stats",(t,r,n)=>{if(!this.connectionTransport)return r(J);this.connectionTransport.sendHandler.getStats(e.mediaTrack,t).then(r,n)})}),this.getAllMerger().forEach(t=>t.controller.onAddTracks(e.map(e=>e.info)))}catch(t){if(t instanceof d)switch(t.code){case 10061:case 30001:return;case 10052:z.warning(t,"republish"),setTimeout(()=>this._publish(e,!0),1e3);default:i.removeTrackFromPublishTracks(e),n(t)}else z.warning(t,"republish"),setTimeout(()=>this._publish(e,!0),1e3)}})),this._subscribe=((e,t)=>new Promise(async(r,n)=>{if(this.roomState!==Ye.Connected)return void n(p("can not connected to the room, please joinRoom first"));if(0===e.length)return void r([]);z.debug("subscribe",e,t);const i=this._trackInfo.filter(t=>e.includes(t.trackid));if(i.length!==e.length)return void n(k(10041,`can not find track in room ${e}`));let o;const a=this.connectionTransport,s=this.signaling;if(t)o=this.subscribeTracks.filter(t=>-1!==e.indexOf(t.trackId));else{const e=this.subscribeTracks.map(e=>e.trackId),t=i.filter(t=>!e.includes(t.trackid));o=t.map(e=>new Ue(a,"recv",void 0,e.trackid)),this.subscribeTracks=this.subscribeTracks.concat(o)}z.log("sub tracks",o);try{if(!t){const e=o.map(e=>e.startConnect());Promise.all(e).then(()=>r(o.map(e=>e.track))).catch(()=>{n(j())})}let c=await a.initRecvHandler(o.map(e=>e.trackId));switch(c||(c=await s.request("sub-tracks",{tracks:o.map(e=>({trackid:e.trackId}))})),z.log("get sub res data",c),c.code){case 0:break;case 10052:throw E();case 10062:throw a.resetRecvHandler(),k(10062,c.error);default:throw k(c.code,c.error)}for(const e of c.tracks||[])if(!e.status)throw k(c.code,c.error);for(const e of c.tracks||[]){const t=o.find(t=>t.trackId===e.trackid),r=i.find(t=>t.trackid===e.trackid);if(!t||!r)continue;const n=e.rtpparams;t.appendConsumner(n,r.kind)}await a.addConsumers(),a.resolveInitSubPcPromise();for(const e of o){const{consumer:t}=e;if(!t||!t.track)continue;const r=t.track;let n=e.track;const o=i.find(e=>e.trackid===t.id);if(!o)continue;n?n.resume(r):"audio"===r.kind?(n=new We(r,o.playerid),await n.initAudioManager()):n=new $e(r,o.playerid),n.setInfo({trackId:o.trackid,userId:o.playerid,tag:o.tag,kind:o.kind,muted:o.muted,versionid:o.versionid}),n.setMaster(o.master),n.on("@get-stats",(e,t,r)=>{if(!this.connectionTransport)return t(J);this.connectionTransport.recvHandler.getStats(n.mediaTrack,e).then(t,r)}),e.track=n;const a=this.users.find(e=>e.userId===o.playerid);a&&a.addTracks([n])}o.forEach(e=>e.connectStatus=ee.Connect)}catch(t){z.log(t);const i=[];if(o.forEach(e=>{e.consumer&&i.push(e.consumer)}),await a.removeConsumers(i),!(t instanceof d))return z.warning(t,"resubscribe"),void setTimeout(()=>this._subscribe(e,!0),1e3);switch(t.code){case 10062:case 30001:return;case 10052:return z.warning(t,"resubscribe"),void setTimeout(()=>this._subscribe(e,!0),1e3);default:u()(this.subscribeTracks,t=>-1!==e.indexOf(t.trackId)),n(t)}}r(o.map(e=>e.track))})),z.log("version",Ee),z.log("browser report",W,G)}get users(){return Array.from(this._users.values())}get trackInfoList(){return this._trackInfo.map(de)}get roomState(){return this._roomState}set roomState(e){this._roomState!==e&&(this._roomState=e,z.debug("roomState change",this._roomState),this.emit("room-state-change",this._roomState))}async joinRoomWithToken(e){if(this.roomState!==Ye.Reconnecting){if(this.roomState!==Ye.Idle)throw p("roomState is not idle! Do not repeat join room, please run leaveRoom first");this.roomState=Ye.Connecting}try{this.roomToken=e;const t=function(e){try{const t=e.split(":")[2],r=atob(t);return JSON.parse(r)}catch(e){throw p(`can not parse roomToken, ${e}`)}}(e);if(this.userId=t.userId,this.roomName=t.roomName,this.appId=t.appId,z.log("join room, token:",e),z.debug(`join room, roomName: ${this.roomName}, userId: ${this.userId}`),!this.roomName.match(/^[a-zA-Z0-9_-]{3,64}$/))throw this.roomState=Ye.Idle,p("invalid roomname. roomname must match /^[a-zA-Z0-9_-]{3,64}$/");if(!this.userId.match(/^[a-zA-Z0-9_-]{3,50}$/))throw this.roomState=Ye.Idle,p("invalid userId. userId must match /^[a-zA-Z0-9_-]{3,50}$/");try{this.accessToken=await async function(e,t){const{appId:r,roomName:n,userId:i}=e,o=`${xe}/v3/apps/${r}/rooms/${n}/auth?user=${i}&token=${t}`;for(;;)try{return(await $(o)).accessToken}catch(e){if(!1===e.retry)throw f(e.message);await Re(1e3),z.warning("can not get accessToken, retry.",f(e))}}(t,e)}catch(e){throw e}return await this.joinRoomWithAccess(this.accessToken)}catch(e){throw this.roomState=Ye.Idle,e}}async joinRoomWithAccess(e){const t=function(e){const t=e.split(".")[1];if(!t)throw new Error("parse jwt error, can not find payload string.");const r=atob(t);return JSON.parse(r)}(e),{capsdp:r}=await async function(){const e=q(),t={capsdp:(await e.createOffer({offerToReceiveAudio:!0,offerToReceiveVideo:!0})).sdp,agent:navigator.userAgent};return e.close(),t}(),n=new Oe(t.signalingurl2,e,r);n.on("@error",this.handleDisconnect.bind(this)).on("@ws-state-change",(e,t)=>{switch(t){case Ie.CONNECTING:this.roomState===Ye.Connected?this.roomState=Ye.Reconnecting:this.roomState!==Ye.Reconnecting&&(this.roomState=Ye.Connecting)}}).on("on-player-in",this.handlePlayerIn.bind(this)).on("on-player-out",this.handlePlayerOut.bind(this)).on("on-add-tracks",e=>{this.filterSignalTracks(e),this.handleAddTracks(e)}).on("on-remove-tracks",e=>{this.filterSignalTracks(e),this.handleRemoveTracks(e)}).on("mute-tracks",e=>{this.filterSignalTracks(e),this.handleMute(e)}).on("on-messages",this.handleCustomMessages.bind(this)).on("on-pubpc-restart-notify",e=>{const t=this.connectionTransport;t&&W.supportRestartICE&&t.restartSendICE(e.pcid).catch(z.debug)}).on("on-subpc-restart-notify",e=>{const t=this.connectionTransport;t&&W.supportRestartICE&&t.restartRecvICE(e.pcid).catch(z.debug)}).on("disconnect",this.handleDisconnect.bind(this)),z.log("init signaling websocket"),this.signaling=n;try{const t=await n.initWs(!0);n.on("@signalingauth",this.handleAuth.bind(this)),await this.handleAuth(t)}catch(e){if(this.signaling&&(this.signaling.release(),this.signaling=void 0),10052===e.code)return await Re(1e3),this.joinRoomWithToken(this.roomToken);throw e}return this.users}async _unpublish(e){if(this.roomState!==Ye.Connected)throw p("not connected to the room");if(0===e.length)return;z.debug("unpublish",e);const t=this.connectionTransport,r=t.publishTracks.filter(t=>-1!==e.indexOf(t.trackId));if(r.length!==e.length)throw p("can not find target trackid to unpublish");await t.removeTracks(r),this.getAllMerger().forEach(e=>e.controller.onRemoveTracks(r.map(e=>e.track.info)));const n=_e(this.users,"userId",this.userId);n&&(n.removeTracksByTrackId(e),n.removePublishedTrackInfo(e)),this.cleanTrackIdsFromMergeJobs(e)}async createMergeJob(e,t){if(this.roomState!==Ye.Connected)throw p("can not createMergeJob, room state is not connected");const r={...te,...t,id:e};z.debug("send create merge job",r,e),this.signaling.mergeJobIndex+=1;const n=await function(e,t,r,n){return e.sendWsMsg(t,r),new Promise(t=>{e.once(n,t)})}(this.signaling,"create-merge-job",r,`create-merge-job-res-${this.signaling.mergeJobIndex}`);if(0!==n.code)throw h(n.code,n.error);this.mergeJobTracks[e]?z.warning("merge job id already exist",e):this.mergeJobTracks[e]=[]}setDefaultMergeStream(e,t,r){if(r&&!this.mergeJobTracks[r])throw O(r);this.merger&&!r&&(this.merger.release(),this.merger=void 0),r&&this.mergeJobMerger[r]&&(this.mergeJobMerger[r].release(),delete this.mergeJobMerger[r]);const n=this.CreateMergerSessionController();r?this.mergeJobMerger[r]=new je(e,t,n,r):this.merger=new je(e,t,n,r)}_stopMerge(e){if(this.roomState!==Ye.Connected)throw p("can not addMergeTracks, room state is not connected");if(e&&!this.mergeJobTracks[e])throw O(e);this.signaling.sendWsMsg("stop-merge",{id:e}),e?(delete this.mergeJobTracks[e],this.mergeJobMerger[e]&&(this.mergeJobMerger[e].release(),delete this.mergeJobMerger[e])):(this.defaultMergeJobTracks=[],this.merger&&(this.merger.release(),this.merger=void 0))}_addMergeTracks(e,t){if(this.roomState!==Ye.Connected)throw p("can not addMergeTracks, room state is not connected");if(t&&!this.mergeJobTracks[t])throw O(t);const r=e.map(e=>({trackid:e.trackId,x:e.x,y:e.y,w:e.w,h:e.h,z:e.z}));this.signaling.sendWsMsg("update-merge-tracks",{id:t,add:r}),t?(this.mergeJobTracks[t]=this.mergeJobTracks[t].concat(e.map(e=>e.trackId)),this.mergeJobTracks[t]=s()(this.mergeJobTracks[t],e=>e)):(this.defaultMergeJobTracks=this.defaultMergeJobTracks.concat(e.map(e=>e.trackId)),this.defaultMergeJobTracks=s()(this.defaultMergeJobTracks,e=>e))}_removeMergeTracks(e,t){if(this.roomState!==Ye.Connected)throw p("can not addMergeTracks, room state is not connected");if(t&&!this.mergeJobTracks[t])throw O(t);this.signaling.sendWsMsg("update-merge-tracks",{id:t,remove:e.map(e=>({trackid:e}))}),t?u()(this.mergeJobTracks[t],t=>-1!==e.indexOf(t)):u()(this.defaultMergeJobTracks,t=>-1!==e.indexOf(t))}async _unsubscribe(e){if(this.roomState!==Ye.Connected)throw p("no signaling model, please run joinRoomWithToken first");const t=this.subscribeTracks.filter(t=>-1!==e.indexOf(t.trackId));z.debug("unsubscribe",t),0!==t.length&&(this.signaling.request("unsub-tracks",{tracks:t.map(e=>({trackid:e.trackId}))}),t.forEach(e=>e.release()),u()(this.subscribeTracks,t=>-1!==e.indexOf(t.trackId)),await this.connectionTransport.removeConsumers(t.map(e=>e.consumer)))}_muteTracks(e){if(this.roomState!==Ye.Connected)throw p("no signaling model, please run joinRoomWithToken first");const t=this.connectionTransport,r={};e.forEach(e=>{r[e.trackId]=e.muted}),t.publishTracks.filter(e=>void 0!==r[e.trackId]).forEach(e=>{e.setMute(r[e.trackId])}),this.signaling.sendWsMsg("mute-tracks",{tracks:e.map(e=>({trackid:e.trackId,muted:e.muted}))})}async kickoutUser(e){z.log("kickoutUser",e),await this.control("kickplayer",e)}sendCustomMessage(e,t){if(this.roomState!==Ye.Connected)throw p("room state is not connected, can not send message");this.signaling.sendWsMsg("send-message",{msgid:Se(8),target:t&&0!==t.length?t:void 0,type:"normal",text:e}),z.debug("send custom message",e,t)}leaveRoom(){z.log("leave room"),this.signaling&&this.signaling.sendWsMsg("disconnect",{}),this.releaseRoom()}_releasePublishTracks(){}async control(e,t){if(this.roomState!==Ye.Connected)throw p("can not connected to the room, please run joinRoom first");const r=await this.signaling.request("control",{command:e,playerid:t});if(r.error)throw S(r.code,r.error)}handlePlayerOut(e){const t=this._users.get(e.playerid);t&&(this._users.delete(e.playerid),u()(this._trackInfo,t=>t.playerid===e.playerid),u()(this.subscribeTracks,e=>e.track.userId===t.userId).forEach(e=>e.release()),Te(()=>{z.debug("user-leave",t),this.emit("user-leave",t)}))}handlePlayerIn(e){const t=le(e);this._users.set(t.userId,t),Te(()=>{z.debug("user-join",t),this.emit("user-join",t)})}handleAddTracks({tracks:e}){z.log("receive track-add",e,{...this._trackInfo});const t=new Set;for(const r of e){const e=_e(this.users,"userId",r.playerid);if(e)if(e.published&&!t.has(e.userId)&&"stream"===this.sessionMode){const t=e.publishedTrackInfo.map(e=>pe(e,!0));this.handleRemoveTracks({tracks:t}),t.push(r),this.handleAddTracks({tracks:t})}else this._trackInfo.push(r),e.addPublishedTrackInfo([de(r)]),t.add(e.userId)}if("stream"===this.sessionMode)for(const r of Array.from(t))Te(()=>{z.debug("user-publish",this._users.get(r)),this.emit("user-publish",this._users.get(r))});Te(()=>{z.debug("track-add",e.map(de)),this.emit("track-add",e.map(de))})}handleRemoveTracks({tracks:e}){z.log("receive track-remove",e,{...this._trackInfo});const t=u()(this._trackInfo,t=>e.map(e=>e.trackid).includes(t.trackid)),r=new Set;for(const n of t){const e=this._users.get(n.playerid);if(!e)continue;e.removePublishedTrackInfo([n.trackid]),e.removeTracksByTrackId([n.trackid]),r.add(e.userId);const t=u()(this.subscribeTracks,e=>e.trackId===n.trackid)[0];t&&t.release()}if(this.cleanTrackIdsFromMergeJobs(e.map(e=>e.trackid)),"stream"===this.sessionMode)for(const n of Array.from(r)){const e=this._users.get(n);if(e.published){const t=e.publishedTrackInfo.map(e=>pe(e,!0));this.handleRemoveTracks({tracks:t}),this.handleAddTracks({tracks:t})}else Te(()=>{z.debug("user-unpublish",e),this.emit("user-unpublish",e)})}Te(()=>{z.debug("track-remove",t.map(de)),this.emit("track-remove",t.map(de))})}handleMute({tracks:e}){for(const t of e){const e=t.trackid,r=t.muted,n=_e(this._trackInfo,"trackid",e);if(!n)return;const i=this._users.get(n.playerid);if(!i)return;const o=i.publishedTrackInfo.find(t=>t.trackId===e);o&&(o.muted=r);const a=i.tracks.find(t=>t.info.trackId===e);a&&(a.info.muted=r,a.setMute(r)),n.muted=r;const s=this.subscribeTracks.filter(t=>t.trackId===e)[0];s&&s.setMute(r);let c=void 0;for(let t=0;t<this._trackInfo.length;t+=1)this._trackInfo[t].playerid===n.playerid&&this._trackInfo[t].kind!==n.kind&&(c=this._trackInfo[t]);const u={userId:n.playerid,muteAudio:!1,muteVideo:!1};"audio"===n.kind?(u.muteAudio=r,u.muteVideo=!!c&&c.muted):(u.muteVideo=r,u.muteAudio=!!c&&c.muted),"stream"===this.sessionMode&&Te(()=>{z.log("user-mute",u),this.emit("user-mute",u)})}Te(()=>{z.log("mute-tracks",e.map(e=>({trackId:e.trackid,muted:e.muted}))),this.emit("mute-tracks",e.map(e=>({trackId:e.trackid,muted:e.muted})))})}handleCustomMessages({messages:e}){z.debug("messages-received",e.map(ue)),this.emit("messages-received",e.map(ue))}handleDisconnect(e){if(z.log("handle disconnect",e),10052===e.code&&this.roomToken)return this.roomState=Ye.Reconnecting,void setTimeout(()=>this.signaling.initWs(),1e3);switch(this.releaseRoom(),e.code){case 10006:this.emit("disconnect",{code:e.code,data:{userId:e.kickedid}});break;default:this.emit("disconnect",{code:e.code})}}async handleAuth(e){if(this.filterSignalTracks(e),z.debug("handleAuth",e),e.error)return void await this.joinRoomWithToken(this.roomToken);e.tracks=e.tracks||[],e.tracks=e.tracks.filter(e=>e.playerid!==this.userId),e.players=e.players||[];const t=this.roomState===Ye.Reconnecting;let r={join:[],leave:[],add:[],remove:[],mute:[]};const n=Array.from(this._users.keys()),i=e.players.map(e=>e.playerid);if(r=function(e,t,r,n,i){const o={join:[],leave:[],add:[],remove:[],mute:[]},a=t.map(e=>e.trackid),s=r.map(e=>e.trackid);return a.forEach((n,i)=>{if(t[i].playerid!==e)if(-1===s.indexOf(n))o.remove.push(t[i]);else{const e=r.find(e=>e.trackid===n),a=t[i];e.versionid!==a.versionid&&(o.remove.push(a),o.add.push(e))}}),s.forEach((n,i)=>{if(r[i].playerid===e)return;const s=a.indexOf(n);-1===s?(o.add.push(r[i]),o.mute.push({trackid:n,muted:r[i].muted})):r[i].muted!==t[s].muted&&o.mute.push({trackid:n,muted:r[i].muted})}),n.forEach(t=>{t!==e&&-1===i.indexOf(t)&&o.leave.push({playerid:t})}),i.forEach(t=>{t!==e&&-1===n.indexOf(t)&&o.join.push({playerid:t})}),o}(this.userId,this._trackInfo,e.tracks,n,i),this.roomState=Ye.Connected,t)z.debug("get missing events",r),r.remove.length>0&&this.handleRemoveTracks({tracks:r.remove}),r.leave.length>0&&r.leave.forEach(this.handlePlayerOut.bind(this)),r.join.length>0&&r.join.forEach(this.handlePlayerIn.bind(this)),r.add.length>0&&this.handleAddTracks({tracks:r.add}),r.mute.length>0&&this.handleMute({tracks:r.mute});else{this._trackInfo=e.tracks,this._users.clear();for(const t of e.players||[]){const e=le(t),r=this._trackInfo.filter(t=>t.playerid===e.userId);e.addPublishedTrackInfo(r.map(de)),this._users.set(e.userId,e)}}if(this.connectionTransport){if(this.connectionTransport.extendedRtpCapabilities=e.rtpcaps,!this.connectionTransport.sendHandler.isPcReady||this.connectionTransport.sendHandler._isRestartingICE)this.connectionTransport.reconnectProducer();else{const e=this.connectionTransport.publishTracks.filter(e=>e.connectStatus===ee.Connecting).map(e=>e.track);0!==e.length&&this._publish(e,!0)}if(!this.connectionTransport.recvHandler.isPcReady||this.connectionTransport.recvHandler._isRestartingICE)this.connectionTransport.resetRecvHandler();else{const e=this.subscribeTracks.filter(e=>e.connectStatus===ee.Connecting).map(e=>e.trackId);0!==e.length&&this._subscribe(e,!0)}}else this.connectionTransport=this.createConnectionTransport(e.rtpcaps)}createConnectionTransport(e){const t=this.signaling,r=new et(e,t);return r.on("@needpubpc",(e,r,n,i)=>{t.request("pubpc",{sdp:e,tracks:r.map(fe)}).then(e=>{switch(e.code){case 0:return void n(e);case 10052:throw E();default:throw b(e.error)}}).catch(i)}),r.on("@needsubpc",(e,r,n)=>{t.request("subpc",{tracks:e.map(e=>({trackid:e}))}).then(e=>{switch(e.code){case 0:return void r(e);case 10052:throw E();default:throw y(e.error)}}).catch(n)}).on("@needresub",()=>{const e=this.subscribeTracks.map(e=>e.trackId);this.subscribeTracks.forEach(e=>e.connectStatus=ee.Connecting),this._subscribe(e,!0)}).on("@needrepub",e=>{this._publish(e.map(e=>e.track),!0)}),r}cleanTrackIdsFromMergeJobs(e){u()(this.defaultMergeJobTracks,t=>-1!==e.indexOf(t));for(const t in this.mergeJobTracks)u()(t,t=>-1!==e.indexOf(t))}CreateMergerSessionController(){const e=new Ae,t=t=>{e.onAddTracks(t)},r=t=>{e.onRemoveTracks(t)};return this.on("track-add",t),this.on("track-remove",r),e.getCurrentTracks=(()=>{if(!this.connectionTransport)return[];const e=this._trackInfo.map(de),t=this.connectionTransport.publishTracks.map(e=>e.track.info);return e.concat(t)}),e.addMergeTrack=((e,t)=>{this._addMergeTracks(e,t)}),e.release=(()=>{this.off("track-add",t),this.off("track-remove",r)}),e}getAllMerger(){const e=[];this.merger&&e.push(this.merger);for(const t in this.mergeJobMerger)e.push(this.mergeJobMerger[t]);return e}releaseRoom(){this.releaseSession(),this.signaling&&(this.signaling.release(),this.signaling=void 0),this.connectionTransport&&(this.connectionTransport.release(),this.connectionTransport=void 0),this.getAllMerger().map(e=>{e.release()}),this.defaultMergeJobTracks=[],this.mergeJobTracks={},this.merger=void 0,this.mergeJobMerger={},this.roomState=Ye.Idle,this._trackInfo=[],this._users.clear(),this.userId=void 0,this.subscribeTracks.forEach(e=>{e.release()}),this.subscribeTracks=[]}}class rt extends o.a{constructor(e,t="send",r){super(),this.trackList=[],this.isDestroyed=!1,this.enableAudio=!0,this.enableVideo=!0,this.muteAudio=!1,this.muteVideo=!1,this.direction=t,this.userId=r,e.forEach(e=>{e.on("mute",()=>{this.updateTrackState()}),e.on("release",()=>{u()(this.trackList,t=>t===e),this.updateTrackState(),0===this.trackList.length&&this.release()}),this.trackList.push(e)}),this.updateTrackState()}setVolume(e){this._audioTrack&&this._audioTrack.setVolume(e)}play(e,t){this.trackList.forEach(r=>r.play(e,t)),this._audioTrack&&(this.audio=this._audioTrack.mediaElement),this._videoTrack&&(this.video=this._videoTrack.mediaElement)}setAudioBufferData(e,t){this._audioTrack&&"buffer"===this._audioTrack.sourceType&&(this._audioTrack.setAudioBuffer(e),this._audioTrack.playAudioBuffer(t))}onAudioBuffer(e,t){this._audioTrack&&this._audioTrack.onAudioBuffer(e,t)}getCurrentTimeDomainData(){return this._audioTrack?this._audioTrack.getCurrentTimeDomainData():new Uint8Array(0)}getCurrentFrequencyData(){return this._audioTrack?this._audioTrack.getCurrentFrequencyData():new Uint8Array(0)}getStats(){const e=this._audioTrack?this._audioTrack.getStats():J,t=this._videoTrack?this._videoTrack.getStats():J;return{timestamp:Date.now(),videoBitrate:t.bitrate,audioBitrate:e.bitrate,videoPacketLoss:t.packetLoss,audioPacketLoss:e.packetLoss,videoPackets:t.packets,audioPackets:e.packets,videoPacketLossRate:t.packetLossRate,audioPacketLossRate:e.packetLossRate,videoBytes:t.bytes,audioBytes:e.bytes,pctype:this.direction}}setKbps(e,t){e&&this._videoTrack&&this._videoTrack.setKbps(e),t&&this._audioTrack&&this._audioTrack.setKbps(t)}updateTrackState(){this.trackList.forEach(e=>{"audio"===e.info.kind?(this.audioTrack=e.mediaTrack,this._audioTrack=e):(this.videoTrack=e.mediaTrack,this._videoTrack=e)}),this.audioTrack?(this.enableAudio=!0,this.muteAudio=!this.audioTrack.enabled):this.enableAudio=!1,this.videoTrack?(this.enableVideo=!0,this.muteVideo=!this.videoTrack.enabled):this.enableVideo=!1}release(){if(!this.isDestroyed){for(let e=0;e<this.trackList.length;e+=1){const t=this.trackList[e];t.removeAllListeners("release"),t.release()}this.trackList=[],this.isDestroyed=!0,this.emit("release"),this.removeEvent()}}releaseTrack(e){const{removeElement:t,newArray:r}=function(e,t,r){const n=[];let i=null;for(let o=0;o<e.length;o+=1)e[o][t]!==r?n.push(e[o]):i=e[o];return{removeElement:i,newArray:n}}(this.trackList,"mediaTrack",e.mediaTrack);t&&(e.release(),this.trackList=r,0===this.trackList.length&&(this.isDestroyed=!0))}}class nt extends tt{constructor(){super(),this.subscribedUsers={},this.sessionMode="stream"}async publish(e){if(!this.stream)return e.userId=this.userId,this.stream=e,await this._publish(e.trackList);z.warning("repeat publish, please unpublish first!")}async unpublish(){if(!this.connectionTransport)return;const e=this.connectionTransport.publishTracks.map(e=>e.trackId);await this._unpublish(e),this.stream=void 0}setMergeStreamLayout(e,t){let r=void 0;if(!(r=t.id?this.mergeJobTracks[t.id]:this.defaultMergeJobTracks))throw O(t.id);const n=_e(this.users,"userId",e);if(!n||!n.published)return void z.warning(`can not setMergeOption, user ${e} is published ?`);const i=t;!1===t.visible&&(i.hidden=!0);const o=i.id,a=!!i.hidden,s=!!i.muted;delete i.id,delete i.hidden,delete i.muted;const c=[],u=[];for(const d of n.publishedTrackInfo)"audio"===d.kind&&s?u.push(d.trackId):"audio"===d.kind&&c.push({trackId:d.trackId}),"video"===d.kind&&a?u.push(d.trackId):"video"===d.kind&&c.push({...i,trackId:d.trackId});this._addMergeTracks(c,o),this._removeMergeTracks(u,o)}stopMergeStream(e){this._stopMerge(e)}async subscribe(e){if(e===this.userId)throw k(10044,"can not subscribe yourself");const t=this._trackInfo.filter(t=>t.playerid===e&&t.master);if(0===t.length)throw k(10041,`subscribe user ${e} is not published`);const r=t.map(e=>e.trackid),n=await this._subscribe(r);return this.subscribedUsers[e]=new rt(n,"recv",e),this.subscribedUsers[e].once("release",()=>{delete this.subscribedUsers[e]}),this.subscribedUsers[e]}async unsubscribe(e){this.subscribedUsers[e]?(await this._unsubscribe(this.subscribedUsers[e].trackList.map(e=>e.info.trackId)),delete this.subscribedUsers[e]):z.warning("user",e,"is not in subscribedUsers")}mute(e,t=!1){if(!this.stream)return void z.warning("can not mute, please run publish first");const r=[];this.stream._audioTrack&&this.stream._audioTrack.info.muted!==e&&r.push({trackId:this.stream._audioTrack.info.trackId,muted:e}),this.stream._videoTrack&&this.stream._videoTrack.info.muted!==t&&r.push({trackId:this.stream._videoTrack.info.trackId,muted:t}),this._muteTracks(r)}filterSignalTracks(e){e.tracks&&(e.tracks=e.tracks.filter(e=>{if(void 0!==e.master&&null!==e.master)return e.master;const t=this._trackInfo.find(t=>t.trackid===e.trackid);return!!t&&t.master}))}releaseSession(){this.stream&&(this.stream.release(),this.stream=void 0);for(const e in this.subscribedUsers)this.subscribedUsers[e].release();this.subscribedUsers={}}}class it extends tt{get publishedTracks(){return this.connectionTransport?this.connectionTransport.publishTracks.filter(e=>e.connectStatus===ee.Connect).map(e=>e.track):[]}get subscribedTracks(){return this.subscribeTracks.filter(e=>e.connectStatus===ee.Connect).map(e=>e.track)}get mergeStreamTracks(){return this.defaultMergeJobTracks}get mergeStreamJobTracks(){return this.mergeJobTracks}constructor(){super(),this.sessionMode="track"}async publish(e){return await this._publish(e)}async unpublish(e){return await this._unpublish(e)}async subscribe(e){return await this._subscribe(e)}async unsubscribe(e){return await this._unsubscribe(e)}muteTracks(e){this._muteTracks(e)}addMergeStreamTracks(e,t){this._addMergeTracks(e,t)}removeMergeStreamTracks(e,t){this._removeMergeTracks(e,t)}stopMergeStream(e){this._stopMerge(e)}filterSignalTracks(){}releaseSession(){}}const ot={audio:{enabled:!0},video:{enabled:!0,bitrate:600}};class at extends o.a{constructor(){super(),this.deviceMap={},W.support&&(this.updateDeivceInfo(),W.ondevicechange||window.setInterval(this.updateDeivceInfo.bind(this),1e3),W.ondevicechange&&(navigator.mediaDevices.ondevicechange=this.updateDeivceInfo.bind(this)))}async getLocalTracks(e){this.config=e||ot,z.debug("get local tracks",this.config);let t=null;if(Y(this.config)&&Z(this.config)){const r={screen:this.config.screen},n=await this.getLocalTracks(r);this.config=e||ot,t=n[0],this.config={video:this.config.video,audio:this.config.audio}}const r=await async function(e){if(!e)return{audio:!0,video:!0};if(Y(e)){if(Z(e))throw p("can not get mediaStream with video and screen are all enabled");if(!W.screenSharing)throw R("your browser can not share screen");if(B&&!await ae())throw x("")}const t=!(!e.audio||!e.audio.enabled||e.audio.buffer)&&{deviceId:e.audio.deviceId,sampleRate:e.audio.sampleRate,sampleSize:e.audio.sampleSize,channelCount:e.audio.channelCount,autoGainControl:e.audio.autoGainControl,echoCancellation:e.audio.echoCancellation,noiseSuppression:e.audio.noiseSuppression};if(e.audio&&e.audio.buffer&&!W.mediaStreamDest)throw R("not support audio buffer input");const r=!(!e.video||!e.video.enabled)&&{frameRate:e.video.frameRate,height:e.video.height,width:e.video.width,deviceId:e.video.deviceId};return e.screen?me(he(ke({audio:t,video:await se(!1,e.screen)}))):me(he(ke({audio:t,video:r})))}(this.config);let n;try{n=await this.getUserMedia(r,!0)}catch(e){throw"NotAllowedError"===e.name?P(""):e}let i=void 0,o=void 0,a=void 0,s=void 0;X(this.config)&&(o=this.config.audio.bitrate,s=this.config.audio.tag),Y(this.config)&&(i=this.config.screen.bitrate,a=this.config.screen.tag),Z(this.config)&&(i=this.config.video.bitrate,a=this.config.video.tag);const c=n?n.getTracks():[],u=[];for(const d of c){let e;"audio"===d.kind?((e=new We(d)).setInfo({tag:s}),await e.initAudioManager(!0)):(e=new $e(d)).setInfo({tag:a}),"audio"===d.kind&&o&&e.setKbps(o),"video"===d.kind&&i&&e.setKbps(i),u.push(e)}if(this.config.audio&&this.config.audio.buffer){const e=await ze();o&&e.setKbps(o),e.setInfo({tag:this.config.audio.tag}),u.push(e)}return t&&u.push(t),u}async getLocalStream(e){if(e&&Y(e)&&Z(e))throw p("can not get local stream with video and screen");const t=await this.getLocalTracks(e);return t.forEach(e=>e.setMaster(!0)),new rt(t,"send")}async getUserMedia(e,t){if(z.debug("request to get user media",e),!e.audio&&!e.video)return null;return B&&Y(this.config)&&X(this.config)?await this.mergeChromeScreenAudioStream(e):await navigator.mediaDevices.getUserMedia(e)}async mergeChromeScreenAudioStream(e){if(!e.audio||!e.video||(!e.video).mandatory)return await navigator.mediaDevices.getUserMedia(e);const t=await navigator.mediaDevices.getUserMedia({audio:e.audio}),r=await navigator.mediaDevices.getUserMedia({video:e.video});return r.addTrack(t.getAudioTracks()[0]),r}async updateDeivceInfo(){this.deviceInfo=await navigator.mediaDevices.enumerateDevices();const e=this.deviceInfo.map(e=>e.deviceId),t=Object.keys(this.deviceMap);let r=!1;t.forEach(t=>{-1===e.indexOf(t)&&"@default"!==t?(this.emit("device-remove",this.deviceMap[t].device),delete this.deviceMap[t],r=!0):this.deviceMap[t].tick+=1}),e.forEach((e,n)=>{-1===t.indexOf(e)&&"@default"!==e&&(this.deviceMap[e]={device:this.deviceInfo[n],tick:0},this.emit("device-add",this.deviceMap[e].device),r=!0)}),r&&this.emit("device-update",this.deviceInfo)}}const st=new at;r.d(t,"StreamModeSession",function(){return nt}),r.d(t,"TrackModeSession",function(){return it}),r.d(t,"version",function(){return Ee}),r.d(t,"REC_AUDIO_ENABLE",function(){return X}),r.d(t,"REC_VIDEO_ENABLE",function(){return Z}),r.d(t,"REC_SCREEN_ENABLE",function(){return Y}),r.d(t,"TrackConnectStatus",function(){return ee}),r.d(t,"defaultMergeJob",function(){return te}),r.d(t,"DeviceManager",function(){return at}),r.d(t,"deviceManager",function(){return st}),r.d(t,"Stream",function(){return rt}),r.d(t,"Track",function(){return $e}),r.d(t,"AudioTrack",function(){return We}),r.d(t,"createAudioTrackWithAudioBuffer",function(){return ze}),r.d(t,"RoomState",function(){return Ye}),r.d(t,"log",function(){return z}),r.d(t,"User",function(){return ce}),r.d(t,"browserReport",function(){return W}),r.d(t,"decodeAudioData",function(){return Ge}),r.d(t,"isChromeExtensionAvailable",function(){return ae})}])}).call(this,r("c8ba"),r("4362"))},ac4d:function(e,t,r){r("3a72")("asyncIterator")},ac6a:function(e,t,r){for(var n=r("cadf"),i=r("0d58"),o=r("2aba"),a=r("7726"),s=r("32e9"),c=r("84f2"),u=r("2b4c"),d=u("iterator"),p=u("toStringTag"),f=c.Array,l={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},h=i(l),m=0;m<h.length;m++){var v,g=h[m],y=l[g],b=a[g],w=b&&b.prototype;if(w&&(w[d]||s(w,d,f),w[p]||s(w,p,g),c[g]=f,y))for(v in n)w[v]||o(w,v,n[v],!0)}},b50d:function(e,t,r){"use strict";var n=r("c532"),i=r("467f"),o=r("30b5"),a=r("c345"),s=r("3934"),c=r("2d83"),u="undefined"!==typeof window&&window.btoa&&window.btoa.bind(window)||r("9fa6");e.exports=function(e){return new Promise(function(t,d){var p=e.data,f=e.headers;n.isFormData(p)&&delete f["Content-Type"];var l=new XMLHttpRequest,h="onreadystatechange",m=!1;if("undefined"===typeof window||!window.XDomainRequest||"withCredentials"in l||s(e.url)||(l=new window.XDomainRequest,h="onload",m=!0,l.onprogress=function(){},l.ontimeout=function(){}),e.auth){var v=e.auth.username||"",g=e.auth.password||"";f.Authorization="Basic "+u(v+":"+g)}if(l.open(e.method.toUpperCase(),o(e.url,e.params,e.paramsSerializer),!0),l.timeout=e.timeout,l[h]=function(){if(l&&(4===l.readyState||m)&&(0!==l.status||l.responseURL&&0===l.responseURL.indexOf("file:"))){var r="getAllResponseHeaders"in l?a(l.getAllResponseHeaders()):null,n=e.responseType&&"text"!==e.responseType?l.response:l.responseText,o={data:n,status:1223===l.status?204:l.status,statusText:1223===l.status?"No Content":l.statusText,headers:r,config:e,request:l};i(t,d,o),l=null}},l.onerror=function(){d(c("Network Error",e,null,l)),l=null},l.ontimeout=function(){d(c("timeout of "+e.timeout+"ms exceeded",e,"ECONNABORTED",l)),l=null},n.isStandardBrowserEnv()){var y=r("7aac"),b=(e.withCredentials||s(e.url))&&e.xsrfCookieName?y.read(e.xsrfCookieName):void 0;b&&(f[e.xsrfHeaderName]=b)}if("setRequestHeader"in l&&n.forEach(f,function(e,t){"undefined"===typeof p&&"content-type"===t.toLowerCase()?delete f[t]:l.setRequestHeader(t,e)}),e.withCredentials&&(l.withCredentials=!0),e.responseType)try{l.responseType=e.responseType}catch(w){if("json"!==e.responseType)throw w}"function"===typeof e.onDownloadProgress&&l.addEventListener("progress",e.onDownloadProgress),"function"===typeof e.onUploadProgress&&l.upload&&l.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then(function(e){l&&(l.abort(),d(e),l=null)}),void 0===p&&(p=null),l.send(p)})}},bc3a:function(e,t,r){e.exports=r("cee4")},bcaa:function(e,t,r){var n=r("cb7c"),i=r("d3f4"),o=r("a5b8");e.exports=function(e,t){if(n(e),i(t)&&t.constructor===e)return t;var r=o.f(e),a=r.resolve;return a(t),r.promise}},be13:function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},bee2:function(e,t,r){"use strict";function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}r.d(t,"a",function(){return i})},c345:function(e,t,r){"use strict";var n=r("c532"),i=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,r,o,a={};return e?(n.forEach(e.split("\n"),function(e){if(o=e.indexOf(":"),t=n.trim(e.substr(0,o)).toLowerCase(),r=n.trim(e.substr(o+1)),t){if(a[t]&&i.indexOf(t)>=0)return;a[t]="set-cookie"===t?(a[t]?a[t]:[]).concat([r]):a[t]?a[t]+", "+r:r}}),a):a}},c366:function(e,t,r){var n=r("6821"),i=r("9def"),o=r("77f1");e.exports=function(e){return function(t,r,a){var s,c=n(t),u=i(c.length),d=o(a,u);if(e&&r!=r){while(u>d)if(s=c[d++],s!=s)return!0}else for(;u>d;d++)if((e||d in c)&&c[d]===r)return e||d||0;return!e&&-1}}},c401:function(e,t,r){"use strict";var n=r("c532");e.exports=function(e,t,r){return n.forEach(r,function(r){e=r(e,t)}),e}},c532:function(e,t,r){"use strict";var n=r("1d2b"),i=r("044b"),o=Object.prototype.toString;function a(e){return"[object Array]"===o.call(e)}function s(e){return"[object ArrayBuffer]"===o.call(e)}function c(e){return"undefined"!==typeof FormData&&e instanceof FormData}function u(e){var t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer,t}function d(e){return"string"===typeof e}function p(e){return"number"===typeof e}function f(e){return"undefined"===typeof e}function l(e){return null!==e&&"object"===typeof e}function h(e){return"[object Date]"===o.call(e)}function m(e){return"[object File]"===o.call(e)}function v(e){return"[object Blob]"===o.call(e)}function g(e){return"[object Function]"===o.call(e)}function y(e){return l(e)&&g(e.pipe)}function b(e){return"undefined"!==typeof URLSearchParams&&e instanceof URLSearchParams}function w(e){return e.replace(/^\s*/,"").replace(/\s*$/,"")}function _(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)}function k(e,t){if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),a(e))for(var r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(null,e[i],i,e)}function T(){var e={};function t(t,r){"object"===typeof e[r]&&"object"===typeof t?e[r]=T(e[r],t):e[r]=t}for(var r=0,n=arguments.length;r<n;r++)k(arguments[r],t);return e}function C(e,t,r){return k(t,function(t,i){e[i]=r&&"function"===typeof t?n(t,r):t}),e}e.exports={isArray:a,isArrayBuffer:s,isBuffer:i,isFormData:c,isArrayBufferView:u,isString:d,isNumber:p,isObject:l,isUndefined:f,isDate:h,isFile:m,isBlob:v,isFunction:g,isStream:y,isURLSearchParams:b,isStandardBrowserEnv:_,forEach:k,merge:T,extend:C,trim:w}},c69a:function(e,t,r){e.exports=!r("9e1e")&&!r("79e5")(function(){return 7!=Object.defineProperty(r("230e")("div"),"a",{get:function(){return 7}}).a})},c8af:function(e,t,r){"use strict";var n=r("c532");e.exports=function(e,t){n.forEach(e,function(r,n){n!==t&&n.toUpperCase()===t.toUpperCase()&&(e[t]=r,delete e[n])})}},c8ba:function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(n){"object"===typeof window&&(r=window)}e.exports=r},ca5a:function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++r+n).toString(36))}},cadf:function(e,t,r){"use strict";var n=r("9c6c"),i=r("d53b"),o=r("84f2"),a=r("6821");e.exports=r("01f9")(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,r=this._i++;return!e||r>=e.length?(this._t=void 0,i(1)):i(0,"keys"==t?r:"values"==t?e[r]:[r,e[r]])},"values"),o.Arguments=o.Array,n("keys"),n("values"),n("entries")},cb7c:function(e,t,r){var n=r("d3f4");e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},cd1c:function(e,t,r){var n=r("e853");e.exports=function(e,t){return new(n(e))(t)}},ce10:function(e,t,r){var n=r("69a8"),i=r("6821"),o=r("c366")(!1),a=r("613b")("IE_PROTO");e.exports=function(e,t){var r,s=i(e),c=0,u=[];for(r in s)r!=a&&n(s,r)&&u.push(r);while(t.length>c)n(s,r=t[c++])&&(~o(u,r)||u.push(r));return u}},cee4:function(e,t,r){"use strict";var n=r("c532"),i=r("1d2b"),o=r("0a06"),a=r("2444");function s(e){var t=new o(e),r=i(o.prototype.request,t);return n.extend(r,o.prototype,t),n.extend(r,t),r}var c=s(a);c.Axios=o,c.create=function(e){return s(n.merge(a,e))},c.Cancel=r("7a77"),c.CancelToken=r("8df4"),c.isCancel=r("2e67"),c.all=function(e){return Promise.all(e)},c.spread=r("0df6"),e.exports=c,e.exports.default=c},d3f4:function(e,t){e.exports=function(e){return"object"===typeof e?null!==e:"function"===typeof e}},d4c0:function(e,t,r){var n=r("0d58"),i=r("2621"),o=r("52a7");e.exports=function(e){var t=n(e),r=i.f;if(r){var a,s=r(e),c=o.f,u=0;while(s.length>u)c.call(e,a=s[u++])&&t.push(a)}return t}},d4ec:function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}r.d(t,"a",function(){return n})},d53b:function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},d8e8:function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},d925:function(e,t,r){"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},dcbc:function(e,t,r){var n=r("2aba");e.exports=function(e,t,r){for(var i in t)n(e,i,t[i],r);return e}},df7c:function(e,t,r){(function(e){function r(e,t){for(var r=0,n=e.length-1;n>=0;n--){var i=e[n];"."===i?e.splice(n,1):".."===i?(e.splice(n,1),r++):r&&(e.splice(n,1),r--)}if(t)for(;r--;r)e.unshift("..");return e}var n=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,i=function(e){return n.exec(e).slice(1)};function o(e,t){if(e.filter)return e.filter(t);for(var r=[],n=0;n<e.length;n++)t(e[n],n,e)&&r.push(e[n]);return r}t.resolve=function(){for(var t="",n=!1,i=arguments.length-1;i>=-1&&!n;i--){var a=i>=0?arguments[i]:e.cwd();if("string"!==typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(t=a+"/"+t,n="/"===a.charAt(0))}return t=r(o(t.split("/"),function(e){return!!e}),!n).join("/"),(n?"/":"")+t||"."},t.normalize=function(e){var n=t.isAbsolute(e),i="/"===a(e,-1);return e=r(o(e.split("/"),function(e){return!!e}),!n).join("/"),e||n||(e="."),e&&i&&(e+="/"),(n?"/":"")+e},t.isAbsolute=function(e){return"/"===e.charAt(0)},t.join=function(){var e=Array.prototype.slice.call(arguments,0);return t.normalize(o(e,function(e,t){if("string"!==typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},t.relative=function(e,r){function n(e){for(var t=0;t<e.length;t++)if(""!==e[t])break;for(var r=e.length-1;r>=0;r--)if(""!==e[r])break;return t>r?[]:e.slice(t,r-t+1)}e=t.resolve(e).substr(1),r=t.resolve(r).substr(1);for(var i=n(e.split("/")),o=n(r.split("/")),a=Math.min(i.length,o.length),s=a,c=0;c<a;c++)if(i[c]!==o[c]){s=c;break}var u=[];for(c=s;c<i.length;c++)u.push("..");return u=u.concat(o.slice(s)),u.join("/")},t.sep="/",t.delimiter=":",t.dirname=function(e){var t=i(e),r=t[0],n=t[1];return r||n?(n&&(n=n.substr(0,n.length-1)),r+n):"."},t.basename=function(e,t){var r=i(e)[2];return t&&r.substr(-1*t.length)===t&&(r=r.substr(0,r.length-t.length)),r},t.extname=function(e){return i(e)[3]};var a="b"==="ab".substr(-1)?function(e,t,r){return e.substr(t,r)}:function(e,t,r){return t<0&&(t=e.length+t),e.substr(t,r)}}).call(this,r("4362"))},e11e:function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},e683:function(e,t,r){"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},e853:function(e,t,r){var n=r("d3f4"),i=r("1169"),o=r("2b4c")("species");e.exports=function(e){var t;return i(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!i(t.prototype)||(t=void 0),n(t)&&(t=t[o],null===t&&(t=void 0))),void 0===t?Array:t}},ebd6:function(e,t,r){var n=r("cb7c"),i=r("d8e8"),o=r("2b4c")("species");e.exports=function(e,t){var r,a=n(e).constructor;return void 0===a||void 0==(r=n(a)[o])?t:i(r)}},f605:function(e,t){e.exports=function(e,t,r,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(r+": incorrect invocation!");return e}},f6b4:function(e,t,r){"use strict";var n=r("c532");function i(){this.handlers=[]}i.prototype.use=function(e,t){return this.handlers.push({fulfilled:e,rejected:t}),this.handlers.length-1},i.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},i.prototype.forEach=function(e){n.forEach(this.handlers,function(t){null!==t&&e(t)})},e.exports=i},fab2:function(e,t,r){var n=r("7726").document;e.exports=n&&n.documentElement}}]);
//# sourceMappingURL=chunk-vendors.e471da9f.js.map